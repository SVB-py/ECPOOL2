var Hx=e=>{throw TypeError(e)};var lf=(e,t,n)=>t.has(e)||Hx("Cannot "+n);var ee=(e,t,n)=>(lf(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?Hx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,r)=>(lf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vt=(e,t,n)=>(lf(e,t,"access private method"),n);var td=(e,t,n,r)=>({set _(i){Re(e,t,i,n)},get _(){return ee(e,t,r)}});function wC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _C(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Uw={exports:{}},Fu={},Ww={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),bC=Symbol.for("react.portal"),jC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),Vx=Symbol.iterator;function RC(e){return e===null||typeof e!="object"?null:(e=Vx&&e[Vx]||e["@@iterator"],typeof e=="function"?e:null)}var Hw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,qw={};function Co(e,t,n){this.props=e,this.context=t,this.refs=qw,this.updater=n||Hw}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kw(){}Kw.prototype=Co.prototype;function Yp(e,t,n){this.props=e,this.context=t,this.refs=qw,this.updater=n||Hw}var Qp=Yp.prototype=new Kw;Qp.constructor=Yp;Vw(Qp,Co.prototype);Qp.isPureReactComponent=!0;var qx=Array.isArray,Zw=Object.prototype.hasOwnProperty,Jp={current:null},Gw={key:!0,ref:!0,__self:!0,__source:!0};function Yw(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Zw.call(t,r)&&!Gw.hasOwnProperty(r)&&(i[r]=t[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var u=Array(d),h=0;h<d;h++)u[h]=arguments[h+2];i.children=u}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:uc,type:e,key:o,ref:l,props:i,_owner:Jp.current}}function MC(e,t){return{$$typeof:uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xp(e){return typeof e=="object"&&e!==null&&e.$$typeof===uc}function AC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kx=/\/+/g;function cf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AC(""+e.key):t.toString(36)}function Rd(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case uc:case bC:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+cf(l,0):r,qx(i)?(n="",e!=null&&(n=e.replace(Kx,"$&/")+"/"),Rd(i,t,n,"",function(h){return h})):i!=null&&(Xp(i)&&(i=MC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Kx,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",qx(e))for(var d=0;d<e.length;d++){o=e[d];var u=r+cf(o,d);l+=Rd(o,t,n,u,i)}else if(u=RC(e),typeof u=="function")for(e=u.call(e),d=0;!(o=e.next()).done;)o=o.value,u=r+cf(o,d++),l+=Rd(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function nd(e,t,n){if(e==null)return e;var r=[],i=0;return Rd(e,r,"","",function(o){return t.call(n,o,i++)}),r}function LC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},Md={transition:null},IC={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Md,ReactCurrentOwner:Jp};function Qw(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:nd,forEach:function(e,t,n){nd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nd(e,function(){t++}),t},toArray:function(e){return nd(e,function(t){return t})||[]},only:function(e){if(!Xp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=Co;$e.Fragment=jC;$e.Profiler=SC;$e.PureComponent=Yp;$e.StrictMode=NC;$e.Suspense=PC;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;$e.act=Qw;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vw({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Jp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in t)Zw.call(t,u)&&!Gw.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&d!==void 0?d[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){d=Array(u);for(var h=0;h<u;h++)d[h]=arguments[h+2];r.children=d}return{$$typeof:uc,type:e.type,key:i,ref:o,props:r,_owner:l}};$e.createContext=function(e){return e={$$typeof:CC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kC,_context:e},e.Consumer=e};$e.createElement=Yw;$e.createFactory=function(e){var t=Yw.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:EC,render:e}};$e.isValidElement=Xp;$e.lazy=function(e){return{$$typeof:OC,_payload:{_status:-1,_result:e},_init:LC}};$e.memo=function(e,t){return{$$typeof:TC,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=Md.transition;Md.transition={};try{e()}finally{Md.transition=t}};$e.unstable_act=Qw;$e.useCallback=function(e,t){return on.current.useCallback(e,t)};$e.useContext=function(e){return on.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return on.current.useDeferredValue(e)};$e.useEffect=function(e,t){return on.current.useEffect(e,t)};$e.useId=function(){return on.current.useId()};$e.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return on.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};$e.useRef=function(e){return on.current.useRef(e)};$e.useState=function(e){return on.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return on.current.useTransition()};$e.version="18.3.1";Ww.exports=$e;var v=Ww.exports;const ce=Gp(v),eg=wC({__proto__:null,default:ce},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=v,zC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,BC=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UC={key:!0,ref:!0,__self:!0,__source:!0};function Jw(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)FC.call(t,r)&&!UC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zC,type:e,key:o,ref:l,props:i,_owner:BC.current}}Fu.Fragment=$C;Fu.jsx=Jw;Fu.jsxs=Jw;Uw.exports=Fu;var s=Uw.exports,Xw={exports:{}},Ln={},e_={exports:{}},t_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,K){var U=T.length;T.push(K);e:for(;0<U;){var W=U-1>>>1,D=T[W];if(0<i(D,K))T[W]=K,T[U]=D,U=W;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var K=T[0],U=T.pop();if(U!==K){T[0]=U;e:for(var W=0,D=T.length,se=D>>>1;W<se;){var Q=2*(W+1)-1,ie=T[Q],te=Q+1,A=T[te];if(0>i(ie,U))te<D&&0>i(A,ie)?(T[W]=A,T[te]=U,W=te):(T[W]=ie,T[Q]=U,W=Q);else if(te<D&&0>i(A,U))T[W]=A,T[te]=U,W=te;else break e}}return K}function i(T,K){var U=T.sortIndex-K.sortIndex;return U!==0?U:T.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],h=[],m=1,p=null,x=3,y=!1,k=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=T)r(h),K.sortIndex=K.expirationTime,t(u,K);else break;K=n(h)}}function C(T){if(_=!1,b(T),!k)if(n(u)!==null)k=!0,V(P);else{var K=n(h);K!==null&&B(C,K.startTime-T)}}function P(T,K){k=!1,_&&(_=!1,S($),$=-1),y=!0;var U=x;try{for(b(K),p=n(u);p!==null&&(!(p.expirationTime>K)||T&&!Y());){var W=p.callback;if(typeof W=="function"){p.callback=null,x=p.priorityLevel;var D=W(p.expirationTime<=K);K=e.unstable_now(),typeof D=="function"?p.callback=D:p===n(u)&&r(u),b(K)}else r(u);p=n(u)}if(p!==null)var se=!0;else{var Q=n(h);Q!==null&&B(C,Q.startTime-K),se=!1}return se}finally{p=null,x=U,y=!1}}var I=!1,M=null,$=-1,H=5,G=-1;function Y(){return!(e.unstable_now()-G<H)}function X(){if(M!==null){var T=e.unstable_now();G=T;var K=!0;try{K=M(!0,T)}finally{K?J():(I=!1,M=null)}}else I=!1}var J;if(typeof w=="function")J=function(){w(X)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Z=O.port2;O.port1.onmessage=X,J=function(){Z.postMessage(null)}}else J=function(){N(X,0)};function V(T){M=T,I||(I=!0,J())}function B(T,K){$=N(function(){T(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,V(P))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var U=x;x=K;try{return T()}finally{x=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=x;x=T;try{return K()}finally{x=U}},e.unstable_scheduleCallback=function(T,K,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=U+D,T={id:m++,callback:K,priorityLevel:T,startTime:U,expirationTime:D,sortIndex:-1},U>W?(T.sortIndex=U,t(h,T),n(u)===null&&T===n(h)&&(_?(S($),$=-1):_=!0,B(C,U-W))):(T.sortIndex=D,t(u,T),k||y||(k=!0,V(P))),T},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(T){var K=x;return function(){var U=x;x=K;try{return T.apply(this,arguments)}finally{x=U}}}})(t_);e_.exports=t_;var WC=e_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=v,Rn=WC;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n_=new Set,Ll={};function ta(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Ll[e]=t,e=0;e<t.length;e++)n_.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zx={},Gx={};function qC(e){return gm.call(Gx,e)?!0:gm.call(Zx,e)?!1:VC.test(e)?Gx[e]=!0:(Zx[e]=!0,!1)}function KC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZC(e,t,n,r){if(t===null||typeof t>"u"||KC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var tg=/[\-:]([a-z])/g;function ng(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tg,ng);Wt[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tg,ng);Wt[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tg,ng);Wt[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function rg(e,t,n,r){var i=Wt.hasOwnProperty(t)?Wt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZC(t,n,i,r)&&(n=null),r||i===null?qC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ps=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),La=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),r_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),Yx=Symbol.iterator;function Xo(e){return e===null||typeof e!="object"?null:(e=Yx&&e[Yx]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,df;function hl(e){if(df===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);df=t&&t[1]||""}return`
`+df+e}var uf=!1;function hf(e,t){if(!e||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=d);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function GC(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=hf(e.type,!1),e;case 11:return e=hf(e.type.render,!1),e;case 1:return e=hf(e.type,!0),e;default:return""}}function wm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia:return"Fragment";case La:return"Portal";case vm:return"Profiler";case sg:return"StrictMode";case xm:return"Suspense";case ym:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s_:return(e.displayName||"Context")+".Consumer";case r_:return(e._context.displayName||"Context")+".Provider";case ig:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ag:return t=e.displayName||null,t!==null?t:wm(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return wm(e(t))}catch{}}return null}function YC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(t);case 8:return t===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QC(e){var t=a_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=QC(e))}function o_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=a_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _m(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l_(e,t){t=t.checked,t!=null&&rg(e,"checked",t,!1)}function bm(e,t){l_(e,t);var n=ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jm(e,t.type,n):t.hasOwnProperty("defaultValue")&&jm(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jm(e,t,n){(t!=="number"||Qd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fl=Array.isArray;function Ka(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(fl(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ri(n)}}function c_(e,t){var n=ri(t.value),r=ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var id,u_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=id.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JC=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(e){JC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wl[t]=wl[e]})});function h_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wl.hasOwnProperty(e)&&wl[e]?(""+t).trim():t+"px"}function f_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=h_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var XC=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(e,t){if(t){if(XC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Cm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pm=null,Za=null,Ga=null;function ty(e){if(e=mc(e)){if(typeof Pm!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Vu(t),Pm(e.stateNode,e.type,t))}}function m_(e){Za?Ga?Ga.push(e):Ga=[e]:Za=e}function p_(){if(Za){var e=Za,t=Ga;if(Ga=Za=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function g_(e,t){return e(t)}function v_(){}var ff=!1;function x_(e,t,n){if(ff)return e(t,n);ff=!0;try{return g_(e,t,n)}finally{ff=!1,(Za!==null||Ga!==null)&&(v_(),p_())}}function Dl(e,t){var n=e.stateNode;if(n===null)return null;var r=Vu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var Tm=!1;if(ls)try{var el={};Object.defineProperty(el,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Tm=!1}function eE(e,t,n,r,i,o,l,d,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var _l=!1,Jd=null,Xd=!1,Om=null,tE={onError:function(e){_l=!0,Jd=e}};function nE(e,t,n,r,i,o,l,d,u){_l=!1,Jd=null,eE.apply(tE,arguments)}function rE(e,t,n,r,i,o,l,d,u){if(nE.apply(this,arguments),_l){if(_l){var h=Jd;_l=!1,Jd=null}else throw Error(le(198));Xd||(Xd=!0,Om=h)}}function na(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ny(e){if(na(e)!==e)throw Error(le(188))}function sE(e){var t=e.alternate;if(!t){if(t=na(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ny(i),e;if(o===r)return ny(i),t;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,d=i.child;d;){if(d===n){l=!0,n=i,r=o;break}if(d===r){l=!0,r=i,n=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===n){l=!0,n=o,r=i;break}if(d===r){l=!0,r=o,n=i;break}d=d.sibling}if(!l)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function w_(e){return e=sE(e),e!==null?__(e):null}function __(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=__(e);if(t!==null)return t;e=e.sibling}return null}var b_=Rn.unstable_scheduleCallback,ry=Rn.unstable_cancelCallback,iE=Rn.unstable_shouldYield,aE=Rn.unstable_requestPaint,bt=Rn.unstable_now,oE=Rn.unstable_getCurrentPriorityLevel,lg=Rn.unstable_ImmediatePriority,j_=Rn.unstable_UserBlockingPriority,eu=Rn.unstable_NormalPriority,lE=Rn.unstable_LowPriority,N_=Rn.unstable_IdlePriority,Bu=null,zr=null;function cE(e){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Bu,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:hE,dE=Math.log,uE=Math.LN2;function hE(e){return e>>>=0,e===0?32:31-(dE(e)/uE|0)|0}var ad=64,od=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~i;d!==0?r=ml(d):(o&=l,o!==0&&(r=ml(o)))}else l=n&~i,l!==0?r=ml(l):o!==0&&(r=ml(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cr(t),i=1<<n,r|=e[n],t&=~i;return r}function fE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-cr(o),d=1<<l,u=i[l];u===-1?(!(d&n)||d&r)&&(i[l]=fE(d,t)):u<=t&&(e.expiredLanes|=d),o&=~d}}function Rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S_(){var e=ad;return ad<<=1,!(ad&4194240)&&(ad=64),e}function mf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=n}function pE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function cg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var et=0;function k_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C_,dg,E_,P_,T_,Mm=!1,ld=[],Vs=null,qs=null,Ks=null,zl=new Map,$l=new Map,Rs=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(e,t){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function tl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=mc(t),t!==null&&dg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vE(e,t,n,r,i){switch(t){case"focusin":return Vs=tl(Vs,e,t,n,r,i),!0;case"dragenter":return qs=tl(qs,e,t,n,r,i),!0;case"mouseover":return Ks=tl(Ks,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return zl.set(o,tl(zl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$l.set(o,tl($l.get(o)||null,e,t,n,r,i)),!0}return!1}function O_(e){var t=Ri(e.target);if(t!==null){var n=na(t);if(n!==null){if(t=n.tag,t===13){if(t=y_(n),t!==null){e.blockedOn=t,T_(e.priority,function(){E_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ad(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Am(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Em=r,n.target.dispatchEvent(r),Em=null}else return t=mc(n),t!==null&&dg(t),e.blockedOn=n,!1;t.shift()}return!0}function iy(e,t,n){Ad(e)&&n.delete(t)}function xE(){Mm=!1,Vs!==null&&Ad(Vs)&&(Vs=null),qs!==null&&Ad(qs)&&(qs=null),Ks!==null&&Ad(Ks)&&(Ks=null),zl.forEach(iy),$l.forEach(iy)}function nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,xE)))}function Fl(e){function t(i){return nl(i,e)}if(0<ld.length){nl(ld[0],e);for(var n=1;n<ld.length;n++){var r=ld[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vs!==null&&nl(Vs,e),qs!==null&&nl(qs,e),Ks!==null&&nl(Ks,e),zl.forEach(t),$l.forEach(t),n=0;n<Rs.length;n++)r=Rs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(n=Rs[0],n.blockedOn===null);)O_(n),n.blockedOn===null&&Rs.shift()}var Ya=ps.ReactCurrentBatchConfig,nu=!0;function yE(e,t,n,r){var i=et,o=Ya.transition;Ya.transition=null;try{et=1,ug(e,t,n,r)}finally{et=i,Ya.transition=o}}function wE(e,t,n,r){var i=et,o=Ya.transition;Ya.transition=null;try{et=4,ug(e,t,n,r)}finally{et=i,Ya.transition=o}}function ug(e,t,n,r){if(nu){var i=Am(e,t,n,r);if(i===null)Nf(e,t,r,ru,n),sy(e,r);else if(vE(i,e,t,n,r))r.stopPropagation();else if(sy(e,r),t&4&&-1<gE.indexOf(e)){for(;i!==null;){var o=mc(i);if(o!==null&&C_(o),o=Am(e,t,n,r),o===null&&Nf(e,t,r,ru,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Nf(e,t,r,null,n)}}var ru=null;function Am(e,t,n,r){if(ru=null,e=og(r),e=Ri(e),e!==null)if(t=na(e),t===null)e=null;else if(n=t.tag,n===13){if(e=y_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ru=e,null}function R_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oE()){case lg:return 1;case j_:return 4;case eu:case lE:return 16;case N_:return 536870912;default:return 16}default:return 16}}var Us=null,hg=null,Ld=null;function M_(){if(Ld)return Ld;var e,t=hg,n=t.length,r,i="value"in Us?Us.value:Us.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Ld=i.slice(e,1<r?1-r:void 0)}function Id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cd(){return!0}function ay(){return!1}function In(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cd:ay,this.isPropagationStopped=ay,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),t}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=In(Eo),fc=gt({},Eo,{view:0,detail:0}),_E=In(fc),pf,gf,rl,Uu=gt({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(pf=e.screenX-rl.screenX,gf=e.screenY-rl.screenY):gf=pf=0,rl=e),pf)},movementY:function(e){return"movementY"in e?e.movementY:gf}}),oy=In(Uu),bE=gt({},Uu,{dataTransfer:0}),jE=In(bE),NE=gt({},fc,{relatedTarget:0}),vf=In(NE),SE=gt({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),kE=In(SE),CE=gt({},Eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EE=In(CE),PE=gt({},Eo,{data:0}),ly=In(PE),TE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ME(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RE[e])?!!t[e]:!1}function mg(){return ME}var AE=gt({},fc,{key:function(e){if(e.key){var t=TE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?Id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LE=In(AE),IE=gt({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=In(IE),DE=gt({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),zE=In(DE),$E=gt({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),FE=In($E),BE=gt({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UE=In(BE),WE=[9,13,27,32],pg=ls&&"CompositionEvent"in window,bl=null;ls&&"documentMode"in document&&(bl=document.documentMode);var HE=ls&&"TextEvent"in window&&!bl,A_=ls&&(!pg||bl&&8<bl&&11>=bl),dy=" ",uy=!1;function L_(e,t){switch(e){case"keyup":return WE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function VE(e,t){switch(e){case"compositionend":return I_(t);case"keypress":return t.which!==32?null:(uy=!0,dy);case"textInput":return e=t.data,e===dy&&uy?null:e;default:return null}}function qE(e,t){if(Da)return e==="compositionend"||!pg&&L_(e,t)?(e=M_(),Ld=hg=Us=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A_&&t.locale!=="ko"?null:t.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KE[e.type]:t==="textarea"}function D_(e,t,n,r){m_(r),t=su(t,"onChange"),0<t.length&&(n=new fg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jl=null,Bl=null;function ZE(e){Z_(e,0)}function Wu(e){var t=Fa(e);if(o_(t))return e}function GE(e,t){if(e==="change")return t}var z_=!1;if(ls){var xf;if(ls){var yf="oninput"in document;if(!yf){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),yf=typeof fy.oninput=="function"}xf=yf}else xf=!1;z_=xf&&(!document.documentMode||9<document.documentMode)}function my(){jl&&(jl.detachEvent("onpropertychange",$_),Bl=jl=null)}function $_(e){if(e.propertyName==="value"&&Wu(Bl)){var t=[];D_(t,Bl,e,og(e)),x_(ZE,t)}}function YE(e,t,n){e==="focusin"?(my(),jl=t,Bl=n,jl.attachEvent("onpropertychange",$_)):e==="focusout"&&my()}function QE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(Bl)}function JE(e,t){if(e==="click")return Wu(t)}function XE(e,t){if(e==="input"||e==="change")return Wu(t)}function eP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:eP;function Ul(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gm.call(t,i)||!fr(e[i],t[i]))return!1}return!0}function py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gy(e,t){var n=py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=py(n)}}function F_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B_(){for(var e=window,t=Qd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qd(e.document)}return t}function gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tP(e){var t=B_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&F_(n.ownerDocument.documentElement,n)){if(r!==null&&gg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=gy(n,o);var l=gy(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nP=ls&&"documentMode"in document&&11>=document.documentMode,za=null,Lm=null,Nl=null,Im=!1;function vy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||za==null||za!==Qd(r)||(r=za,"selectionStart"in r&&gg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nl&&Ul(Nl,r)||(Nl=r,r=su(Lm,"onSelect"),0<r.length&&(t=new fg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=za)))}function dd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $a={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},wf={},U_={};ls&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Hu(e){if(wf[e])return wf[e];if(!$a[e])return e;var t=$a[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U_)return wf[e]=t[n];return e}var W_=Hu("animationend"),H_=Hu("animationiteration"),V_=Hu("animationstart"),q_=Hu("transitionend"),K_=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){K_.set(e,t),ta(t,[e])}for(var _f=0;_f<xy.length;_f++){var bf=xy[_f],rP=bf.toLowerCase(),sP=bf[0].toUpperCase()+bf.slice(1);ci(rP,"on"+sP)}ci(W_,"onAnimationEnd");ci(H_,"onAnimationIteration");ci(V_,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(q_,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iP=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function yy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rE(r,t,void 0,e),e.currentTarget=null}function Z_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var d=r[l],u=d.instance,h=d.currentTarget;if(d=d.listener,u!==o&&i.isPropagationStopped())break e;yy(i,d,h),o=u}else for(l=0;l<r.length;l++){if(d=r[l],u=d.instance,h=d.currentTarget,d=d.listener,u!==o&&i.isPropagationStopped())break e;yy(i,d,h),o=u}}}if(Xd)throw e=Om,Xd=!1,Om=null,e}function ct(e,t){var n=t[Bm];n===void 0&&(n=t[Bm]=new Set);var r=e+"__bubble";n.has(r)||(G_(t,e,2,!1),n.add(r))}function jf(e,t,n){var r=0;t&&(r|=4),G_(n,e,r,t)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Wl(e){if(!e[ud]){e[ud]=!0,n_.forEach(function(n){n!=="selectionchange"&&(iP.has(n)||jf(n,!1,e),jf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ud]||(t[ud]=!0,jf("selectionchange",!1,t))}}function G_(e,t,n,r){switch(R_(t)){case 1:var i=yE;break;case 4:i=wE;break;default:i=ug}n=i.bind(null,t,n,e),i=void 0,!Tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;d!==null;){if(l=Ri(d),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}d=d.parentNode}}r=r.return}x_(function(){var h=o,m=og(n),p=[];e:{var x=K_.get(e);if(x!==void 0){var y=fg,k=e;switch(e){case"keypress":if(Id(n)===0)break e;case"keydown":case"keyup":y=LE;break;case"focusin":k="focus",y=vf;break;case"focusout":k="blur",y=vf;break;case"beforeblur":case"afterblur":y=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=zE;break;case W_:case H_:case V_:y=kE;break;case q_:y=FE;break;case"scroll":y=_E;break;case"wheel":y=UE;break;case"copy":case"cut":case"paste":y=EE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=cy}var _=(t&4)!==0,N=!_&&e==="scroll",S=_?x!==null?x+"Capture":null:x;_=[];for(var w=h,b;w!==null;){b=w;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,S!==null&&(C=Dl(w,S),C!=null&&_.push(Hl(w,C,b)))),N)break;w=w.return}0<_.length&&(x=new y(x,k,null,n,m),p.push({event:x,listeners:_}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==Em&&(k=n.relatedTarget||n.fromElement)&&(Ri(k)||k[cs]))break e;if((y||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=h,k=k?Ri(k):null,k!==null&&(N=na(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=h),y!==k)){if(_=oy,C="onMouseLeave",S="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(_=cy,C="onPointerLeave",S="onPointerEnter",w="pointer"),N=y==null?x:Fa(y),b=k==null?x:Fa(k),x=new _(C,w+"leave",y,n,m),x.target=N,x.relatedTarget=b,C=null,Ri(m)===h&&(_=new _(S,w+"enter",k,n,m),_.target=b,_.relatedTarget=N,C=_),N=C,y&&k)t:{for(_=y,S=k,w=0,b=_;b;b=ba(b))w++;for(b=0,C=S;C;C=ba(C))b++;for(;0<w-b;)_=ba(_),w--;for(;0<b-w;)S=ba(S),b--;for(;w--;){if(_===S||S!==null&&_===S.alternate)break t;_=ba(_),S=ba(S)}_=null}else _=null;y!==null&&wy(p,x,y,_,!1),k!==null&&N!==null&&wy(p,N,k,_,!0)}}e:{if(x=h?Fa(h):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var P=GE;else if(hy(x))if(z_)P=XE;else{P=QE;var I=YE}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(P=JE);if(P&&(P=P(e,h))){D_(p,P,n,m);break e}I&&I(e,x,h),e==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&jm(x,"number",x.value)}switch(I=h?Fa(h):window,e){case"focusin":(hy(I)||I.contentEditable==="true")&&(za=I,Lm=h,Nl=null);break;case"focusout":Nl=Lm=za=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,vy(p,n,m);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":vy(p,n,m)}var M;if(pg)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Da?L_(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(A_&&n.locale!=="ko"&&(Da||$!=="onCompositionStart"?$==="onCompositionEnd"&&Da&&(M=M_()):(Us=m,hg="value"in Us?Us.value:Us.textContent,Da=!0)),I=su(h,$),0<I.length&&($=new ly($,e,null,n,m),p.push({event:$,listeners:I}),M?$.data=M:(M=I_(n),M!==null&&($.data=M)))),(M=HE?VE(e,n):qE(e,n))&&(h=su(h,"onBeforeInput"),0<h.length&&(m=new ly("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=M))}Z_(p,t)})}function Hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function su(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Dl(e,n),o!=null&&r.unshift(Hl(e,o,i)),o=Dl(e,t),o!=null&&r.push(Hl(e,o,i))),e=e.return}return r}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wy(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var d=n,u=d.alternate,h=d.stateNode;if(u!==null&&u===r)break;d.tag===5&&h!==null&&(d=h,i?(u=Dl(n,o),u!=null&&l.unshift(Hl(n,u,d))):i||(u=Dl(n,o),u!=null&&l.push(Hl(n,u,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var aP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function _y(e){return(typeof e=="string"?e:""+e).replace(aP,`
`).replace(oP,"")}function hd(e,t,n){if(t=_y(t),_y(e)!==t&&n)throw Error(le(425))}function iu(){}var Dm=null,zm=null;function $m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,cP=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(dP)}:Fm;function dP(e){setTimeout(function(){throw e})}function Sf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fl(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Po,Vl="__reactProps$"+Po,cs="__reactContainer$"+Po,Bm="__reactEvents$"+Po,uP="__reactListeners$"+Po,hP="__reactHandles$"+Po;function Ri(e){var t=e[Ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jy(e);e!==null;){if(n=e[Ar])return n;e=jy(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[Ar]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Vu(e){return e[Vl]||null}var Um=[],Ba=-1;function di(e){return{current:e}}function dt(e){0>Ba||(e.current=Um[Ba],Um[Ba]=null,Ba--)}function it(e,t){Ba++,Um[Ba]=e.current,e.current=t}var si={},Qt=di(si),vn=di(!1),Hi=si;function fo(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xn(e){return e=e.childContextTypes,e!=null}function au(){dt(vn),dt(Qt)}function Ny(e,t,n){if(Qt.current!==si)throw Error(le(168));it(Qt,t),it(vn,n)}function Y_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,YC(e)||"Unknown",i));return gt({},n,r)}function ou(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Hi=Qt.current,it(Qt,e),it(vn,vn.current),!0}function Sy(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=Y_(e,t,Hi),r.__reactInternalMemoizedMergedChildContext=e,dt(vn),dt(Qt),it(Qt,e)):dt(vn),it(vn,n)}var ns=null,qu=!1,kf=!1;function Q_(e){ns===null?ns=[e]:ns.push(e)}function fP(e){qu=!0,Q_(e)}function ui(){if(!kf&&ns!==null){kf=!0;var e=0,t=et;try{var n=ns;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ns=null,qu=!1}catch(i){throw ns!==null&&(ns=ns.slice(e+1)),b_(lg,ui),i}finally{et=t,kf=!1}}return null}var Ua=[],Wa=0,lu=null,cu=0,Bn=[],Un=0,Vi=null,ss=1,is="";function ki(e,t){Ua[Wa++]=cu,Ua[Wa++]=lu,lu=e,cu=t}function J_(e,t,n){Bn[Un++]=ss,Bn[Un++]=is,Bn[Un++]=Vi,Vi=e;var r=ss;e=is;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var o=32-cr(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ss=1<<32-cr(t)+i|n<<i|r,is=o+e}else ss=1<<o|n<<i|r,is=e}function vg(e){e.return!==null&&(ki(e,1),J_(e,1,0))}function xg(e){for(;e===lu;)lu=Ua[--Wa],Ua[Wa]=null,cu=Ua[--Wa],Ua[Wa]=null;for(;e===Vi;)Vi=Bn[--Un],Bn[Un]=null,is=Bn[--Un],Bn[Un]=null,ss=Bn[--Un],Bn[Un]=null}var Pn=null,En=null,ut=!1,or=null;function X_(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ky(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,En=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vi!==null?{id:ss,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pn=e,En=null,!0):!1;default:return!1}}function Wm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hm(e){if(ut){var t=En;if(t){var n=t;if(!ky(e,t)){if(Wm(e))throw Error(le(418));t=Zs(n.nextSibling);var r=Pn;t&&ky(e,t)?X_(r,n):(e.flags=e.flags&-4097|2,ut=!1,Pn=e)}}else{if(Wm(e))throw Error(le(418));e.flags=e.flags&-4097|2,ut=!1,Pn=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function fd(e){if(e!==Pn)return!1;if(!ut)return Cy(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$m(e.type,e.memoizedProps)),t&&(t=En)){if(Wm(e))throw eb(),Error(le(418));for(;t;)X_(e,t),t=Zs(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){En=Zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}En=null}}else En=Pn?Zs(e.stateNode.nextSibling):null;return!0}function eb(){for(var e=En;e;)e=Zs(e.nextSibling)}function mo(){En=Pn=null,ut=!1}function yg(e){or===null?or=[e]:or.push(e)}var mP=ps.ReactCurrentBatchConfig;function sl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var d=i.refs;l===null?delete d[o]:d[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function md(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ey(e){var t=e._init;return t(e._payload)}function tb(e){function t(S,w){if(e){var b=S.deletions;b===null?(S.deletions=[w],S.flags|=16):b.push(w)}}function n(S,w){if(!e)return null;for(;w!==null;)t(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=Js(S,w),S.index=0,S.sibling=null,S}function o(S,w,b){return S.index=b,e?(b=S.alternate,b!==null?(b=b.index,b<w?(S.flags|=2,w):b):(S.flags|=2,w)):(S.flags|=1048576,w)}function l(S){return e&&S.alternate===null&&(S.flags|=2),S}function d(S,w,b,C){return w===null||w.tag!==6?(w=Mf(b,S.mode,C),w.return=S,w):(w=i(w,b),w.return=S,w)}function u(S,w,b,C){var P=b.type;return P===Ia?m(S,w,b.props.children,C,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Ey(P)===w.type)?(C=i(w,b.props),C.ref=sl(S,w,b),C.return=S,C):(C=Wd(b.type,b.key,b.props,null,S.mode,C),C.ref=sl(S,w,b),C.return=S,C)}function h(S,w,b,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Af(b,S.mode,C),w.return=S,w):(w=i(w,b.children||[]),w.return=S,w)}function m(S,w,b,C,P){return w===null||w.tag!==7?(w=Wi(b,S.mode,C,P),w.return=S,w):(w=i(w,b),w.return=S,w)}function p(S,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Mf(""+w,S.mode,b),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rd:return b=Wd(w.type,w.key,w.props,null,S.mode,b),b.ref=sl(S,null,w),b.return=S,b;case La:return w=Af(w,S.mode,b),w.return=S,w;case Ts:var C=w._init;return p(S,C(w._payload),b)}if(fl(w)||Xo(w))return w=Wi(w,S.mode,b,null),w.return=S,w;md(S,w)}return null}function x(S,w,b,C){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:d(S,w,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rd:return b.key===P?u(S,w,b,C):null;case La:return b.key===P?h(S,w,b,C):null;case Ts:return P=b._init,x(S,w,P(b._payload),C)}if(fl(b)||Xo(b))return P!==null?null:m(S,w,b,C,null);md(S,b)}return null}function y(S,w,b,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(b)||null,d(w,S,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rd:return S=S.get(C.key===null?b:C.key)||null,u(w,S,C,P);case La:return S=S.get(C.key===null?b:C.key)||null,h(w,S,C,P);case Ts:var I=C._init;return y(S,w,b,I(C._payload),P)}if(fl(C)||Xo(C))return S=S.get(b)||null,m(w,S,C,P,null);md(w,C)}return null}function k(S,w,b,C){for(var P=null,I=null,M=w,$=w=0,H=null;M!==null&&$<b.length;$++){M.index>$?(H=M,M=null):H=M.sibling;var G=x(S,M,b[$],C);if(G===null){M===null&&(M=H);break}e&&M&&G.alternate===null&&t(S,M),w=o(G,w,$),I===null?P=G:I.sibling=G,I=G,M=H}if($===b.length)return n(S,M),ut&&ki(S,$),P;if(M===null){for(;$<b.length;$++)M=p(S,b[$],C),M!==null&&(w=o(M,w,$),I===null?P=M:I.sibling=M,I=M);return ut&&ki(S,$),P}for(M=r(S,M);$<b.length;$++)H=y(M,S,$,b[$],C),H!==null&&(e&&H.alternate!==null&&M.delete(H.key===null?$:H.key),w=o(H,w,$),I===null?P=H:I.sibling=H,I=H);return e&&M.forEach(function(Y){return t(S,Y)}),ut&&ki(S,$),P}function _(S,w,b,C){var P=Xo(b);if(typeof P!="function")throw Error(le(150));if(b=P.call(b),b==null)throw Error(le(151));for(var I=P=null,M=w,$=w=0,H=null,G=b.next();M!==null&&!G.done;$++,G=b.next()){M.index>$?(H=M,M=null):H=M.sibling;var Y=x(S,M,G.value,C);if(Y===null){M===null&&(M=H);break}e&&M&&Y.alternate===null&&t(S,M),w=o(Y,w,$),I===null?P=Y:I.sibling=Y,I=Y,M=H}if(G.done)return n(S,M),ut&&ki(S,$),P;if(M===null){for(;!G.done;$++,G=b.next())G=p(S,G.value,C),G!==null&&(w=o(G,w,$),I===null?P=G:I.sibling=G,I=G);return ut&&ki(S,$),P}for(M=r(S,M);!G.done;$++,G=b.next())G=y(M,S,$,G.value,C),G!==null&&(e&&G.alternate!==null&&M.delete(G.key===null?$:G.key),w=o(G,w,$),I===null?P=G:I.sibling=G,I=G);return e&&M.forEach(function(X){return t(S,X)}),ut&&ki(S,$),P}function N(S,w,b,C){if(typeof b=="object"&&b!==null&&b.type===Ia&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rd:e:{for(var P=b.key,I=w;I!==null;){if(I.key===P){if(P=b.type,P===Ia){if(I.tag===7){n(S,I.sibling),w=i(I,b.props.children),w.return=S,S=w;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Ey(P)===I.type){n(S,I.sibling),w=i(I,b.props),w.ref=sl(S,I,b),w.return=S,S=w;break e}n(S,I);break}else t(S,I);I=I.sibling}b.type===Ia?(w=Wi(b.props.children,S.mode,C,b.key),w.return=S,S=w):(C=Wd(b.type,b.key,b.props,null,S.mode,C),C.ref=sl(S,w,b),C.return=S,S=C)}return l(S);case La:e:{for(I=b.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(S,w.sibling),w=i(w,b.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else t(S,w);w=w.sibling}w=Af(b,S.mode,C),w.return=S,S=w}return l(S);case Ts:return I=b._init,N(S,w,I(b._payload),C)}if(fl(b))return k(S,w,b,C);if(Xo(b))return _(S,w,b,C);md(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,b),w.return=S,S=w):(n(S,w),w=Mf(b,S.mode,C),w.return=S,S=w),l(S)):n(S,w)}return N}var po=tb(!0),nb=tb(!1),du=di(null),uu=null,Ha=null,wg=null;function _g(){wg=Ha=uu=null}function bg(e){var t=du.current;dt(du),e._currentValue=t}function Vm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qa(e,t){uu=e,wg=Ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function qn(e){var t=e._currentValue;if(wg!==e)if(e={context:e,memoizedValue:t,next:null},Ha===null){if(uu===null)throw Error(le(308));Ha=e,uu.dependencies={lanes:0,firstContext:e}}else Ha=Ha.next=e;return t}var Mi=null;function jg(e){Mi===null?Mi=[e]:Mi.push(e)}function rb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jg(t)):(n.next=i.next,i.next=n),t.interleaved=n,ds(e,r)}function ds(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Os=!1;function Ng(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function as(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ds(e,n)}return i=r.interleaved,i===null?(t.next=t,jg(r)):(t.next=i.next,i.next=t),r.interleaved=t,ds(e,n)}function Dd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cg(e,n)}}function Py(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hu(e,t,n,r){var i=e.updateQueue;Os=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var u=d,h=u.next;u.next=null,l===null?o=h:l.next=h,l=u;var m=e.alternate;m!==null&&(m=m.updateQueue,d=m.lastBaseUpdate,d!==l&&(d===null?m.firstBaseUpdate=h:d.next=h,m.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;l=0,m=h=u=null,d=o;do{var x=d.lane,y=d.eventTime;if((r&x)===x){m!==null&&(m=m.next={eventTime:y,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var k=e,_=d;switch(x=t,y=n,_.tag){case 1:if(k=_.payload,typeof k=="function"){p=k.call(y,p,x);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=_.payload,x=typeof k=="function"?k.call(y,p,x):k,x==null)break e;p=gt({},p,x);break e;case 2:Os=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[d]:x.push(d))}else y={eventTime:y,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},m===null?(h=m=y,u=p):m=m.next=y,l|=x;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;x=d,d=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(m===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ki|=l,e.lanes=l,e.memoizedState=p}}function Ty(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var pc={},$r=di(pc),ql=di(pc),Kl=di(pc);function Ai(e){if(e===pc)throw Error(le(174));return e}function Sg(e,t){switch(it(Kl,t),it(ql,e),it($r,pc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sm(t,e)}dt($r),it($r,t)}function go(){dt($r),dt(ql),dt(Kl)}function ib(e){Ai(Kl.current);var t=Ai($r.current),n=Sm(t,e.type);t!==n&&(it(ql,e),it($r,n))}function kg(e){ql.current===e&&(dt($r),dt(ql))}var mt=di(0);function fu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function Cg(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var zd=ps.ReactCurrentDispatcher,Ef=ps.ReactCurrentBatchConfig,qi=0,pt=null,Rt=null,It=null,mu=!1,Sl=!1,Zl=0,pP=0;function qt(){throw Error(le(321))}function Eg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function Pg(e,t,n,r,i,o){if(qi=o,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zd.current=e===null||e.memoizedState===null?yP:wP,e=n(r,i),Sl){o=0;do{if(Sl=!1,Zl=0,25<=o)throw Error(le(301));o+=1,It=Rt=null,t.updateQueue=null,zd.current=_P,e=n(r,i)}while(Sl)}if(zd.current=pu,t=Rt!==null&&Rt.next!==null,qi=0,It=Rt=pt=null,mu=!1,t)throw Error(le(300));return e}function Tg(){var e=Zl!==0;return Zl=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?pt.memoizedState=It=e:It=It.next=e,It}function Kn(){if(Rt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=It===null?pt.memoizedState:It.next;if(t!==null)It=t,Rt=e;else{if(e===null)throw Error(le(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},It===null?pt.memoizedState=It=e:It=It.next=e}return It}function Gl(e,t){return typeof t=="function"?t(e):t}function Pf(e){var t=Kn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=l=null,u=null,h=o;do{var m=h.lane;if((qi&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(d=u=p,l=r):u=u.next=p,pt.lanes|=m,Ki|=m}h=h.next}while(h!==null&&h!==o);u===null?l=r:u.next=d,fr(r,t.memoizedState)||(pn=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,pt.lanes|=o,Ki|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tf(e){var t=Kn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);fr(o,t.memoizedState)||(pn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ab(){}function ob(e,t){var n=pt,r=Kn(),i=t(),o=!fr(r.memoizedState,i);if(o&&(r.memoizedState=i,pn=!0),r=r.queue,Og(db.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Yl(9,cb.bind(null,n,r,i,t),void 0,null),Dt===null)throw Error(le(349));qi&30||lb(n,t,i)}return i}function lb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cb(e,t,n,r){t.value=n,t.getSnapshot=r,ub(t)&&hb(e)}function db(e,t,n){return n(function(){ub(t)&&hb(e)})}function ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fr(e,n)}catch{return!0}}function hb(e){var t=ds(e,1);t!==null&&dr(t,e,1,-1)}function Oy(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=xP.bind(null,pt,e),[t.memoizedState,e]}function Yl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fb(){return Kn().memoizedState}function $d(e,t,n,r){var i=Pr();pt.flags|=e,i.memoizedState=Yl(1|t,n,void 0,r===void 0?null:r)}function Ku(e,t,n,r){var i=Kn();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var l=Rt.memoizedState;if(o=l.destroy,r!==null&&Eg(r,l.deps)){i.memoizedState=Yl(t,n,o,r);return}}pt.flags|=e,i.memoizedState=Yl(1|t,n,o,r)}function Ry(e,t){return $d(8390656,8,e,t)}function Og(e,t){return Ku(2048,8,e,t)}function mb(e,t){return Ku(4,2,e,t)}function pb(e,t){return Ku(4,4,e,t)}function gb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vb(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,gb.bind(null,t,e),n)}function Rg(){}function xb(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yb(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wb(e,t,n){return qi&21?(fr(n,t)||(n=S_(),pt.lanes|=n,Ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=n)}function gP(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=Ef.transition;Ef.transition={};try{e(!1),t()}finally{et=n,Ef.transition=r}}function _b(){return Kn().memoizedState}function vP(e,t,n){var r=Qs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bb(e))jb(t,n);else if(n=rb(e,t,n,r),n!==null){var i=an();dr(n,e,r,i),Nb(n,t,r)}}function xP(e,t,n){var r=Qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bb(e))jb(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,d=o(l,n);if(i.hasEagerState=!0,i.eagerState=d,fr(d,l)){var u=t.interleaved;u===null?(i.next=i,jg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=rb(e,t,i,r),n!==null&&(i=an(),dr(n,e,r,i),Nb(n,t,r))}}function bb(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function jb(e,t){Sl=mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cg(e,n)}}var pu={readContext:qn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},yP={readContext:qn,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:qn,useEffect:Ry,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$d(4194308,4,gb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $d(4194308,4,e,t)},useInsertionEffect:function(e,t){return $d(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vP.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:Oy,useDebugValue:Rg,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=Oy(!1),t=e[0];return e=gP.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pt,i=Pr();if(ut){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),Dt===null)throw Error(le(349));qi&30||lb(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ry(db.bind(null,r,o,e),[e]),r.flags|=2048,Yl(9,cb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Dt.identifierPrefix;if(ut){var n=is,r=ss;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wP={readContext:qn,useCallback:xb,useContext:qn,useEffect:Og,useImperativeHandle:vb,useInsertionEffect:mb,useLayoutEffect:pb,useMemo:yb,useReducer:Pf,useRef:fb,useState:function(){return Pf(Gl)},useDebugValue:Rg,useDeferredValue:function(e){var t=Kn();return wb(t,Rt.memoizedState,e)},useTransition:function(){var e=Pf(Gl)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:ab,useSyncExternalStore:ob,useId:_b,unstable_isNewReconciler:!1},_P={readContext:qn,useCallback:xb,useContext:qn,useEffect:Og,useImperativeHandle:vb,useInsertionEffect:mb,useLayoutEffect:pb,useMemo:yb,useReducer:Tf,useRef:fb,useState:function(){return Tf(Gl)},useDebugValue:Rg,useDeferredValue:function(e){var t=Kn();return Rt===null?t.memoizedState=e:wb(t,Rt.memoizedState,e)},useTransition:function(){var e=Tf(Gl)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:ab,useSyncExternalStore:ob,useId:_b,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zu={isMounted:function(e){return(e=e._reactInternals)?na(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),i=Qs(e),o=as(r,i);o.payload=t,n!=null&&(o.callback=n),t=Gs(e,o,i),t!==null&&(dr(t,e,i,r),Dd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),i=Qs(e),o=as(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gs(e,o,i),t!==null&&(dr(t,e,i,r),Dd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=Qs(e),i=as(n,r);i.tag=2,t!=null&&(i.callback=t),t=Gs(e,i,r),t!==null&&(dr(t,e,r,n),Dd(t,e,r))}};function My(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Ul(n,r)||!Ul(i,o):!0}function Sb(e,t,n){var r=!1,i=si,o=t.contextType;return typeof o=="object"&&o!==null?o=qn(o):(i=xn(t)?Hi:Qt.current,r=t.contextTypes,o=(r=r!=null)?fo(e,i):si),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ay(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function Km(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ng(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=qn(o):(o=xn(t)?Hi:Qt.current,i.context=fo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zu.enqueueReplaceState(i,i.state,null),hu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vo(e,t){try{var n="",r=t;do n+=GC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Of(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function kb(e,t,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vu||(vu=!0,sp=r),Zm(e,t)},n}function Cb(e,t,n){n=as(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zm(e,t),typeof r!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Ly(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bP;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=IP.bind(null,e,t,n),t.then(e,e))}function Iy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=as(-1,1),t.tag=2,Gs(n,t,1))),n.lanes|=1),e)}var jP=ps.ReactCurrentOwner,pn=!1;function tn(e,t,n,r){t.child=e===null?nb(t,null,n,r):po(t,e.child,n,r)}function zy(e,t,n,r,i){n=n.render;var o=t.ref;return Qa(t,i),r=Pg(e,t,n,r,o,i),n=Tg(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,us(e,t,i)):(ut&&n&&vg(t),t.flags|=1,tn(e,t,r,i),t.child)}function $y(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Fg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Eb(e,t,o,r,i)):(e=Wd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(l,r)&&e.ref===t.ref)return us(e,t,i)}return t.flags|=1,e=Js(o,r),e.ref=t.ref,e.return=t,t.child=e}function Eb(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ul(o,r)&&e.ref===t.ref)if(pn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,us(e,t,i)}return Gm(e,t,n,r,i)}function Pb(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(qa,kn),kn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(qa,kn),kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,it(qa,kn),kn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,it(qa,kn),kn|=r;return tn(e,t,i,n),t.child}function Tb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gm(e,t,n,r,i){var o=xn(n)?Hi:Qt.current;return o=fo(t,o),Qa(t,i),n=Pg(e,t,n,r,o,i),r=Tg(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,us(e,t,i)):(ut&&r&&vg(t),t.flags|=1,tn(e,t,n,i),t.child)}function Fy(e,t,n,r,i){if(xn(n)){var o=!0;ou(t)}else o=!1;if(Qa(t,i),t.stateNode===null)Fd(e,t),Sb(t,n,r),Km(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=qn(h):(h=xn(n)?Hi:Qt.current,h=fo(t,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||u!==h)&&Ay(t,l,r,h),Os=!1;var x=t.memoizedState;l.state=x,hu(t,r,l,i),u=t.memoizedState,d!==r||x!==u||vn.current||Os?(typeof m=="function"&&(qm(t,n,m,r),u=t.memoizedState),(d=Os||My(t,n,d,r,x,u,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=h,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,sb(e,t),d=t.memoizedProps,h=t.type===t.elementType?d:tr(t.type,d),l.props=h,p=t.pendingProps,x=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=qn(u):(u=xn(n)?Hi:Qt.current,u=fo(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==p||x!==u)&&Ay(t,l,r,u),Os=!1,x=t.memoizedState,l.state=x,hu(t,r,l,i);var k=t.memoizedState;d!==p||x!==k||vn.current||Os?(typeof y=="function"&&(qm(t,n,y,r),k=t.memoizedState),(h=Os||My(t,n,h,r,x,k,u)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),l.props=r,l.state=k,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Ym(e,t,n,r,o,i)}function Ym(e,t,n,r,i,o){Tb(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Sy(t,n,!1),us(e,t,o);r=t.stateNode,jP.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=po(t,e.child,null,o),t.child=po(t,null,d,o)):tn(e,t,d,o),t.memoizedState=r.state,i&&Sy(t,n,!0),t.child}function Ob(e){var t=e.stateNode;t.pendingContext?Ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ny(e,t.context,!1),Sg(e,t.containerInfo)}function By(e,t,n,r,i){return mo(),yg(i),t.flags|=256,tn(e,t,n,r),t.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Jm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rb(e,t,n){var r=t.pendingProps,i=mt.current,o=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),it(mt,i&1),e===null)return Hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Qu(l,r,0,null),e=Wi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jm(n),t.memoizedState=Qm,e):Mg(t,l));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return NP(e,t,l,r,d,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,d=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Js(i,u),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Js(d,o):(o=Wi(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Jm(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Qm,r}return o=e.child,e=o.sibling,r=Js(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mg(e,t){return t=Qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pd(e,t,n,r){return r!==null&&yg(r),po(t,e.child,null,n),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NP(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Of(Error(le(422))),pd(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Qu({mode:"visible",children:r.children},i,0,null),o=Wi(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&po(t,e.child,null,l),t.child.memoizedState=Jm(l),t.memoizedState=Qm,o);if(!(t.mode&1))return pd(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(le(419)),r=Of(o,r,void 0),pd(e,t,l,r)}if(d=(l&e.childLanes)!==0,pn||d){if(r=Dt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ds(e,i),dr(r,e,i,-1))}return $g(),r=Of(Error(le(421))),pd(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DP.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,En=Zs(i.nextSibling),Pn=t,ut=!0,or=null,e!==null&&(Bn[Un++]=ss,Bn[Un++]=is,Bn[Un++]=Vi,ss=e.id,is=e.overflow,Vi=t),t=Mg(t,r.children),t.flags|=4096,t)}function Uy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vm(e.return,t,n)}function Rf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Mb(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tn(e,t,r.children,n),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,n,t);else if(e.tag===19)Uy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(it(mt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rf(t,!0,n,null,o);break;case"together":Rf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function us(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=Js(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Js(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SP(e,t,n){switch(t.tag){case 3:Ob(t),mo();break;case 5:ib(t);break;case 1:xn(t.type)&&ou(t);break;case 4:Sg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;it(du,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(it(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?Rb(e,t,n):(it(mt,mt.current&1),e=us(e,t,n),e!==null?e.sibling:null);it(mt,mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,Pb(e,t,n)}return us(e,t,n)}var Ab,Xm,Lb,Ib;Ab=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};Lb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ai($r.current);var o=null;switch(n){case"input":i=_m(e,i),r=_m(e,r),o=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":i=Nm(e,i),r=Nm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=iu)}km(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var d=i[h];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ll.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(d=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==d&&(u!=null||d!=null))if(h==="style")if(d){for(l in d)!d.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&d[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ct("scroll",e),o||d===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};Ib=function(e,t,n,r){n!==r&&(t.flags|=4)};function il(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kP(e,t,n){var r=t.pendingProps;switch(xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return xn(t.type)&&au(),Kt(t),null;case 3:return r=t.stateNode,go(),dt(vn),dt(Qt),Cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,or!==null&&(op(or),or=null))),Xm(e,t),Kt(t),null;case 5:kg(t);var i=Ai(Kl.current);if(n=t.type,e!==null&&t.stateNode!=null)Lb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return Kt(t),null}if(e=Ai($r.current),fd(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ar]=t,r[Vl]=o,e=(t.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<pl.length;i++)ct(pl[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Qx(r,o),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ct("invalid",r);break;case"textarea":Xx(r,o),ct("invalid",r)}km(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&hd(r.textContent,d,e),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&hd(r.textContent,d,e),i=["children",""+d]):Ll.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&ct("scroll",r)}switch(n){case"input":sd(r),Jx(r,o,!0);break;case"textarea":sd(r),ey(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ar]=t,e[Vl]=r,Ab(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cm(n,r),n){case"dialog":ct("cancel",e),ct("close",e),i=r;break;case"iframe":case"object":case"embed":ct("load",e),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)ct(pl[i],e);i=r;break;case"source":ct("error",e),i=r;break;case"img":case"image":case"link":ct("error",e),ct("load",e),i=r;break;case"details":ct("toggle",e),i=r;break;case"input":Qx(e,r),i=_m(e,r),ct("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),ct("invalid",e);break;case"textarea":Xx(e,r),i=Nm(e,r),ct("invalid",e);break;default:i=r}km(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var u=d[o];o==="style"?f_(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&u_(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Il(e,u):typeof u=="number"&&Il(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ll.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ct("scroll",e):u!=null&&rg(e,o,u,l))}switch(n){case"input":sd(e),Jx(e,r,!1);break;case"textarea":sd(e),ey(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ri(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ka(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ka(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)Ib(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Ai(Kl.current),Ai($r.current),fd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ar]=t,(o=r.nodeValue!==n)&&(e=Pn,e!==null))switch(e.tag){case 3:hd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hd(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=t,t.stateNode=r}return Kt(t),null;case 13:if(dt(mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&En!==null&&t.mode&1&&!(t.flags&128))eb(),mo(),t.flags|=98560,o=!1;else if(o=fd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(le(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Ar]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),o=!1}else or!==null&&(op(or),or=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Mt===0&&(Mt=3):$g())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return go(),Xm(e,t),e===null&&Wl(t.stateNode.containerInfo),Kt(t),null;case 10:return bg(t.type._context),Kt(t),null;case 17:return xn(t.type)&&au(),Kt(t),null;case 19:if(dt(mt),o=t.memoizedState,o===null)return Kt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)il(o,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=fu(e),l!==null){for(t.flags|=128,il(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(mt,mt.current&1|2),t.child}e=e.sibling}o.tail!==null&&bt()>xo&&(t.flags|=128,r=!0,il(o,!1),t.lanes=4194304)}else{if(!r)if(e=fu(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ut)return Kt(t),null}else 2*bt()-o.renderingStartTime>xo&&n!==1073741824&&(t.flags|=128,r=!0,il(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bt(),t.sibling=null,n=mt.current,it(mt,r?n&1|2:n&1),t):(Kt(t),null);case 22:case 23:return zg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kn&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function CP(e,t){switch(xg(t),t.tag){case 1:return xn(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),dt(vn),dt(Qt),Cg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kg(t),null;case 13:if(dt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(mt),null;case 4:return go(),null;case 10:return bg(t.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var gd=!1,Gt=!1,EP=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function ep(e,t,n){try{n()}catch(r){yt(e,t,r)}}var Wy=!1;function PP(e,t){if(Dm=nu,e=B_(),gg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,d=-1,u=-1,h=0,m=0,p=e,x=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(d=l+i),p!==o||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)x=p,p=y;for(;;){if(p===e)break t;if(x===n&&++h===i&&(d=l),x===o&&++m===r&&(u=l),(y=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=y}n=d===-1||u===-1?null:{start:d,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zm={focusedElem:e,selectionRange:n},nu=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var _=k.memoizedProps,N=k.memoizedState,S=t.stateNode,w=S.getSnapshotBeforeUpdate(t.elementType===t.type?_:tr(t.type,_),N);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(C){yt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return k=Wy,Wy=!1,k}function kl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ep(t,n,o)}i=i.next}while(i!==r)}}function Gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Db(e){var t=e.alternate;t!==null&&(e.alternate=null,Db(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[Vl],delete t[Bm],delete t[uP],delete t[hP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zb(e){return e.tag===5||e.tag===3||e.tag===4}function Hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iu));else if(r!==4&&(e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}function rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rp(e,t,n),e=e.sibling;e!==null;)rp(e,t,n),e=e.sibling}var Ft=null,ir=!1;function _s(e,t,n){for(n=n.child;n!==null;)$b(e,t,n),n=n.sibling}function $b(e,t,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Bu,n)}catch{}switch(n.tag){case 5:Gt||Va(n,t);case 6:var r=Ft,i=ir;Ft=null,_s(e,t,n),Ft=r,ir=i,Ft!==null&&(ir?(e=Ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(ir?(e=Ft,n=n.stateNode,e.nodeType===8?Sf(e.parentNode,n):e.nodeType===1&&Sf(e,n),Fl(e)):Sf(Ft,n.stateNode));break;case 4:r=Ft,i=ir,Ft=n.stateNode.containerInfo,ir=!0,_s(e,t,n),Ft=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&ep(n,t,l),i=i.next}while(i!==r)}_s(e,t,n);break;case 1:if(!Gt&&(Va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){yt(n,t,d)}_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,_s(e,t,n),Gt=r):_s(e,t,n);break;default:_s(e,t,n)}}function Vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EP),t.forEach(function(r){var i=zP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:Ft=d.stateNode,ir=!1;break e;case 3:Ft=d.stateNode.containerInfo,ir=!0;break e;case 4:Ft=d.stateNode.containerInfo,ir=!0;break e}d=d.return}if(Ft===null)throw Error(le(160));$b(o,l,i),Ft=null,ir=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){yt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fb(t,e),t=t.sibling}function Fb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(t,e),Er(e),r&4){try{kl(3,e,e.return),Gu(3,e)}catch(_){yt(e,e.return,_)}try{kl(5,e,e.return)}catch(_){yt(e,e.return,_)}}break;case 1:Qn(t,e),Er(e),r&512&&n!==null&&Va(n,n.return);break;case 5:if(Qn(t,e),Er(e),r&512&&n!==null&&Va(n,n.return),e.flags&32){var i=e.stateNode;try{Il(i,"")}catch(_){yt(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,d=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&l_(i,o),Cm(d,l);var h=Cm(d,o);for(l=0;l<u.length;l+=2){var m=u[l],p=u[l+1];m==="style"?f_(i,p):m==="dangerouslySetInnerHTML"?u_(i,p):m==="children"?Il(i,p):rg(i,m,p,h)}switch(d){case"input":bm(i,o);break;case"textarea":c_(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Ka(i,!!o.multiple,y,!1):x!==!!o.multiple&&(o.defaultValue!=null?Ka(i,!!o.multiple,o.defaultValue,!0):Ka(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vl]=o}catch(_){yt(e,e.return,_)}}break;case 6:if(Qn(t,e),Er(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){yt(e,e.return,_)}}break;case 3:if(Qn(t,e),Er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(_){yt(e,e.return,_)}break;case 4:Qn(t,e),Er(e);break;case 13:Qn(t,e),Er(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ig=bt())),r&4&&Vy(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Gt=(h=Gt)||m,Qn(t,e),Gt=h):Qn(t,e),Er(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(ge=e,m=e.child;m!==null;){for(p=ge=m;ge!==null;){switch(x=ge,y=x.child,x.tag){case 0:case 11:case 14:case 15:kl(4,x,x.return);break;case 1:Va(x,x.return);var k=x.stateNode;if(typeof k.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(_){yt(r,n,_)}}break;case 5:Va(x,x.return);break;case 22:if(x.memoizedState!==null){Ky(p);continue}}y!==null?(y.return=x,ge=y):Ky(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=h_("display",l))}catch(_){yt(e,e.return,_)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(_){yt(e,e.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qn(t,e),Er(e),r&4&&Vy(e);break;case 21:break;default:Qn(t,e),Er(e)}}function Er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zb(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var o=Hy(e);rp(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,d=Hy(e);np(e,d,l);break;default:throw Error(le(161))}}catch(u){yt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TP(e,t,n){ge=e,Bb(e)}function Bb(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||gd;if(!l){var d=i.alternate,u=d!==null&&d.memoizedState!==null||Gt;d=gd;var h=Gt;if(gd=l,(Gt=u)&&!h)for(ge=i;ge!==null;)l=ge,u=l.child,l.tag===22&&l.memoizedState!==null?Zy(i):u!==null?(u.return=l,ge=u):Zy(i);for(;o!==null;)ge=o,Bb(o),o=o.sibling;ge=i,gd=d,Gt=h}qy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):qy(e)}}function qy(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||Gu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ty(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ty(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Fl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Gt||t.flags&512&&tp(t)}catch(x){yt(t,t.return,x)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Ky(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Zy(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gu(4,t)}catch(u){yt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){yt(t,i,u)}}var o=t.return;try{tp(t)}catch(u){yt(t,o,u)}break;case 5:var l=t.return;try{tp(t)}catch(u){yt(t,l,u)}}}catch(u){yt(t,t.return,u)}if(t===e){ge=null;break}var d=t.sibling;if(d!==null){d.return=t.return,ge=d;break}ge=t.return}}var OP=Math.ceil,gu=ps.ReactCurrentDispatcher,Ag=ps.ReactCurrentOwner,Hn=ps.ReactCurrentBatchConfig,Ve=0,Dt=null,Et=null,Ut=0,kn=0,qa=di(0),Mt=0,Ql=null,Ki=0,Yu=0,Lg=0,Cl=null,hn=null,Ig=0,xo=1/0,es=null,vu=!1,sp=null,Ys=null,vd=!1,Ws=null,xu=0,El=0,ip=null,Bd=-1,Ud=0;function an(){return Ve&6?bt():Bd!==-1?Bd:Bd=bt()}function Qs(e){return e.mode&1?Ve&2&&Ut!==0?Ut&-Ut:mP.transition!==null?(Ud===0&&(Ud=S_()),Ud):(e=et,e!==0||(e=window.event,e=e===void 0?16:R_(e.type)),e):1}function dr(e,t,n,r){if(50<El)throw El=0,ip=null,Error(le(185));hc(e,n,r),(!(Ve&2)||e!==Dt)&&(e===Dt&&(!(Ve&2)&&(Yu|=n),Mt===4&&Ms(e,Ut)),yn(e,r),n===1&&Ve===0&&!(t.mode&1)&&(xo=bt()+500,qu&&ui()))}function yn(e,t){var n=e.callbackNode;mE(e,t);var r=tu(e,e===Dt?Ut:0);if(r===0)n!==null&&ry(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ry(n),t===1)e.tag===0?fP(Gy.bind(null,e)):Q_(Gy.bind(null,e)),cP(function(){!(Ve&6)&&ui()}),n=null;else{switch(k_(r)){case 1:n=lg;break;case 4:n=j_;break;case 16:n=eu;break;case 536870912:n=N_;break;default:n=eu}n=Gb(n,Ub.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ub(e,t){if(Bd=-1,Ud=0,Ve&6)throw Error(le(327));var n=e.callbackNode;if(Ja()&&e.callbackNode!==n)return null;var r=tu(e,e===Dt?Ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yu(e,r);else{t=r;var i=Ve;Ve|=2;var o=Hb();(Dt!==e||Ut!==t)&&(es=null,xo=bt()+500,Ui(e,t));do try{AP();break}catch(d){Wb(e,d)}while(!0);_g(),gu.current=o,Ve=i,Et!==null?t=0:(Dt=null,Ut=0,t=Mt)}if(t!==0){if(t===2&&(i=Rm(e),i!==0&&(r=i,t=ap(e,i))),t===1)throw n=Ql,Ui(e,0),Ms(e,r),yn(e,bt()),n;if(t===6)Ms(e,r);else{if(i=e.current.alternate,!(r&30)&&!RP(i)&&(t=yu(e,r),t===2&&(o=Rm(e),o!==0&&(r=o,t=ap(e,o))),t===1))throw n=Ql,Ui(e,0),Ms(e,r),yn(e,bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Ci(e,hn,es);break;case 3:if(Ms(e,r),(r&130023424)===r&&(t=Ig+500-bt(),10<t)){if(tu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fm(Ci.bind(null,e,hn,es),t);break}Ci(e,hn,es);break;case 4:if(Ms(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-cr(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OP(r/1960))-r,10<r){e.timeoutHandle=Fm(Ci.bind(null,e,hn,es),r);break}Ci(e,hn,es);break;case 5:Ci(e,hn,es);break;default:throw Error(le(329))}}}return yn(e,bt()),e.callbackNode===n?Ub.bind(null,e):null}function ap(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(Ui(e,t).flags|=256),e=yu(e,t),e!==2&&(t=hn,hn=n,t!==null&&op(t)),e}function op(e){hn===null?hn=e:hn.push.apply(hn,e)}function RP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~Lg,t&=~Yu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cr(t),r=1<<n;e[n]=-1,t&=~r}}function Gy(e){if(Ve&6)throw Error(le(327));Ja();var t=tu(e,0);if(!(t&1))return yn(e,bt()),null;var n=yu(e,t);if(e.tag!==0&&n===2){var r=Rm(e);r!==0&&(t=r,n=ap(e,r))}if(n===1)throw n=Ql,Ui(e,0),Ms(e,t),yn(e,bt()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,hn,es),yn(e,bt()),null}function Dg(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(xo=bt()+500,qu&&ui())}}function Zi(e){Ws!==null&&Ws.tag===0&&!(Ve&6)&&Ja();var t=Ve;Ve|=1;var n=Hn.transition,r=et;try{if(Hn.transition=null,et=1,e)return e()}finally{et=r,Hn.transition=n,Ve=t,!(Ve&6)&&ui()}}function zg(){kn=qa.current,dt(qa)}function Ui(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lP(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:go(),dt(vn),dt(Qt),Cg();break;case 5:kg(r);break;case 4:go();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:bg(r.type._context);break;case 22:case 23:zg()}n=n.return}if(Dt=e,Et=e=Js(e.current,null),Ut=kn=t,Mt=0,Ql=null,Lg=Yu=Ki=0,hn=Cl=null,Mi!==null){for(t=0;t<Mi.length;t++)if(n=Mi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Mi=null}return e}function Wb(e,t){do{var n=Et;try{if(_g(),zd.current=pu,mu){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(qi=0,It=Rt=pt=null,Sl=!1,Zl=0,Ag.current=null,n===null||n.return===null){Mt=1,Ql=t,Et=null;break}e:{var o=e,l=n.return,d=n,u=t;if(t=Ut,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,m=d,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Iy(l);if(y!==null){y.flags&=-257,Dy(y,l,d,o,t),y.mode&1&&Ly(o,h,t),t=y,u=h;var k=t.updateQueue;if(k===null){var _=new Set;_.add(u),t.updateQueue=_}else k.add(u);break e}else{if(!(t&1)){Ly(o,h,t),$g();break e}u=Error(le(426))}}else if(ut&&d.mode&1){var N=Iy(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Dy(N,l,d,o,t),yg(vo(u,d));break e}}o=u=vo(u,d),Mt!==4&&(Mt=2),Cl===null?Cl=[o]:Cl.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=kb(o,u,t);Py(o,S);break e;case 1:d=u;var w=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ys===null||!Ys.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=Cb(o,d,t);Py(o,C);break e}}o=o.return}while(o!==null)}qb(n)}catch(P){t=P,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function Hb(){var e=gu.current;return gu.current=pu,e===null?pu:e}function $g(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Dt===null||!(Ki&268435455)&&!(Yu&268435455)||Ms(Dt,Ut)}function yu(e,t){var n=Ve;Ve|=2;var r=Hb();(Dt!==e||Ut!==t)&&(es=null,Ui(e,t));do try{MP();break}catch(i){Wb(e,i)}while(!0);if(_g(),Ve=n,gu.current=r,Et!==null)throw Error(le(261));return Dt=null,Ut=0,Mt}function MP(){for(;Et!==null;)Vb(Et)}function AP(){for(;Et!==null&&!iE();)Vb(Et)}function Vb(e){var t=Zb(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?qb(e):Et=t,Ag.current=null}function qb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CP(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Et=null;return}}else if(n=kP(n,t,kn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Mt===0&&(Mt=5)}function Ci(e,t,n){var r=et,i=Hn.transition;try{Hn.transition=null,et=1,LP(e,t,n,r)}finally{Hn.transition=i,et=r}return null}function LP(e,t,n,r){do Ja();while(Ws!==null);if(Ve&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(pE(e,o),e===Dt&&(Et=Dt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vd||(vd=!0,Gb(eu,function(){return Ja(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Hn.transition,Hn.transition=null;var l=et;et=1;var d=Ve;Ve|=4,Ag.current=null,PP(e,n),Fb(n,e),tP(zm),nu=!!Dm,zm=Dm=null,e.current=n,TP(n),aE(),Ve=d,et=l,Hn.transition=o}else e.current=n;if(vd&&(vd=!1,Ws=e,xu=i),o=e.pendingLanes,o===0&&(Ys=null),cE(n.stateNode),yn(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,e=sp,sp=null,e;return xu&1&&e.tag!==0&&Ja(),o=e.pendingLanes,o&1?e===ip?El++:(El=0,ip=e):El=0,ui(),null}function Ja(){if(Ws!==null){var e=k_(xu),t=Hn.transition,n=et;try{if(Hn.transition=null,et=16>e?16:e,Ws===null)var r=!1;else{if(e=Ws,Ws=null,xu=0,Ve&6)throw Error(le(331));var i=Ve;for(Ve|=4,ge=e.current;ge!==null;){var o=ge,l=o.child;if(ge.flags&16){var d=o.deletions;if(d!==null){for(var u=0;u<d.length;u++){var h=d[u];for(ge=h;ge!==null;){var m=ge;switch(m.tag){case 0:case 11:case 15:kl(8,m,o)}var p=m.child;if(p!==null)p.return=m,ge=p;else for(;ge!==null;){m=ge;var x=m.sibling,y=m.return;if(Db(m),m===h){ge=null;break}if(x!==null){x.return=y,ge=x;break}ge=y}}}var k=o.alternate;if(k!==null){var _=k.child;if(_!==null){k.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}ge=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ge=l;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kl(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ge=S;break e}ge=o.return}}var w=e.current;for(ge=w;ge!==null;){l=ge;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,ge=b;else e:for(l=w;ge!==null;){if(d=ge,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Gu(9,d)}}catch(P){yt(d,d.return,P)}if(d===l){ge=null;break e}var C=d.sibling;if(C!==null){C.return=d.return,ge=C;break e}ge=d.return}}if(Ve=i,ui(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Bu,e)}catch{}r=!0}return r}finally{et=n,Hn.transition=t}}return!1}function Yy(e,t,n){t=vo(n,t),t=kb(e,t,1),e=Gs(e,t,1),t=an(),e!==null&&(hc(e,1,t),yn(e,t))}function yt(e,t,n){if(e.tag===3)Yy(e,e,n);else for(;t!==null;){if(t.tag===3){Yy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))){e=vo(n,e),e=Cb(t,e,1),t=Gs(t,e,1),e=an(),t!==null&&(hc(t,1,e),yn(t,e));break}}t=t.return}}function IP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(Ut&n)===n&&(Mt===4||Mt===3&&(Ut&130023424)===Ut&&500>bt()-Ig?Ui(e,0):Lg|=n),yn(e,t)}function Kb(e,t){t===0&&(e.mode&1?(t=od,od<<=1,!(od&130023424)&&(od=4194304)):t=1);var n=an();e=ds(e,t),e!==null&&(hc(e,t,n),yn(e,n))}function DP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kb(e,n)}function zP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),Kb(e,n)}var Zb;Zb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pn=!1,SP(e,t,n);pn=!!(e.flags&131072)}else pn=!1,ut&&t.flags&1048576&&J_(t,cu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fd(e,t),e=t.pendingProps;var i=fo(t,Qt.current);Qa(t,n),i=Pg(null,t,r,e,i,n);var o=Tg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(r)?(o=!0,ou(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ng(t),i.updater=Zu,t.stateNode=i,i._reactInternals=t,Km(t,r,e,n),t=Ym(null,t,r,!0,o,n)):(t.tag=0,ut&&o&&vg(t),tn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FP(r),e=tr(r,e),i){case 0:t=Gm(null,t,r,e,n);break e;case 1:t=Fy(null,t,r,e,n);break e;case 11:t=zy(null,t,r,e,n);break e;case 14:t=$y(null,t,r,tr(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Gm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Fy(e,t,r,i,n);case 3:e:{if(Ob(t),e===null)throw Error(le(387));r=t.pendingProps,o=t.memoizedState,i=o.element,sb(e,t),hu(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=vo(Error(le(423)),t),t=By(e,t,r,n,i);break e}else if(r!==i){i=vo(Error(le(424)),t),t=By(e,t,r,n,i);break e}else for(En=Zs(t.stateNode.containerInfo.firstChild),Pn=t,ut=!0,or=null,n=nb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){t=us(e,t,n);break e}tn(e,t,r,n)}t=t.child}return t;case 5:return ib(t),e===null&&Hm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,$m(r,i)?l=null:o!==null&&$m(r,o)&&(t.flags|=32),Tb(e,t),tn(e,t,l,n),t.child;case 6:return e===null&&Hm(t),null;case 13:return Rb(e,t,n);case 4:return Sg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=po(t,null,r,n):tn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),zy(e,t,r,i,n);case 7:return tn(e,t,t.pendingProps,n),t.child;case 8:return tn(e,t,t.pendingProps.children,n),t.child;case 12:return tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,it(du,r._currentValue),r._currentValue=l,o!==null)if(fr(o.value,l)){if(o.children===i.children&&!vn.current){t=us(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var u=d.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=as(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?u.next=u:(u.next=m.next,m.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Vm(o.return,n,t),d.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(le(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),Vm(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}tn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qa(t,n),i=qn(i),r=r(i),t.flags|=1,tn(e,t,r,n),t.child;case 14:return r=t.type,i=tr(r,t.pendingProps),i=tr(r.type,i),$y(e,t,r,i,n);case 15:return Eb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Fd(e,t),t.tag=1,xn(r)?(e=!0,ou(t)):e=!1,Qa(t,n),Sb(t,r,i),Km(t,r,i,n),Ym(null,t,r,!0,e,n);case 19:return Mb(e,t,n);case 22:return Pb(e,t,n)}throw Error(le(156,t.tag))};function Gb(e,t){return b_(e,t)}function $P(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new $P(e,t,n,r)}function Fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FP(e){if(typeof e=="function")return Fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ig)return 11;if(e===ag)return 14}return 2}function Js(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wd(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")Fg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ia:return Wi(n.children,i,o,t);case sg:l=8,i|=8;break;case vm:return e=Wn(12,n,t,i|2),e.elementType=vm,e.lanes=o,e;case xm:return e=Wn(13,n,t,i),e.elementType=xm,e.lanes=o,e;case ym:return e=Wn(19,n,t,i),e.elementType=ym,e.lanes=o,e;case i_:return Qu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r_:l=10;break e;case s_:l=9;break e;case ig:l=11;break e;case ag:l=14;break e;case Ts:l=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Wn(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Wi(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function Qu(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=i_,e.lanes=n,e.stateNode={isHidden:!1},e}function Mf(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function Af(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BP(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mf(0),this.expirationTimes=mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bg(e,t,n,r,i,o,l,d,u){return e=new BP(e,t,n,d,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ng(o),e}function UP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yb(e){if(!e)return si;e=e._reactInternals;e:{if(na(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(xn(n))return Y_(e,n,t)}return t}function Qb(e,t,n,r,i,o,l,d,u){return e=Bg(n,r,!0,e,i,o,l,d,u),e.context=Yb(null),n=e.current,r=an(),i=Qs(n),o=as(r,i),o.callback=t??null,Gs(n,o,i),e.current.lanes=i,hc(e,i,r),yn(e,r),e}function Ju(e,t,n,r){var i=t.current,o=an(),l=Qs(i);return n=Yb(n),t.context===null?t.context=n:t.pendingContext=n,t=as(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gs(i,t,l),e!==null&&(dr(e,i,l,o),Dd(e,i,l)),l}function wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ug(e,t){Qy(e,t),(e=e.alternate)&&Qy(e,t)}function WP(){return null}var Jb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wg(e){this._internalRoot=e}Xu.prototype.render=Wg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Ju(e,t,null,null)};Xu.prototype.unmount=Wg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zi(function(){Ju(null,e,null,null)}),t[cs]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=P_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rs.length&&t!==0&&t<Rs[n].priority;n++);Rs.splice(n,0,e),n===0&&O_(e)}};function Hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jy(){}function HP(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=wu(l);o.call(h)}}var l=Qb(t,r,e,0,null,!1,!1,"",Jy);return e._reactRootContainer=l,e[cs]=l.current,Wl(e.nodeType===8?e.parentNode:e),Zi(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var h=wu(u);d.call(h)}}var u=Bg(e,0,!1,null,null,!1,!1,"",Jy);return e._reactRootContainer=u,e[cs]=u.current,Wl(e.nodeType===8?e.parentNode:e),Zi(function(){Ju(t,u,n,r)}),u}function th(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var d=i;i=function(){var u=wu(l);d.call(u)}}Ju(t,l,e,i)}else l=HP(n,t,e,i,r);return wu(l)}C_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(cg(t,n|1),yn(t,bt()),!(Ve&6)&&(xo=bt()+500,ui()))}break;case 13:Zi(function(){var r=ds(e,1);if(r!==null){var i=an();dr(r,e,1,i)}}),Ug(e,1)}};dg=function(e){if(e.tag===13){var t=ds(e,134217728);if(t!==null){var n=an();dr(t,e,134217728,n)}Ug(e,134217728)}};E_=function(e){if(e.tag===13){var t=Qs(e),n=ds(e,t);if(n!==null){var r=an();dr(n,e,t,r)}Ug(e,t)}};P_=function(){return et};T_=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};Pm=function(e,t,n){switch(t){case"input":if(bm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vu(r);if(!i)throw Error(le(90));o_(r),bm(r,i)}}}break;case"textarea":c_(e,n);break;case"select":t=n.value,t!=null&&Ka(e,!!n.multiple,t,!1)}};g_=Dg;v_=Zi;var VP={usingClientEntryPoint:!1,Events:[mc,Fa,Vu,m_,p_,Dg]},al={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=w_(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||WP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Bu=xd.inject(qP),zr=xd}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;Ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(t))throw Error(le(200));return UP(e,t,null,n)};Ln.createRoot=function(e,t){if(!Hg(e))throw Error(le(299));var n=!1,r="",i=Jb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bg(e,1,!1,null,null,n,!1,r,i),e[cs]=t.current,Wl(e.nodeType===8?e.parentNode:e),new Wg(t)};Ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=w_(t),e=e===null?null:e.stateNode,e};Ln.flushSync=function(e){return Zi(e)};Ln.hydrate=function(e,t,n){if(!eh(t))throw Error(le(200));return th(null,e,t,!0,n)};Ln.hydrateRoot=function(e,t,n){if(!Hg(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Jb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Qb(t,null,e,1,n??null,i,!1,o,l),e[cs]=t.current,Wl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)};Ln.render=function(e,t,n){if(!eh(t))throw Error(le(200));return th(null,e,t,!1,n)};Ln.unmountComponentAtNode=function(e){if(!eh(e))throw Error(le(40));return e._reactRootContainer?(Zi(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};Ln.unstable_batchedUpdates=Dg;Ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eh(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return th(e,t,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function Xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xb)}catch(e){console.error(e)}}Xb(),Xw.exports=Ln;var ra=Xw.exports;const e1=Gp(ra);var t1,Xy=ra;t1=Xy.createRoot,Xy.hydrateRoot;const KP=1,ZP=1e6;let Lf=0;function GP(){return Lf=(Lf+1)%Number.MAX_SAFE_INTEGER,Lf.toString()}const If=new Map,e0=e=>{if(If.has(e))return;const t=setTimeout(()=>{If.delete(e),Pl({type:"REMOVE_TOAST",toastId:e})},ZP);If.set(e,t)},YP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,KP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?e0(n):e.toasts.forEach(r=>{e0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Hd=[];let Vd={toasts:[]};function Pl(e){Vd=YP(Vd,e),Hd.forEach(t=>{t(Vd)})}function QP({...e}){const t=GP(),n=i=>Pl({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Pl({type:"DISMISS_TOAST",toastId:t});return Pl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function vt(){const[e,t]=v.useState(Vd);return v.useEffect(()=>(Hd.push(t),()=>{const n=Hd.indexOf(t);n>-1&&Hd.splice(n,1)}),[e]),{...e,toast:QP,dismiss:n=>Pl({type:"DISMISS_TOAST",toastId:n})}}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function t0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n1(...e){return t=>{let n=!1;const r=e.map(i=>{const o=t0(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():t0(e[i],null)}}}}function Qe(...e){return v.useCallback(n1(...e),e)}function JP(e,t){const n=v.createContext(t),r=o=>{const{children:l,...d}=o,u=v.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:u,children:l})};r.displayName=e+"Provider";function i(o){const l=v.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Zn(e,t=[]){let n=[];function r(o,l){const d=v.createContext(l),u=n.length;n=[...n,l];const h=p=>{var S;const{scope:x,children:y,...k}=p,_=((S=x==null?void 0:x[e])==null?void 0:S[u])||d,N=v.useMemo(()=>k,Object.values(k));return s.jsx(_.Provider,{value:N,children:y})};h.displayName=o+"Provider";function m(p,x){var _;const y=((_=x==null?void 0:x[e])==null?void 0:_[u])||d,k=v.useContext(y);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=n.map(l=>v.createContext(l));return function(d){const u=(d==null?void 0:d[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:u}}),[d,u])}};return i.scopeName=e,[r,XP(i,...t)]}function XP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((d,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...d,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function yo(e){const t=tT(e),n=v.forwardRef((r,i)=>{const{children:o,...l}=r,d=v.Children.toArray(o),u=d.find(rT);if(u){const h=u.props.children,m=d.map(p=>p===u?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...l,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var eT=yo("Slot");function tT(e){const t=v.forwardRef((n,r)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=iT(i),d=sT(o,i.props);return i.type!==v.Fragment&&(d.ref=r?n1(r,l):l),v.cloneElement(i,d)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r1=Symbol("radix.slottable");function nT(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=r1,t}function rT(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r1}function sT(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const u=o(...d);return i(...d),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function iT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Vg(e){const t=e+"CollectionProvider",[n,r]=Zn(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:N,children:S}=_,w=ce.useRef(null),b=ce.useRef(new Map).current;return s.jsx(i,{scope:N,itemMap:b,collectionRef:w,children:S})};l.displayName=t;const d=e+"CollectionSlot",u=yo(d),h=ce.forwardRef((_,N)=>{const{scope:S,children:w}=_,b=o(d,S),C=Qe(N,b.collectionRef);return s.jsx(u,{ref:C,children:w})});h.displayName=d;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=yo(m),y=ce.forwardRef((_,N)=>{const{scope:S,children:w,...b}=_,C=ce.useRef(null),P=Qe(N,C),I=o(m,S);return ce.useEffect(()=>(I.itemMap.set(C,{ref:C,...b}),()=>void I.itemMap.delete(C))),s.jsx(x,{[p]:"",ref:P,children:w})});y.displayName=m;function k(_){const N=o(e+"CollectionConsumer",_);return ce.useCallback(()=>{const w=N.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(N.itemMap.values()).sort((I,M)=>b.indexOf(I.ref.current)-b.indexOf(M.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},k,r]}var aT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=aT.reduce((e,t)=>{const n=yo(`Primitive.${t}`),r=v.forwardRef((i,o)=>{const{asChild:l,...d}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function s1(e,t){e&&ra.flushSync(()=>e.dispatchEvent(t))}function Mn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function oT(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var lT="DismissableLayer",lp="dismissableLayer.update",cT="dismissableLayer.pointerDownOutside",dT="dismissableLayer.focusOutside",n0,i1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:d,...u}=e,h=v.useContext(i1),[m,p]=v.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),k=Qe(t,M=>p(M)),_=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(N),w=m?_.indexOf(m):-1,b=h.layersWithOutsidePointerEventsDisabled.size>0,C=w>=S,P=hT(M=>{const $=M.target,H=[...h.branches].some(G=>G.contains($));!C||H||(i==null||i(M),l==null||l(M),M.defaultPrevented||d==null||d())},x),I=fT(M=>{const $=M.target;[...h.branches].some(G=>G.contains($))||(o==null||o(M),l==null||l(M),M.defaultPrevented||d==null||d())},x);return oT(M=>{w===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},x),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(n0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),r0(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=n0)}},[m,x,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),r0())},[m,h]),v.useEffect(()=>{const M=()=>y({});return document.addEventListener(lp,M),()=>document.removeEventListener(lp,M)},[]),s.jsx(Ne.div,{...u,ref:k,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,I.onFocusCapture),onBlurCapture:be(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,P.onPointerDownCapture)})});gc.displayName=lT;var uT="DismissableLayerBranch",a1=v.forwardRef((e,t)=>{const n=v.useContext(i1),r=v.useRef(null),i=Qe(t,r);return v.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Ne.div,{...e,ref:i})});a1.displayName=uT;function hT(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let u=function(){o1(cT,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fT(e,t=globalThis==null?void 0:globalThis.document){const n=Mn(e),r=v.useRef(!1);return v.useEffect(()=>{const i=o=>{o.target&&!r.current&&o1(dT,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function r0(){const e=new CustomEvent(lp);document.dispatchEvent(e)}function o1(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?s1(i,o):i.dispatchEvent(o)}var mT=gc,pT=a1,Tt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},gT="Portal",nh=v.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[i,o]=v.useState(!1);Tt(()=>o(!0),[]);const l=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?e1.createPortal(s.jsx(Ne.div,{...r,ref:t}),l):null});nh.displayName=gT;function vT(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var hi=e=>{const{present:t,children:n}=e,r=xT(t),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=Qe(r.ref,yT(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:o}):null};hi.displayName="Presence";function xT(e){const[t,n]=v.useState(),r=v.useRef(null),i=v.useRef(e),o=v.useRef("none"),l=e?"mounted":"unmounted",[d,u]=vT(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=yd(r.current);o.current=d==="mounted"?h:"none"},[d]),Tt(()=>{const h=r.current,m=i.current;if(m!==e){const x=o.current,y=yd(h);e?u("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Tt(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const _=yd(r.current).includes(y.animationName);if(y.target===t&&_&&(u("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},x=y=>{y.target===t&&(o.current=yd(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function yd(e){return(e==null?void 0:e.animationName)||"none"}function yT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wT=eg[" useInsertionEffect ".trim().toString()]||Tt;function ii({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,l]=_T({defaultProp:t,onChange:n}),d=e!==void 0,u=d?e:i;{const m=v.useRef(e!==void 0);v.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,r])}const h=v.useCallback(m=>{var p;if(d){const x=bT(m)?m(e):m;x!==e&&((p=l.current)==null||p.call(l,x))}else o(m)},[d,e,o,l]);return[u,h]}function _T({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),i=v.useRef(n),o=v.useRef(t);return wT(()=>{o.current=t},[t]),v.useEffect(()=>{var l;i.current!==n&&((l=o.current)==null||l.call(o,n),i.current=n)},[n,i]),[n,r,o]}function bT(e){return typeof e=="function"}var l1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jT="VisuallyHidden",rh=v.forwardRef((e,t)=>s.jsx(Ne.span,{...e,ref:t,style:{...l1,...e.style}}));rh.displayName=jT;var NT=rh,qg="ToastProvider",[Kg,ST,kT]=Vg("Toast"),[c1,bF]=Zn("Toast",[kT]),[CT,sh]=c1(qg),d1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[d,u]=v.useState(null),[h,m]=v.useState(0),p=v.useRef(!1),x=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qg}\`. Expected non-empty \`string\`.`),s.jsx(Kg.Provider,{scope:t,children:s.jsx(CT,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:d,onViewportChange:u,onToastAdd:v.useCallback(()=>m(y=>y+1),[]),onToastRemove:v.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:l})})};d1.displayName=qg;var u1="ToastViewport",ET=["F8"],cp="toast.viewportPause",dp="toast.viewportResume",h1=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ET,label:i="Notifications ({hotkey})",...o}=e,l=sh(u1,n),d=ST(n),u=v.useRef(null),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),x=Qe(t,p,l.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=l.toastCount>0;v.useEffect(()=>{const N=S=>{var b;r.length!==0&&r.every(C=>S[C]||S.code===C)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),v.useEffect(()=>{const N=u.current,S=p.current;if(k&&N&&S){const w=()=>{if(!l.isClosePausedRef.current){const I=new CustomEvent(cp);S.dispatchEvent(I),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const I=new CustomEvent(dp);S.dispatchEvent(I),l.isClosePausedRef.current=!1}},C=I=>{!N.contains(I.relatedTarget)&&b()},P=()=>{N.contains(document.activeElement)||b()};return N.addEventListener("focusin",w),N.addEventListener("focusout",C),N.addEventListener("pointermove",w),N.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{N.removeEventListener("focusin",w),N.removeEventListener("focusout",C),N.removeEventListener("pointermove",w),N.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[k,l.isClosePausedRef]);const _=v.useCallback(({tabbingDirection:N})=>{const w=d().map(b=>{const C=b.ref.current,P=[C,...BT(C)];return N==="forwards"?P:P.reverse()});return(N==="forwards"?w.reverse():w).flat()},[d]);return v.useEffect(()=>{const N=p.current;if(N){const S=w=>{var P,I,M;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const $=document.activeElement,H=w.shiftKey;if(w.target===N&&H){(P=h.current)==null||P.focus();return}const X=_({tabbingDirection:H?"backwards":"forwards"}),J=X.findIndex(O=>O===$);Df(X.slice(J+1))?w.preventDefault():H?(I=h.current)==null||I.focus():(M=m.current)==null||M.focus()}};return N.addEventListener("keydown",S),()=>N.removeEventListener("keydown",S)}},[d,_]),s.jsxs(pT,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&s.jsx(up,{ref:h,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"forwards"});Df(N)}}),s.jsx(Kg.Slot,{scope:n,children:s.jsx(Ne.ol,{tabIndex:-1,...o,ref:x})}),k&&s.jsx(up,{ref:m,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"backwards"});Df(N)}})]})});h1.displayName=u1;var f1="ToastFocusProxy",up=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=sh(f1,n);return s.jsx(rh,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const d=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(d))&&r()}})});up.displayName=f1;var vc="Toast",PT="toast.swipeStart",TT="toast.swipeMove",OT="toast.swipeCancel",RT="toast.swipeEnd",m1=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=e,[d,u]=ii({prop:r,defaultProp:i??!0,onChange:o,caller:vc});return s.jsx(hi,{present:n||d,children:s.jsx(LT,{open:d,...l,ref:t,onClose:()=>u(!1),onPause:Mn(e.onPause),onResume:Mn(e.onResume),onSwipeStart:be(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:be(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});m1.displayName=vc;var[MT,AT]=c1(vc,{onClose(){}}),LT=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:d,onPause:u,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...k}=e,_=sh(vc,n),[N,S]=v.useState(null),w=Qe(t,O=>S(O)),b=v.useRef(null),C=v.useRef(null),P=i||_.duration,I=v.useRef(0),M=v.useRef(P),$=v.useRef(0),{onToastAdd:H,onToastRemove:G}=_,Y=Mn(()=>{var Z;(N==null?void 0:N.contains(document.activeElement))&&((Z=_.viewport)==null||Z.focus()),l()}),X=v.useCallback(O=>{!O||O===1/0||(window.clearTimeout($.current),I.current=new Date().getTime(),$.current=window.setTimeout(Y,O))},[Y]);v.useEffect(()=>{const O=_.viewport;if(O){const Z=()=>{X(M.current),h==null||h()},V=()=>{const B=new Date().getTime()-I.current;M.current=M.current-B,window.clearTimeout($.current),u==null||u()};return O.addEventListener(cp,V),O.addEventListener(dp,Z),()=>{O.removeEventListener(cp,V),O.removeEventListener(dp,Z)}}},[_.viewport,P,u,h,X]),v.useEffect(()=>{o&&!_.isClosePausedRef.current&&X(P)},[o,P,_.isClosePausedRef,X]),v.useEffect(()=>(H(),()=>G()),[H,G]);const J=v.useMemo(()=>N?_1(N):null,[N]);return _.viewport?s.jsxs(s.Fragment,{children:[J&&s.jsx(IT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:J}),s.jsx(MT,{scope:n,onClose:Y,children:ra.createPortal(s.jsx(Kg.ItemSlot,{scope:n,children:s.jsx(mT,{asChild:!0,onEscapeKeyDown:be(d,()=>{_.isFocusedToastEscapeKeyDownRef.current||Y(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,O=>{O.key==="Escape"&&(d==null||d(O.nativeEvent),O.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:be(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:be(e.onPointerMove,O=>{if(!b.current)return;const Z=O.clientX-b.current.x,V=O.clientY-b.current.y,B=!!C.current,T=["left","right"].includes(_.swipeDirection),K=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,U=T?K(0,Z):0,W=T?0:K(0,V),D=O.pointerType==="touch"?10:2,se={x:U,y:W},Q={originalEvent:O,delta:se};B?(C.current=se,wd(TT,p,Q,{discrete:!1})):s0(se,_.swipeDirection,D)?(C.current=se,wd(PT,m,Q,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Z)>D||Math.abs(V)>D)&&(b.current=null)}),onPointerUp:be(e.onPointerUp,O=>{const Z=C.current,V=O.target;if(V.hasPointerCapture(O.pointerId)&&V.releasePointerCapture(O.pointerId),C.current=null,b.current=null,Z){const B=O.currentTarget,T={originalEvent:O,delta:Z};s0(Z,_.swipeDirection,_.swipeThreshold)?wd(RT,y,T,{discrete:!0}):wd(OT,x,T,{discrete:!0}),B.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),IT=e=>{const{__scopeToast:t,children:n,...r}=e,i=sh(vc,t),[o,l]=v.useState(!1),[d,u]=v.useState(!1);return $T(()=>l(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),d?null:s.jsx(nh,{asChild:!0,children:s.jsx(rh,{...r,children:o&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},DT="ToastTitle",p1=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ne.div,{...r,ref:t})});p1.displayName=DT;var zT="ToastDescription",g1=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ne.div,{...r,ref:t})});g1.displayName=zT;var v1="ToastAction",x1=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(w1,{altText:n,asChild:!0,children:s.jsx(Zg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${v1}\`. Expected non-empty \`string\`.`),null)});x1.displayName=v1;var y1="ToastClose",Zg=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=AT(y1,n);return s.jsx(w1,{asChild:!0,children:s.jsx(Ne.button,{type:"button",...r,ref:t,onClick:be(e.onClick,i.onClose)})})});Zg.displayName=y1;var w1=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function _1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),FT(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(..._1(r))}}),t}function wd(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?s1(i,o):i.dispatchEvent(o)}var s0=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function $T(e=()=>{}){const t=Mn(e);Tt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function FT(e){return e.nodeType===e.ELEMENT_NODE}function BT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Df(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var UT=d1,b1=h1,j1=m1,N1=p1,S1=g1,k1=x1,C1=Zg;function E1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=E1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function P1(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=E1(e))&&(r&&(r+=" "),r+=t);return r}const i0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,a0=P1,ih=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return a0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],p=o==null?void 0:o[h];if(m===null)return null;const x=i0(m)||i0(p);return i[h][x]}),d=n&&Object.entries(n).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(k=>{let[_,N]=k;return Array.isArray(N)?N.includes({...o,...d}[_]):{...o,...d}[_]===N})?[...h,p,x]:h},[]);return a0(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...d},u)=>v.createElement("svg",{ref:u,...HT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:T1("lucide",i),...d},[...l.map(([h,m])=>v.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const n=v.forwardRef(({className:r,...i},o)=>v.createElement(VT,{ref:o,iconNode:t,className:T1(`lucide-${WT(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ue("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ue("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ue("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ue("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ue("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ue("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ue("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ue("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ue("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ue("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ue("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ue("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ue("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ue("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ue("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ue("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nv="-",pO=e=>{const t=vO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const d=l.split(nv);return d[0]===""&&d.length!==1&&d.shift(),V1(d,t)||gO(l)},getConflictingClassGroupIds:(l,d)=>{const u=n[l]||[];return d&&r[l]?[...u,...r[l]]:u}}},V1=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?V1(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(nv);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},l0=/^\[(.+)\]$/,gO=e=>{if(l0.test(e)){const t=l0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},vO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return yO(Object.entries(e.classGroups),n).forEach(([o,l])=>{fp(l,r,o,t)}),r},fp=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:c0(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(xO(i)){fp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{fp(l,c0(t,o),n,r)})})},c0=(e,t)=>{let n=e;return t.split(nv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xO=e=>e.isThemeGetter,yO=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,d])=>[t+l,d])):o);return[n,i]}):e,wO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},q1="!",_O=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,l=d=>{const u=[];let h=0,m=0,p;for(let N=0;N<d.length;N++){let S=d[N];if(h===0){if(S===i&&(r||d.slice(N,N+o)===t)){u.push(d.slice(m,N)),m=N+o;continue}if(S==="/"){p=N;continue}}S==="["?h++:S==="]"&&h--}const x=u.length===0?d:d.substring(m),y=x.startsWith(q1),k=y?x.substring(1):x,_=p&&p>m?p-m:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:k,maybePostfixModifierPosition:_}};return n?d=>n({className:d,parseClassName:l}):l},bO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},jO=e=>({cache:wO(e.cacheSize),parseClassName:_O(e),...pO(e)}),NO=/\s+/,SO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],l=e.trim().split(NO);let d="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{modifiers:m,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=n(h);let k=!!y,_=r(k?x.substring(0,y):x);if(!_){if(!k){d=h+(d.length>0?" "+d:d);continue}if(_=r(x),!_){d=h+(d.length>0?" "+d:d);continue}k=!1}const N=bO(m).join(":"),S=p?N+q1:N,w=S+_;if(o.includes(w))continue;o.push(w);const b=i(_,k);for(let C=0;C<b.length;++C){const P=b[C];o.push(S+P)}d=h+(d.length>0?" "+d:d)}return d};function kO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=K1(t))&&(r&&(r+=" "),r+=n);return r}const K1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=K1(e[r]))&&(n&&(n+=" "),n+=t);return n};function CO(e,...t){let n,r,i,o=l;function l(u){const h=t.reduce((m,p)=>p(m),e());return n=jO(h),r=n.cache.get,i=n.cache.set,o=d,d(u)}function d(u){const h=r(u);if(h)return h;const m=SO(u,n);return i(u,m),m}return function(){return o(kO.apply(null,arguments))}}const lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Z1=/^\[(?:([a-z-]+):)?(.+)\]$/i,EO=/^\d+\/\d+$/,PO=new Set(["px","full","screen"]),TO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=e=>Xa(e)||PO.has(e)||EO.test(e),bs=e=>To(e,"length",UO),Xa=e=>!!e&&!Number.isNaN(Number(e)),zf=e=>To(e,"number",Xa),ol=e=>!!e&&Number.isInteger(Number(e)),LO=e=>e.endsWith("%")&&Xa(e.slice(0,-1)),Ae=e=>Z1.test(e),js=e=>TO.test(e),IO=new Set(["length","size","percentage"]),DO=e=>To(e,IO,G1),zO=e=>To(e,"position",G1),$O=new Set(["image","url"]),FO=e=>To(e,$O,HO),BO=e=>To(e,"",WO),ll=()=>!0,To=(e,t,n)=>{const r=Z1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},UO=e=>OO.test(e)&&!RO.test(e),G1=()=>!1,WO=e=>MO.test(e),HO=e=>AO.test(e),VO=()=>{const e=lt("colors"),t=lt("spacing"),n=lt("blur"),r=lt("brightness"),i=lt("borderColor"),o=lt("borderRadius"),l=lt("borderSpacing"),d=lt("borderWidth"),u=lt("contrast"),h=lt("grayscale"),m=lt("hueRotate"),p=lt("invert"),x=lt("gap"),y=lt("gradientColorStops"),k=lt("gradientColorStopPositions"),_=lt("inset"),N=lt("margin"),S=lt("opacity"),w=lt("padding"),b=lt("saturate"),C=lt("scale"),P=lt("sepia"),I=lt("skew"),M=lt("space"),$=lt("translate"),H=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Ae,t],X=()=>[Ae,t],J=()=>["",Qr,bs],O=()=>["auto",Xa,Ae],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ae],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Xa,Ae];return{cacheSize:500,separator:":",theme:{colors:[ll],spacing:[Qr,bs],blur:["none","",js,Ae],brightness:W(),borderColor:[e],borderRadius:["none","","full",js,Ae],borderSpacing:X(),borderWidth:J(),contrast:W(),grayscale:K(),hueRotate:W(),invert:K(),gap:X(),gradientColorStops:[e],gradientColorStopPositions:[LO,bs],inset:Y(),margin:Y(),opacity:W(),padding:X(),saturate:W(),scale:W(),sepia:K(),skew:W(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[js]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ae]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ol,Ae]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",ol,Ae]}],"grid-cols":[{"grid-cols":[ll]}],"col-start-end":[{col:["auto",{span:["full",ol,Ae]},Ae]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ll]}],"row-start-end":[{row:["auto",{span:[ol,Ae]},Ae]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[js]},js]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",js,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zf]}],"font-family":[{font:[ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Xa,zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,bs]}],"underline-offset":[{"underline-offset":["auto",Qr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),zO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Qr,Ae]}],"outline-w":[{outline:[Qr,bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Qr,bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",js,BO]}],"shadow-color":[{shadow:[ll]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",js,Ae]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ol,Ae]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qr,bs,zf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qO=CO(VO);function Te(...e){return qO(P1(e))}const KO=UT,Y1=v.forwardRef(({className:e,...t},n)=>s.jsx(b1,{ref:n,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Y1.displayName=b1.displayName;const ZO=ih("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Q1=v.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(j1,{ref:r,className:Te(ZO({variant:t}),e),...n}));Q1.displayName=j1.displayName;const GO=v.forwardRef(({className:e,...t},n)=>s.jsx(k1,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));GO.displayName=k1.displayName;const J1=v.forwardRef(({className:e,...t},n)=>s.jsx(C1,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(H1,{className:"h-4 w-4"})}));J1.displayName=C1.displayName;const X1=v.forwardRef(({className:e,...t},n)=>s.jsx(N1,{ref:n,className:Te("text-sm font-semibold",e),...t}));X1.displayName=N1.displayName;const ej=v.forwardRef(({className:e,...t},n)=>s.jsx(S1,{ref:n,className:Te("text-sm opacity-90",e),...t}));ej.displayName=S1.displayName;function YO(){const{toasts:e}=vt();return s.jsxs(KO,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return s.jsxs(Q1,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(X1,{children:n}),r&&s.jsx(ej,{children:r})]}),i,s.jsx(J1,{})]},t)}),s.jsx(Y1,{})]})}var d0=["light","dark"],QO="(prefers-color-scheme: dark)",JO=v.createContext(void 0),XO={setTheme:e=>{},themes:[]},eR=()=>{var e;return(e=v.useContext(JO))!=null?e:XO};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:l,attrs:d,nonce:u})=>{let h=o==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?d0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(k,_=!1,N=!0)=>{let S=l?l[k]:k,w=_?k+"|| ''":`'${S}'`,b="";return i&&N&&!_&&d0.includes(k)&&(b+=`d.style.colorScheme = '${k}';`),n==="class"?_||S?b+=`c.add(${w})`:b+="null":S&&(b+=`d[s](n,${w})`),b},y=e?`!function(){${m}${x(e)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${QO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}${h?"":"else{"+x(o,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}else{${x(o,!1,!1)};}${p}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var tR=e=>{switch(e){case"success":return sR;case"info":return aR;case"warning":return iR;case"error":return oR;default:return null}},nR=Array(12).fill(0),rR=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},nR.map((n,r)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),sR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lR=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cR=()=>{let[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},mp=1,dR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mp++,o=this.toasts.find(d=>d.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:n}),{...d,...e,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...r,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,o,l=r.then(async u=>{if(o=["resolve",u],ce.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(hR(u)&&!u.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description;this.create({id:n,type:"error",message:h,description:m})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(u):t.success,m=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(u):t.error,m=typeof t.description=="function"?await t.description(u):t.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=t.finally)==null||u.call(t)}),d=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||mp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new dR,uR=(e,t)=>{let n=(t==null?void 0:t.id)||mp++;return un.addToast({title:e,...t,id:n}),n},hR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fR=uR,mR=()=>un.toasts,pR=()=>un.getActiveToasts();Object.assign(fR,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:mR,getToasts:pR});function gR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}gR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _d(e){return e.label!==void 0}var vR=3,xR="32px",yR="16px",u0=4e3,wR=356,_R=14,bR=20,jR=200;function Jn(...e){return e.filter(Boolean).join(" ")}function NR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var SR=e=>{var t,n,r,i,o,l,d,u,h,m,p;let{invert:x,toast:y,unstyled:k,interacting:_,setHeights:N,visibleToasts:S,heights:w,index:b,toasts:C,expanded:P,removeToast:I,defaultRichColors:M,closeButton:$,style:H,cancelButtonStyle:G,actionButtonStyle:Y,className:X="",descriptionClassName:J="",duration:O,position:Z,gap:V,loadingIcon:B,expandByDefault:T,classNames:K,icons:U,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:D}=e,[se,Q]=ce.useState(null),[ie,te]=ce.useState(null),[A,ae]=ce.useState(!1),[de,pe]=ce.useState(!1),[fe,oe]=ce.useState(!1),[ve,Ue]=ce.useState(!1),[Je,ht]=ce.useState(!1),[tt,_e]=ce.useState(0),[ke,We]=ce.useState(0),Fe=ce.useRef(y.duration||O||u0),xe=ce.useRef(null),Ie=ce.useRef(null),jt=b===0,vs=b+1<=S,Ht=y.type,Vr=y.dismissible!==!1,Rc=y.className||"",Rh=y.descriptionClassName||"",vi=ce.useMemo(()=>w.findIndex(Ee=>Ee.toastId===y.id)||0,[w,y.id]),Mc=ce.useMemo(()=>{var Ee;return(Ee=y.closeButton)!=null?Ee:$},[y.closeButton,$]),Ac=ce.useMemo(()=>y.duration||O||u0,[y.duration,O]),ua=ce.useRef(0),wr=ce.useRef(0),$o=ce.useRef(0),xs=ce.useRef(null),[xi,Mh]=Z.split("-"),Lc=ce.useMemo(()=>w.reduce((Ee,Ye,nt)=>nt>=vi?Ee:Ee+Ye.height,0),[w,vi]),Fo=cR(),Ic=y.invert||x,ha=Ht==="loading";wr.current=ce.useMemo(()=>vi*V+Lc,[vi,Lc]),ce.useEffect(()=>{Fe.current=Ac},[Ac]),ce.useEffect(()=>{ae(!0)},[]),ce.useEffect(()=>{let Ee=Ie.current;if(Ee){let Ye=Ee.getBoundingClientRect().height;return We(Ye),N(nt=>[{toastId:y.id,height:Ye,position:y.position},...nt]),()=>N(nt=>nt.filter(jn=>jn.toastId!==y.id))}},[N,y.id]),ce.useLayoutEffect(()=>{if(!A)return;let Ee=Ie.current,Ye=Ee.style.height;Ee.style.height="auto";let nt=Ee.getBoundingClientRect().height;Ee.style.height=Ye,We(nt),N(jn=>jn.find(Jt=>Jt.toastId===y.id)?jn.map(Jt=>Jt.toastId===y.id?{...Jt,height:nt}:Jt):[{toastId:y.id,height:nt,position:y.position},...jn])},[A,y.title,y.description,N,y.id]);let _r=ce.useCallback(()=>{pe(!0),_e(wr.current),N(Ee=>Ee.filter(Ye=>Ye.toastId!==y.id)),setTimeout(()=>{I(y)},jR)},[y,I,N,wr]);ce.useEffect(()=>{if(y.promise&&Ht==="loading"||y.duration===1/0||y.type==="loading")return;let Ee;return P||_||D&&Fo?(()=>{if($o.current<ua.current){let Ye=new Date().getTime()-ua.current;Fe.current=Fe.current-Ye}$o.current=new Date().getTime()})():Fe.current!==1/0&&(ua.current=new Date().getTime(),Ee=setTimeout(()=>{var Ye;(Ye=y.onAutoClose)==null||Ye.call(y,y),_r()},Fe.current)),()=>clearTimeout(Ee)},[P,_,y,Ht,D,Fo,_r]),ce.useEffect(()=>{y.delete&&_r()},[_r,y.delete]);function Ah(){var Ee,Ye,nt;return U!=null&&U.loading?ce.createElement("div",{className:Jn(K==null?void 0:K.loader,(Ee=y==null?void 0:y.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ht==="loading"},U.loading):B?ce.createElement("div",{className:Jn(K==null?void 0:K.loader,(Ye=y==null?void 0:y.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":Ht==="loading"},B):ce.createElement(rR,{className:Jn(K==null?void 0:K.loader,(nt=y==null?void 0:y.classNames)==null?void 0:nt.loader),visible:Ht==="loading"})}return ce.createElement("li",{tabIndex:0,ref:Ie,className:Jn(X,Rc,K==null?void 0:K.toast,(t=y==null?void 0:y.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[Ht],(n=y==null?void 0:y.classNames)==null?void 0:n[Ht]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:M,"data-styled":!(y.jsx||y.unstyled||k),"data-mounted":A,"data-promise":!!y.promise,"data-swiped":Je,"data-removed":de,"data-visible":vs,"data-y-position":xi,"data-x-position":Mh,"data-index":b,"data-front":jt,"data-swiping":fe,"data-dismissible":Vr,"data-type":Ht,"data-invert":Ic,"data-swipe-out":ve,"data-swipe-direction":ie,"data-expanded":!!(P||T&&A),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${de?tt:wr.current}px`,"--initial-height":T?"auto":`${ke}px`,...H,...y.style},onDragEnd:()=>{oe(!1),Q(null),xs.current=null},onPointerDown:Ee=>{ha||!Vr||(xe.current=new Date,_e(wr.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(oe(!0),xs.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,Ye,nt,jn;if(ve||!Vr)return;xs.current=null;let Jt=Number(((Ee=Ie.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),br=Number(((Ye=Ie.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qr=new Date().getTime()-((nt=xe.current)==null?void 0:nt.getTime()),Nn=se==="x"?Jt:br,jr=Math.abs(Nn)/qr;if(Math.abs(Nn)>=bR||jr>.11){_e(wr.current),(jn=y.onDismiss)==null||jn.call(y,y),te(se==="x"?Jt>0?"right":"left":br>0?"down":"up"),_r(),Ue(!0),ht(!1);return}oe(!1),Q(null)},onPointerMove:Ee=>{var Ye,nt,jn,Jt;if(!xs.current||!Vr||((Ye=window.getSelection())==null?void 0:Ye.toString().length)>0)return;let br=Ee.clientY-xs.current.y,qr=Ee.clientX-xs.current.x,Nn=(nt=e.swipeDirections)!=null?nt:NR(Z);!se&&(Math.abs(qr)>1||Math.abs(br)>1)&&Q(Math.abs(qr)>Math.abs(br)?"x":"y");let jr={x:0,y:0};se==="y"?(Nn.includes("top")||Nn.includes("bottom"))&&(Nn.includes("top")&&br<0||Nn.includes("bottom")&&br>0)&&(jr.y=br):se==="x"&&(Nn.includes("left")||Nn.includes("right"))&&(Nn.includes("left")&&qr<0||Nn.includes("right")&&qr>0)&&(jr.x=qr),(Math.abs(jr.x)>0||Math.abs(jr.y)>0)&&ht(!0),(jn=Ie.current)==null||jn.style.setProperty("--swipe-amount-x",`${jr.x}px`),(Jt=Ie.current)==null||Jt.style.setProperty("--swipe-amount-y",`${jr.y}px`)}},Mc&&!y.jsx?ce.createElement("button",{"aria-label":W,"data-disabled":ha,"data-close-button":!0,onClick:ha||!Vr?()=>{}:()=>{var Ee;_r(),(Ee=y.onDismiss)==null||Ee.call(y,y)},className:Jn(K==null?void 0:K.closeButton,(i=y==null?void 0:y.classNames)==null?void 0:i.closeButton)},(o=U==null?void 0:U.close)!=null?o:lR):null,y.jsx||v.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ce.createElement(ce.Fragment,null,Ht||y.icon||y.promise?ce.createElement("div",{"data-icon":"",className:Jn(K==null?void 0:K.icon,(l=y==null?void 0:y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ah():null,y.type!=="loading"?y.icon||(U==null?void 0:U[Ht])||tR(Ht):null):null,ce.createElement("div",{"data-content":"",className:Jn(K==null?void 0:K.content,(d=y==null?void 0:y.classNames)==null?void 0:d.content)},ce.createElement("div",{"data-title":"",className:Jn(K==null?void 0:K.title,(u=y==null?void 0:y.classNames)==null?void 0:u.title)},typeof y.title=="function"?y.title():y.title),y.description?ce.createElement("div",{"data-description":"",className:Jn(J,Rh,K==null?void 0:K.description,(h=y==null?void 0:y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),v.isValidElement(y.cancel)?y.cancel:y.cancel&&_d(y.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||G,onClick:Ee=>{var Ye,nt;_d(y.cancel)&&Vr&&((nt=(Ye=y.cancel).onClick)==null||nt.call(Ye,Ee),_r())},className:Jn(K==null?void 0:K.cancelButton,(m=y==null?void 0:y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,v.isValidElement(y.action)?y.action:y.action&&_d(y.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||Y,onClick:Ee=>{var Ye,nt;_d(y.action)&&((nt=(Ye=y.action).onClick)==null||nt.call(Ye,Ee),!Ee.defaultPrevented&&_r())},className:Jn(K==null?void 0:K.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function h0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kR(e,t){let n={};return[e,t].forEach((r,i)=>{let o=i===1,l=o?"--mobile-offset":"--offset",d=o?yR:xR;function u(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(d)}),n}var CR=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:d,offset:u,mobileOffset:h,theme:m="light",richColors:p,duration:x,style:y,visibleToasts:k=vR,toastOptions:_,dir:N=h0(),gap:S=_R,loadingIcon:w,icons:b,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:P}=e,[I,M]=ce.useState([]),$=ce.useMemo(()=>Array.from(new Set([r].concat(I.filter(D=>D.position).map(D=>D.position)))),[I,r]),[H,G]=ce.useState([]),[Y,X]=ce.useState(!1),[J,O]=ce.useState(!1),[Z,V]=ce.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ce.useRef(null),T=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ce.useRef(null),U=ce.useRef(!1),W=ce.useCallback(D=>{M(se=>{var Q;return(Q=se.find(ie=>ie.id===D.id))!=null&&Q.delete||un.dismiss(D.id),se.filter(({id:ie})=>ie!==D.id)})},[]);return ce.useEffect(()=>un.subscribe(D=>{if(D.dismiss){M(se=>se.map(Q=>Q.id===D.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{e1.flushSync(()=>{M(se=>{let Q=se.findIndex(ie=>ie.id===D.id);return Q!==-1?[...se.slice(0,Q),{...se[Q],...D},...se.slice(Q+1)]:[D,...se]})})})}),[]),ce.useEffect(()=>{if(m!=="system"){V(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:se})=>{V(se?"dark":"light")})}catch{D.addListener(({matches:Q})=>{try{V(Q?"dark":"light")}catch(ie){console.error(ie)}})}},[m]),ce.useEffect(()=>{I.length<=1&&X(!1)},[I]),ce.useEffect(()=>{let D=se=>{var Q,ie;i.every(te=>se[te]||se.code===te)&&(X(!0),(Q=B.current)==null||Q.focus()),se.code==="Escape"&&(document.activeElement===B.current||(ie=B.current)!=null&&ie.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),ce.useEffect(()=>{if(B.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,U.current=!1)}},[B.current]),ce.createElement("section",{ref:t,"aria-label":`${C} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((D,se)=>{var Q;let[ie,te]=D.split("-");return I.length?ce.createElement("ol",{key:D,dir:N==="auto"?h0():N,tabIndex:-1,ref:B,className:d,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":ie,"data-lifted":Y&&I.length>1&&!o,"data-x-position":te,style:{"--front-toast-height":`${((Q=H[0])==null?void 0:Q.height)||0}px`,"--width":`${wR}px`,"--gap":`${S}px`,...y,...kR(u,h)},onBlur:A=>{U.current&&!A.currentTarget.contains(A.relatedTarget)&&(U.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||U.current||(U.current=!0,K.current=A.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{J||X(!1)},onDragEnd:()=>X(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},I.filter(A=>!A.position&&se===0||A.position===D).map((A,ae)=>{var de,pe;return ce.createElement(SR,{key:A.id,icons:b,index:ae,toast:A,defaultRichColors:p,duration:(de=_==null?void 0:_.duration)!=null?de:x,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:k,closeButton:(pe=_==null?void 0:_.closeButton)!=null?pe:l,interacting:J,position:D,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:W,toasts:I.filter(fe=>fe.position==A.position),heights:H.filter(fe=>fe.position==A.position),setHeights:G,expandByDefault:o,gap:S,loadingIcon:w,expanded:Y,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});const ER=({...e})=>{const{theme:t="system"}=eR();return s.jsx(CR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var PR=eg[" useId ".trim().toString()]||(()=>{}),TR=0;function ei(e){const[t,n]=v.useState(PR());return Tt(()=>{e||n(r=>r??String(TR++))},[e]),e||(t?`radix-${t}`:"")}const OR=["top","right","bottom","left"],oi=Math.min,Cn=Math.max,ju=Math.round,bd=Math.floor,Fr=e=>({x:e,y:e}),RR={left:"right",right:"left",bottom:"top",top:"bottom"},MR={start:"end",end:"start"};function pp(e,t,n){return Cn(e,oi(t,n))}function hs(e,t){return typeof e=="function"?e(t):e}function fs(e){return e.split("-")[0]}function Oo(e){return e.split("-")[1]}function rv(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}const AR=new Set(["top","bottom"]);function Ir(e){return AR.has(fs(e))?"y":"x"}function iv(e){return rv(Ir(e))}function LR(e,t,n){n===void 0&&(n=!1);const r=Oo(e),i=iv(e),o=sv(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Nu(l)),[l,Nu(l)]}function IR(e){const t=Nu(e);return[gp(e),t,gp(t)]}function gp(e){return e.replace(/start|end/g,t=>MR[t])}const f0=["left","right"],m0=["right","left"],DR=["top","bottom"],zR=["bottom","top"];function $R(e,t,n){switch(e){case"top":case"bottom":return n?t?m0:f0:t?f0:m0;case"left":case"right":return t?DR:zR;default:return[]}}function FR(e,t,n,r){const i=Oo(e);let o=$R(fs(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(gp)))),o}function Nu(e){return e.replace(/left|right|bottom|top/g,t=>RR[t])}function BR(e){return{top:0,right:0,bottom:0,left:0,...e}}function tj(e){return typeof e!="number"?BR(e):{top:e,right:e,bottom:e,left:e}}function Su(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function p0(e,t,n){let{reference:r,floating:i}=e;const o=Ir(t),l=iv(t),d=sv(l),u=fs(t),h=o==="y",m=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,x=r[d]/2-i[d]/2;let y;switch(u){case"top":y={x:m,y:r.y-i.height};break;case"bottom":y={x:m,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(Oo(t)){case"start":y[l]-=x*(n&&h?-1:1);break;case"end":y[l]+=x*(n&&h?-1:1);break}return y}const UR=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=p0(h,r,u),x=r,y={},k=0;for(let _=0;_<d.length;_++){const{name:N,fn:S}=d[_],{x:w,y:b,data:C,reset:P}=await S({x:m,y:p,initialPlacement:r,placement:x,strategy:i,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});m=w??m,p=b??p,y={...y,[N]:{...y[N],...C}},P&&k<=50&&(k++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:m,y:p}=p0(h,x,u)),_=-1)}return{x:m,y:p,placement:x,strategy:i,middlewareData:y}};async function Jl(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:d,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=hs(t,e),k=tj(y),N=d[x?p==="floating"?"reference":"floating":p],S=Su(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:u})),w=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),C=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Su(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:w,offsetParent:b,strategy:u}):w);return{top:(S.top-P.top+k.top)/C.y,bottom:(P.bottom-S.bottom+k.bottom)/C.y,left:(S.left-P.left+k.left)/C.x,right:(P.right-S.right+k.right)/C.x}}const WR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:d,middlewareData:u}=t,{element:h,padding:m=0}=hs(e,t)||{};if(h==null)return{};const p=tj(m),x={x:n,y:r},y=iv(i),k=sv(y),_=await l.getDimensions(h),N=y==="y",S=N?"top":"left",w=N?"bottom":"right",b=N?"clientHeight":"clientWidth",C=o.reference[k]+o.reference[y]-x[y]-o.floating[k],P=x[y]-o.reference[y],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=I?I[b]:0;(!M||!await(l.isElement==null?void 0:l.isElement(I)))&&(M=d.floating[b]||o.floating[k]);const $=C/2-P/2,H=M/2-_[k]/2-1,G=oi(p[S],H),Y=oi(p[w],H),X=G,J=M-_[k]-Y,O=M/2-_[k]/2+$,Z=pp(X,O,J),V=!u.arrow&&Oo(i)!=null&&O!==Z&&o.reference[k]/2-(O<X?G:Y)-_[k]/2<0,B=V?O<X?O-X:O-J:0;return{[y]:x[y]+B,data:{[y]:Z,centerOffset:O-Z-B,...V&&{alignmentOffset:B}},reset:V}}}),HR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:d,platform:u,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...N}=hs(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=fs(i),w=Ir(d),b=fs(d)===d,C=await(u.isRTL==null?void 0:u.isRTL(h.floating)),P=x||(b||!_?[Nu(d)]:IR(d)),I=k!=="none";!x&&I&&P.push(...FR(d,_,k,C));const M=[d,...P],$=await Jl(t,N),H=[];let G=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&H.push($[S]),p){const O=LR(i,l,C);H.push($[O[0]],$[O[1]])}if(G=[...G,{placement:i,overflows:H}],!H.every(O=>O<=0)){var Y,X;const O=(((Y=o.flip)==null?void 0:Y.index)||0)+1,Z=M[O];if(Z&&(!(p==="alignment"?w!==Ir(Z):!1)||G.every(T=>T.overflows[0]>0&&Ir(T.placement)===w)))return{data:{index:O,overflows:G},reset:{placement:Z}};let V=(X=G.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:X.placement;if(!V)switch(y){case"bestFit":{var J;const B=(J=G.filter(T=>{if(I){const K=Ir(T.placement);return K===w||K==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(K=>K>0).reduce((K,U)=>K+U,0)]).sort((T,K)=>T[1]-K[1])[0])==null?void 0:J[0];B&&(V=B);break}case"initialPlacement":V=d;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function g0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v0(e){return OR.some(t=>e[t]>=0)}const VR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=hs(e,t);switch(r){case"referenceHidden":{const o=await Jl(t,{...i,elementContext:"reference"}),l=g0(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:v0(l)}}}case"escaped":{const o=await Jl(t,{...i,altBoundary:!0}),l=g0(o,n.floating);return{data:{escapedOffsets:l,escaped:v0(l)}}}default:return{}}}}},nj=new Set(["left","top"]);async function qR(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=fs(n),d=Oo(n),u=Ir(n)==="y",h=nj.has(l)?-1:1,m=o&&u?-1:1,p=hs(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:k}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof k=="number"&&(y=d==="end"?k*-1:k),u?{x:y*m,y:x*h}:{x:x*h,y:y*m}}const KR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:d}=t,u=await qR(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},ZR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:d={fn:N=>{let{x:S,y:w}=N;return{x:S,y:w}}},...u}=hs(e,t),h={x:n,y:r},m=await Jl(t,u),p=Ir(fs(i)),x=rv(p);let y=h[x],k=h[p];if(o){const N=x==="y"?"top":"left",S=x==="y"?"bottom":"right",w=y+m[N],b=y-m[S];y=pp(w,y,b)}if(l){const N=p==="y"?"top":"left",S=p==="y"?"bottom":"right",w=k+m[N],b=k-m[S];k=pp(w,k,b)}const _=d.fn({...t,[x]:y,[p]:k});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[x]:o,[p]:l}}}}}},GR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:u=!0,crossAxis:h=!0}=hs(e,t),m={x:n,y:r},p=Ir(i),x=rv(p);let y=m[x],k=m[p];const _=hs(d,t),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const b=x==="y"?"height":"width",C=o.reference[x]-o.floating[b]+N.mainAxis,P=o.reference[x]+o.reference[b]-N.mainAxis;y<C?y=C:y>P&&(y=P)}if(h){var S,w;const b=x==="y"?"width":"height",C=nj.has(fs(i)),P=o.reference[p]-o.floating[b]+(C&&((S=l.offset)==null?void 0:S[p])||0)+(C?0:N.crossAxis),I=o.reference[p]+o.reference[b]+(C?0:((w=l.offset)==null?void 0:w[p])||0)-(C?N.crossAxis:0);k<P?k=P:k>I&&(k=I)}return{[x]:y,[p]:k}}}},YR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:d}=t,{apply:u=()=>{},...h}=hs(e,t),m=await Jl(t,h),p=fs(i),x=Oo(i),y=Ir(i)==="y",{width:k,height:_}=o.floating;let N,S;p==="top"||p==="bottom"?(N=p,S=x===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(S=p,N=x==="end"?"top":"bottom");const w=_-m.top-m.bottom,b=k-m.left-m.right,C=oi(_-m[N],w),P=oi(k-m[S],b),I=!t.middlewareData.shift;let M=C,$=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=w),I&&!x){const G=Cn(m.left,0),Y=Cn(m.right,0),X=Cn(m.top,0),J=Cn(m.bottom,0);y?$=k-2*(G!==0||Y!==0?G+Y:Cn(m.left,m.right)):M=_-2*(X!==0||J!==0?X+J:Cn(m.top,m.bottom))}await u({...t,availableWidth:$,availableHeight:M});const H=await l.getDimensions(d.floating);return k!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function lh(){return typeof window<"u"}function Ro(e){return rj(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hr(e){var t;return(t=(rj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rj(e){return lh()?e instanceof Node||e instanceof Tn(e).Node:!1}function mr(e){return lh()?e instanceof Element||e instanceof Tn(e).Element:!1}function Br(e){return lh()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function x0(e){return!lh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}const QR=new Set(["inline","contents"]);function wc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!QR.has(i)}const JR=new Set(["table","td","th"]);function XR(e){return JR.has(Ro(e))}const e4=[":popover-open",":modal"];function ch(e){return e4.some(t=>{try{return e.matches(t)}catch{return!1}})}const t4=["transform","translate","scale","rotate","perspective"],n4=["transform","translate","scale","rotate","perspective","filter"],r4=["paint","layout","strict","content"];function av(e){const t=ov(),n=mr(e)?pr(e):e;return t4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||n4.some(r=>(n.willChange||"").includes(r))||r4.some(r=>(n.contain||"").includes(r))}function s4(e){let t=li(e);for(;Br(t)&&!bo(t);){if(av(t))return t;if(ch(t))return null;t=li(t)}return null}function ov(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const i4=new Set(["html","body","#document"]);function bo(e){return i4.has(Ro(e))}function pr(e){return Tn(e).getComputedStyle(e)}function dh(e){return mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Ro(e)==="html")return e;const t=e.assignedSlot||e.parentNode||x0(e)&&e.host||Hr(e);return x0(t)?t.host:t}function sj(e){const t=li(e);return bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Br(t)&&wc(t)?t:sj(t)}function Xl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=sj(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Tn(i);if(o){const d=vp(l);return t.concat(l,l.visualViewport||[],wc(i)?i:[],d&&n?Xl(d):[])}return t.concat(i,Xl(i,[],n))}function vp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ij(e){const t=pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Br(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,d=ju(n)!==o||ju(r)!==l;return d&&(n=o,r=l),{width:n,height:r,$:d}}function lv(e){return mr(e)?e:e.contextElement}function eo(e){const t=lv(e);if(!Br(t))return Fr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ij(t);let l=(o?ju(n.width):n.width)/r,d=(o?ju(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const a4=Fr(0);function aj(e){const t=Tn(e);return!ov()||!t.visualViewport?a4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function o4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function Yi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=lv(e);let l=Fr(1);t&&(r?mr(r)&&(l=eo(r)):l=eo(e));const d=o4(o,n,r)?aj(o):Fr(0);let u=(i.left+d.x)/l.x,h=(i.top+d.y)/l.y,m=i.width/l.x,p=i.height/l.y;if(o){const x=Tn(o),y=r&&mr(r)?Tn(r):r;let k=x,_=vp(k);for(;_&&r&&y!==k;){const N=eo(_),S=_.getBoundingClientRect(),w=pr(_),b=S.left+(_.clientLeft+parseFloat(w.paddingLeft))*N.x,C=S.top+(_.clientTop+parseFloat(w.paddingTop))*N.y;u*=N.x,h*=N.y,m*=N.x,p*=N.y,u+=b,h+=C,k=Tn(_),_=vp(k)}}return Su({width:m,height:p,x:u,y:h})}function cv(e,t){const n=dh(e).scrollLeft;return t?t.left+n:Yi(Hr(e)).left+n}function oj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:cv(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function l4(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=Hr(r),d=t?ch(t.floating):!1;if(r===l||d&&o)return n;let u={scrollLeft:0,scrollTop:0},h=Fr(1);const m=Fr(0),p=Br(r);if((p||!p&&!o)&&((Ro(r)!=="body"||wc(l))&&(u=dh(r)),Br(r))){const y=Yi(r);h=eo(r),m.x=y.x+r.clientLeft,m.y=y.y+r.clientTop}const x=l&&!p&&!o?oj(l,u,!0):Fr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-u.scrollTop*h.y+m.y+x.y}}function c4(e){return Array.from(e.getClientRects())}function d4(e){const t=Hr(e),n=dh(e),r=e.ownerDocument.body,i=Cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+cv(e);const d=-n.scrollTop;return pr(r).direction==="rtl"&&(l+=Cn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:d}}function u4(e,t){const n=Tn(e),r=Hr(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,d=0,u=0;if(i){o=i.width,l=i.height;const h=ov();(!h||h&&t==="fixed")&&(d=i.offsetLeft,u=i.offsetTop)}return{width:o,height:l,x:d,y:u}}const h4=new Set(["absolute","fixed"]);function f4(e,t){const n=Yi(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Br(e)?eo(e):Fr(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:l,height:d,x:u,y:h}}function y0(e,t,n){let r;if(t==="viewport")r=u4(e,n);else if(t==="document")r=d4(Hr(e));else if(mr(t))r=f4(t,n);else{const i=aj(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Su(r)}function lj(e,t){const n=li(e);return n===t||!mr(n)||bo(n)?!1:pr(n).position==="fixed"||lj(n,t)}function m4(e,t){const n=t.get(e);if(n)return n;let r=Xl(e,[],!1).filter(d=>mr(d)&&Ro(d)!=="body"),i=null;const o=pr(e).position==="fixed";let l=o?li(e):e;for(;mr(l)&&!bo(l);){const d=pr(l),u=av(l);!u&&d.position==="fixed"&&(i=null),(o?!u&&!i:!u&&d.position==="static"&&!!i&&h4.has(i.position)||wc(l)&&!u&&lj(e,l))?r=r.filter(m=>m!==l):i=d,l=li(l)}return t.set(e,r),r}function p4(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?ch(t)?[]:m4(t,this._c):[].concat(n),r],d=l[0],u=l.reduce((h,m)=>{const p=y0(t,m,i);return h.top=Cn(p.top,h.top),h.right=oi(p.right,h.right),h.bottom=oi(p.bottom,h.bottom),h.left=Cn(p.left,h.left),h},y0(t,d,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function g4(e){const{width:t,height:n}=ij(e);return{width:t,height:n}}function v4(e,t,n){const r=Br(t),i=Hr(t),o=n==="fixed",l=Yi(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const u=Fr(0);function h(){u.x=cv(i)}if(r||!r&&!o)if((Ro(t)!=="body"||wc(i))&&(d=dh(t)),r){const y=Yi(t,!0,o,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else i&&h();o&&!r&&i&&h();const m=i&&!r&&!o?oj(i,d):Fr(0),p=l.left+d.scrollLeft-u.x-m.x,x=l.top+d.scrollTop-u.y-m.y;return{x:p,y:x,width:l.width,height:l.height}}function $f(e){return pr(e).position==="static"}function w0(e,t){if(!Br(e)||pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hr(e)===n&&(n=n.ownerDocument.body),n}function cj(e,t){const n=Tn(e);if(ch(e))return n;if(!Br(e)){let i=li(e);for(;i&&!bo(i);){if(mr(i)&&!$f(i))return i;i=li(i)}return n}let r=w0(e,t);for(;r&&XR(r)&&$f(r);)r=w0(r,t);return r&&bo(r)&&$f(r)&&!av(r)?n:r||s4(e)||n}const x4=async function(e){const t=this.getOffsetParent||cj,n=this.getDimensions,r=await n(e.floating);return{reference:v4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y4(e){return pr(e).direction==="rtl"}const w4={convertOffsetParentRelativeRectToViewportRelativeRect:l4,getDocumentElement:Hr,getClippingRect:p4,getOffsetParent:cj,getElementRects:x4,getClientRects:c4,getDimensions:g4,getScale:eo,isElement:mr,isRTL:y4};function dj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _4(e,t){let n=null,r;const i=Hr(e);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),o();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:y}=h;if(d||t(),!x||!y)return;const k=bd(p),_=bd(i.clientWidth-(m+x)),N=bd(i.clientHeight-(p+y)),S=bd(m),b={rootMargin:-k+"px "+-_+"px "+-N+"px "+-S+"px",threshold:Cn(0,oi(1,u))||1};let C=!0;function P(I){const M=I[0].intersectionRatio;if(M!==u){if(!C)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!dj(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(P,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,b)}n.observe(e)}return l(!0),o}function b4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=lv(e),m=i||o?[...h?Xl(h):[],...Xl(t)]:[];m.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const p=h&&d?_4(h,n):null;let x=-1,y=null;l&&(y=new ResizeObserver(S=>{let[w]=S;w&&w.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),n()}),h&&!u&&y.observe(h),y.observe(t));let k,_=u?Yi(e):null;u&&N();function N(){const S=Yi(e);_&&!dj(_,S)&&n(),_=S,k=requestAnimationFrame(N)}return n(),()=>{var S;m.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),p==null||p(),(S=y)==null||S.disconnect(),y=null,u&&cancelAnimationFrame(k)}}const j4=KR,N4=ZR,S4=HR,k4=YR,C4=VR,_0=WR,E4=GR,P4=(e,t,n)=>{const r=new Map,i={platform:w4,...n},o={...i.platform,_c:r};return UR(e,t,{...i,platform:o})};var T4=typeof document<"u",O4=function(){},Kd=T4?v.useLayoutEffect:O4;function ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ku(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ku(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function uj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b0(e,t){const n=uj(e);return Math.round(t*n)/n}function Ff(e){const t=v.useRef(e);return Kd(()=>{t.current=e}),t}function R4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:u,open:h}=e,[m,p]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=v.useState(r);ku(x,r)||y(r);const[k,_]=v.useState(null),[N,S]=v.useState(null),w=v.useCallback(T=>{T!==I.current&&(I.current=T,_(T))},[]),b=v.useCallback(T=>{T!==M.current&&(M.current=T,S(T))},[]),C=o||k,P=l||N,I=v.useRef(null),M=v.useRef(null),$=v.useRef(m),H=u!=null,G=Ff(u),Y=Ff(i),X=Ff(h),J=v.useCallback(()=>{if(!I.current||!M.current)return;const T={placement:t,strategy:n,middleware:x};Y.current&&(T.platform=Y.current),P4(I.current,M.current,T).then(K=>{const U={...K,isPositioned:X.current!==!1};O.current&&!ku($.current,U)&&($.current=U,ra.flushSync(()=>{p(U)}))})},[x,t,n,Y,X]);Kd(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(T=>({...T,isPositioned:!1})))},[h]);const O=v.useRef(!1);Kd(()=>(O.current=!0,()=>{O.current=!1}),[]),Kd(()=>{if(C&&(I.current=C),P&&(M.current=P),C&&P){if(G.current)return G.current(C,P,J);J()}},[C,P,J,G,H]);const Z=v.useMemo(()=>({reference:I,floating:M,setReference:w,setFloating:b}),[w,b]),V=v.useMemo(()=>({reference:C,floating:P}),[C,P]),B=v.useMemo(()=>{const T={position:n,left:0,top:0};if(!V.floating)return T;const K=b0(V.floating,m.x),U=b0(V.floating,m.y);return d?{...T,transform:"translate("+K+"px, "+U+"px)",...uj(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:U}},[n,d,V.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:J,refs:Z,elements:V,floatingStyles:B}),[m,J,Z,V,B])}const M4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_0({element:r.current,padding:i}).fn(n):{}:r?_0({element:r,padding:i}).fn(n):{}}}},A4=(e,t)=>({...j4(e),options:[e,t]}),L4=(e,t)=>({...N4(e),options:[e,t]}),I4=(e,t)=>({...E4(e),options:[e,t]}),D4=(e,t)=>({...S4(e),options:[e,t]}),z4=(e,t)=>({...k4(e),options:[e,t]}),$4=(e,t)=>({...C4(e),options:[e,t]}),F4=(e,t)=>({...M4(e),options:[e,t]});var B4="Arrow",hj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Ne.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});hj.displayName=B4;var U4=hj;function dv(e){const[t,n]=v.useState(void 0);return Tt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,d;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uv="Popper",[fj,uh]=Zn(uv),[W4,mj]=fj(uv),pj=e=>{const{__scopePopper:t,children:n}=e,[r,i]=v.useState(null);return s.jsx(W4,{scope:t,anchor:r,onAnchorChange:i,children:n})};pj.displayName=uv;var gj="PopperAnchor",vj=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=mj(gj,n),l=v.useRef(null),d=Qe(t,l);return v.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(Ne.div,{...i,ref:d})});vj.displayName=gj;var hv="PopperContent",[H4,V4]=fj(hv),xj=v.forwardRef((e,t)=>{var A,ae,de,pe,fe,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:k,..._}=e,N=mj(hv,n),[S,w]=v.useState(null),b=Qe(t,ve=>w(ve)),[C,P]=v.useState(null),I=dv(C),M=(I==null?void 0:I.width)??0,$=(I==null?void 0:I.height)??0,H=r+(o!=="center"?"-"+o:""),G=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Y=Array.isArray(h)?h:[h],X=Y.length>0,J={padding:G,boundary:Y.filter(K4),altBoundary:X},{refs:O,floatingStyles:Z,placement:V,isPositioned:B,middlewareData:T}=R4({strategy:"fixed",placement:H,whileElementsMounted:(...ve)=>b4(...ve,{animationFrame:y==="always"}),elements:{reference:N.anchor},middleware:[A4({mainAxis:i+$,alignmentAxis:l}),u&&L4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?I4():void 0,...J}),u&&D4({...J}),z4({...J,apply:({elements:ve,rects:Ue,availableWidth:Je,availableHeight:ht})=>{const{width:tt,height:_e}=Ue.reference,ke=ve.floating.style;ke.setProperty("--radix-popper-available-width",`${Je}px`),ke.setProperty("--radix-popper-available-height",`${ht}px`),ke.setProperty("--radix-popper-anchor-width",`${tt}px`),ke.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),C&&F4({element:C,padding:d}),Z4({arrowWidth:M,arrowHeight:$}),x&&$4({strategy:"referenceHidden",...J})]}),[K,U]=_j(V),W=Mn(k);Tt(()=>{B&&(W==null||W())},[B,W]);const D=(A=T.arrow)==null?void 0:A.x,se=(ae=T.arrow)==null?void 0:ae.y,Q=((de=T.arrow)==null?void 0:de.centerOffset)!==0,[ie,te]=v.useState();return Tt(()=>{S&&te(window.getComputedStyle(S).zIndex)},[S]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:B?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(pe=T.transformOrigin)==null?void 0:pe.x,(fe=T.transformOrigin)==null?void 0:fe.y].join(" "),...((oe=T.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(H4,{scope:n,placedSide:K,onArrowChange:P,arrowX:D,arrowY:se,shouldHideArrow:Q,children:s.jsx(Ne.div,{"data-side":K,"data-align":U,..._,ref:b,style:{..._.style,animation:B?void 0:"none"}})})})});xj.displayName=hv;var yj="PopperArrow",q4={top:"bottom",right:"left",bottom:"top",left:"right"},wj=v.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=V4(yj,r),l=q4[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(U4,{...i,ref:n,style:{...i.style,display:"block"}})})});wj.displayName=yj;function K4(e){return e!==null}var Z4=e=>({name:"transformOrigin",options:e,fn(t){var N,S,w;const{placement:n,rects:r,middlewareData:i}=t,l=((N=i.arrow)==null?void 0:N.centerOffset)!==0,d=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,m]=_j(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(((S=i.arrow)==null?void 0:S.x)??0)+d/2,y=(((w=i.arrow)==null?void 0:w.y)??0)+u/2;let k="",_="";return h==="bottom"?(k=l?p:`${x}px`,_=`${-u}px`):h==="top"?(k=l?p:`${x}px`,_=`${r.floating.height+u}px`):h==="right"?(k=`${-u}px`,_=l?p:`${y}px`):h==="left"&&(k=`${r.floating.width+u}px`,_=l?p:`${y}px`),{data:{x:k,y:_}}}});function _j(e){const[t,n="center"]=e.split("-");return[t,n]}var G4=pj,bj=vj,jj=xj,Nj=wj,[hh,jF]=Zn("Tooltip",[uh]),fv=uh(),Sj="TooltipProvider",Y4=700,j0="tooltip.open",[Q4,kj]=hh(Sj),Cj=e=>{const{__scopeTooltip:t,delayDuration:n=Y4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,l=v.useRef(!0),d=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),s.jsx(Q4,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:v.useCallback(h=>{d.current=h},[]),disableHoverableContent:i,children:o})};Cj.displayName=Sj;var Ej="Tooltip",[NF,fh]=hh(Ej),xp="TooltipTrigger",J4=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=fh(xp,n),o=kj(xp,n),l=fv(n),d=v.useRef(null),u=Qe(t,d,i.onTriggerChange),h=v.useRef(!1),m=v.useRef(!1),p=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(bj,{asChild:!0,...l,children:s.jsx(Ne.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:be(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:be(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:be(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:be(e.onBlur,i.onClose),onClick:be(e.onClick,i.onClose)})})});J4.displayName=xp;var X4="TooltipPortal",[SF,eM]=hh(X4,{forceMount:void 0}),jo="TooltipContent",Pj=v.forwardRef((e,t)=>{const n=eM(jo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,l=fh(jo,e.__scopeTooltip);return s.jsx(hi,{present:r||l.open,children:l.disableHoverableContent?s.jsx(Tj,{side:i,...o,ref:t}):s.jsx(tM,{side:i,...o,ref:t})})}),tM=v.forwardRef((e,t)=>{const n=fh(jo,e.__scopeTooltip),r=kj(jo,e.__scopeTooltip),i=v.useRef(null),o=Qe(t,i),[l,d]=v.useState(null),{trigger:u,onClose:h}=n,m=i.current,{onPointerInTransitChange:p}=r,x=v.useCallback(()=>{d(null),p(!1)},[p]),y=v.useCallback((k,_)=>{const N=k.currentTarget,S={x:k.clientX,y:k.clientY},w=aM(S,N.getBoundingClientRect()),b=oM(S,w),C=lM(_.getBoundingClientRect()),P=dM([...b,...C]);d(P),p(!0)},[p]);return v.useEffect(()=>()=>x(),[x]),v.useEffect(()=>{if(u&&m){const k=N=>y(N,m),_=N=>y(N,u);return u.addEventListener("pointerleave",k),m.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",k),m.removeEventListener("pointerleave",_)}}},[u,m,y,x]),v.useEffect(()=>{if(l){const k=_=>{const N=_.target,S={x:_.clientX,y:_.clientY},w=(u==null?void 0:u.contains(N))||(m==null?void 0:m.contains(N)),b=!cM(S,l);w?x():b&&(x(),h())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,m,l,h,x]),s.jsx(Tj,{...e,ref:o})}),[nM,rM]=hh(Ej,{isInside:!1}),sM=nT("TooltipContent"),Tj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...d}=e,u=fh(jo,n),h=fv(n),{onClose:m}=u;return v.useEffect(()=>(document.addEventListener(j0,m),()=>document.removeEventListener(j0,m)),[m]),v.useEffect(()=>{if(u.trigger){const p=x=>{const y=x.target;y!=null&&y.contains(u.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,m]),s.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:s.jsxs(jj,{"data-state":u.stateAttribute,...h,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(sM,{children:r}),s.jsx(nM,{scope:n,isInside:!0,children:s.jsx(NT,{id:u.contentId,role:"tooltip",children:i||r})})]})})});Pj.displayName=jo;var Oj="TooltipArrow",iM=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=fv(n);return rM(Oj,n).isInside?null:s.jsx(Nj,{...i,...r,ref:t})});iM.displayName=Oj;function aM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function lM(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function cM(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const d=t[o],u=t[l],h=d.x,m=d.y,p=u.x,x=u.y;m>r!=x>r&&n<(p-h)*(r-m)/(x-m)+h&&(i=!i)}return i}function dM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uM(t)}function uM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var hM=Cj,Rj=Pj;const fM=hM,mM=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Rj,{ref:r,sideOffset:t,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));mM.displayName=Rj.displayName;var mh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ph=typeof window>"u"||"Deno"in globalThis;function nr(){}function pM(e,t){return typeof e=="function"?e(t):e}function gM(e){return typeof e=="number"&&e>=0&&e!==1/0}function vM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yp(e,t){return typeof e=="function"?e(t):e}function xM(e,t){return typeof e=="function"?e(t):e}function N0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:d}=e;if(l){if(r){if(t.queryHash!==mv(l,t.options))return!1}else if(!tc(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||o&&!o(t))}function S0(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ec(t.options.mutationKey)!==ec(o))return!1}else if(!tc(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function mv(e,t){return((t==null?void 0:t.queryKeyHashFn)||ec)(e)}function ec(e){return JSON.stringify(e,(t,n)=>wp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>tc(e[n],t[n])):!1}function Mj(e,t){if(e===t)return e;const n=k0(e)&&k0(t);if(n||wp(e)&&wp(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),l=o.length,d=n?[]:{},u=new Set(r);let h=0;for(let m=0;m<l;m++){const p=n?m:o[m];(!n&&u.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(d[p]=void 0,h++):(d[p]=Mj(e[p],t[p]),d[p]===e[p]&&e[p]!==void 0&&h++)}return i===l&&h===i?e:d}return t}function k0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wp(e){if(!C0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!C0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function C0(e){return Object.prototype.toString.call(e)==="[object Object]"}function yM(e){return new Promise(t=>{setTimeout(t,e)})}function wM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Mj(e,t):t}function _M(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var pv=Symbol();function Aj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ii,Ds,ro,Aw,jM=(Aw=class extends mh{constructor(){super();Ge(this,Ii);Ge(this,Ds);Ge(this,ro);Re(this,ro,t=>{if(!ph&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ee(this,Ds)||this.setEventListener(ee(this,ro))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,Ds))==null||t.call(this),Re(this,Ds,void 0))}setEventListener(t){var n;Re(this,ro,t),(n=ee(this,Ds))==null||n.call(this),Re(this,Ds,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ee(this,Ii)!==t&&(Re(this,Ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ee(this,Ii)=="boolean"?ee(this,Ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ii=new WeakMap,Ds=new WeakMap,ro=new WeakMap,Aw),Lj=new jM,so,zs,io,Lw,NM=(Lw=class extends mh{constructor(){super();Ge(this,so,!0);Ge(this,zs);Ge(this,io);Re(this,io,t=>{if(!ph&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ee(this,zs)||this.setEventListener(ee(this,io))}onUnsubscribe(){var t;this.hasListeners()||((t=ee(this,zs))==null||t.call(this),Re(this,zs,void 0))}setEventListener(t){var n;Re(this,io,t),(n=ee(this,zs))==null||n.call(this),Re(this,zs,t(this.setOnline.bind(this)))}setOnline(t){ee(this,so)!==t&&(Re(this,so,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ee(this,so)}},so=new WeakMap,zs=new WeakMap,io=new WeakMap,Lw),Cu=new NM;function SM(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function kM(e){return Math.min(1e3*2**e,3e4)}function Ij(e){return(e??"online")==="online"?Cu.isOnline():!0}var Dj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bf(e){return e instanceof Dj}function zj(e){let t=!1,n=0,r=!1,i;const o=SM(),l=_=>{var N;r||(x(new Dj(_)),(N=e.abort)==null||N.call(e))},d=()=>{t=!0},u=()=>{t=!1},h=()=>Lj.isFocused()&&(e.networkMode==="always"||Cu.isOnline())&&e.canRun(),m=()=>Ij(e.networkMode)&&e.canRun(),p=_=>{var N;r||(r=!0,(N=e.onSuccess)==null||N.call(e,_),i==null||i(),o.resolve(_))},x=_=>{var N;r||(r=!0,(N=e.onError)==null||N.call(e,_),i==null||i(),o.reject(_))},y=()=>new Promise(_=>{var N;i=S=>{(r||h())&&_(S)},(N=e.onPause)==null||N.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),k=()=>{if(r)return;let _;const N=n===0?e.initialPromise:void 0;try{_=N??e.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(p).catch(S=>{var I;if(r)return;const w=e.retry??(ph?0:3),b=e.retryDelay??kM,C=typeof b=="function"?b(n,S):b,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,S);if(t||!P){x(S);return}n++,(I=e.onFail)==null||I.call(e,n,S),yM(C).then(()=>h()?void 0:y()).then(()=>{t?x(S):k()})})};return{promise:o,cancel:l,continue:()=>(i==null||i(),o),cancelRetry:d,continueRetry:u,canStart:m,start:()=>(m()?k():y().then(k),o)}}var CM=e=>setTimeout(e,0);function EM(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=CM;const o=d=>{t?e.push(d):i(()=>{n(d)})},l=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(u=>{n(u)})})})};return{batch:d=>{let u;t++;try{u=d()}finally{t--,t||l()}return u},batchCalls:d=>(...u)=>{o(()=>{d(...u)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var rn=EM(),Di,Iw,$j=(Iw=class{constructor(){Ge(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gM(this.gcTime)&&Re(this,Di,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ph?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Di)&&(clearTimeout(ee(this,Di)),Re(this,Di,void 0))}},Di=new WeakMap,Iw),ao,zi,Fn,$i,Zt,cc,Fi,rr,Xr,Dw,PM=(Dw=class extends $j{constructor(t){super();Ge(this,rr);Ge(this,ao);Ge(this,zi);Ge(this,Fn);Ge(this,$i);Ge(this,Zt);Ge(this,cc);Ge(this,Fi);Re(this,Fi,!1),Re(this,cc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,$i,t.client),Re(this,Fn,ee(this,$i).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,ao,OM(this.options)),this.state=t.state??ee(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ee(this,Zt))==null?void 0:t.promise}setOptions(t){this.options={...ee(this,cc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,Fn).remove(this)}setData(t,n){const r=wM(this.state.data,t,this.options);return Vt(this,rr,Xr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vt(this,rr,Xr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=ee(this,Zt))==null?void 0:r.promise;return(i=ee(this,Zt))==null||i.cancel(t),n?n.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,ao))}isActive(){return this.observers.some(t=>xM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ee(this,Zt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ee(this,Zt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ee(this,Fn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ee(this,Zt)&&(ee(this,Fi)?ee(this,Zt).cancel({revert:!0}):ee(this,Zt).cancelRetry()),this.scheduleGc()),ee(this,Fn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,rr,Xr).call(this,{type:"invalidate"})}fetch(t,n){var h,m,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ee(this,Zt))return ee(this,Zt).continueRetry(),ee(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(y=>y.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Re(this,Fi,!0),r.signal)})},o=()=>{const x=Aj(this.options,n),k=(()=>{const _={client:ee(this,$i),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Re(this,Fi,!1),this.options.persister?this.options.persister(x,k,this):x(k)},d=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ee(this,$i),state:this.state,fetchFn:o};return i(x),x})();(h=this.options.behavior)==null||h.onFetch(d,this),Re(this,zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=d.fetchOptions)==null?void 0:m.meta))&&Vt(this,rr,Xr).call(this,{type:"fetch",meta:(p=d.fetchOptions)==null?void 0:p.meta});const u=x=>{var y,k,_,N;Bf(x)&&x.silent||Vt(this,rr,Xr).call(this,{type:"error",error:x}),Bf(x)||((k=(y=ee(this,Fn).config).onError)==null||k.call(y,x,this),(N=(_=ee(this,Fn).config).onSettled)==null||N.call(_,this.state.data,x,this)),this.scheduleGc()};return Re(this,Zt,zj({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var y,k,_,N;if(x===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(S){u(S);return}(k=(y=ee(this,Fn).config).onSuccess)==null||k.call(y,x,this),(N=(_=ee(this,Fn).config).onSettled)==null||N.call(_,x,this.state.error,this),this.scheduleGc()},onError:u,onFail:(x,y)=>{Vt(this,rr,Xr).call(this,{type:"failed",failureCount:x,error:y})},onPause:()=>{Vt(this,rr,Xr).call(this,{type:"pause"})},onContinue:()=>{Vt(this,rr,Xr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),ee(this,Zt).start()}},ao=new WeakMap,zi=new WeakMap,Fn=new WeakMap,$i=new WeakMap,Zt=new WeakMap,cc=new WeakMap,Fi=new WeakMap,rr=new WeakSet,Xr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TM(r.data,this.options),fetchMeta:t.meta??null};case"success":return Re(this,zi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Bf(i)&&i.revert&&ee(this,zi)?{...ee(this,zi),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ee(this,Fn).notify({query:this,type:"updated",action:t})})},Dw);function TM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ij(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,zw,RM=(zw=class extends mh{constructor(t={}){super();Ge(this,Or);this.config=t,Re(this,Or,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??mv(i,n);let l=this.get(o);return l||(l=new PM({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){ee(this,Or).has(t.queryHash)||(ee(this,Or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ee(this,Or).get(t.queryHash);n&&(t.destroy(),n===t&&ee(this,Or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ee(this,Or).get(t)}getAll(){return[...ee(this,Or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>N0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>N0(t,r)):n}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Or=new WeakMap,zw),Rr,en,Bi,Mr,Cs,$w,MM=($w=class extends $j{constructor(t){super();Ge(this,Mr);Ge(this,Rr);Ge(this,en);Ge(this,Bi);this.mutationId=t.mutationId,Re(this,en,t.mutationCache),Re(this,Rr,[]),this.state=t.state||AM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ee(this,Rr).includes(t)||(ee(this,Rr).push(t),this.clearGcTimeout(),ee(this,en).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,Rr,ee(this,Rr).filter(n=>n!==t)),this.scheduleGc(),ee(this,en).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ee(this,Rr).length||(this.state.status==="pending"?this.scheduleGc():ee(this,en).remove(this))}continue(){var t;return((t=ee(this,Bi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,d,u,h,m,p,x,y,k,_,N,S,w,b,C,P,I,M,$;const n=()=>{Vt(this,Mr,Cs).call(this,{type:"continue"})};Re(this,Bi,zj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(H,G)=>{Vt(this,Mr,Cs).call(this,{type:"failed",failureCount:H,error:G})},onPause:()=>{Vt(this,Mr,Cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,en).canRun(this)}));const r=this.state.status==="pending",i=!ee(this,Bi).canStart();try{if(r)n();else{Vt(this,Mr,Cs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ee(this,en).config).onMutate)==null?void 0:l.call(o,t,this));const G=await((u=(d=this.options).onMutate)==null?void 0:u.call(d,t));G!==this.state.context&&Vt(this,Mr,Cs).call(this,{type:"pending",context:G,variables:t,isPaused:i})}const H=await ee(this,Bi).start();return await((m=(h=ee(this,en).config).onSuccess)==null?void 0:m.call(h,H,t,this.state.context,this)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,H,t,this.state.context)),await((k=(y=ee(this,en).config).onSettled)==null?void 0:k.call(y,H,null,this.state.variables,this.state.context,this)),await((N=(_=this.options).onSettled)==null?void 0:N.call(_,H,null,t,this.state.context)),Vt(this,Mr,Cs).call(this,{type:"success",data:H}),H}catch(H){try{throw await((w=(S=ee(this,en).config).onError)==null?void 0:w.call(S,H,t,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,H,t,this.state.context)),await((I=(P=ee(this,en).config).onSettled)==null?void 0:I.call(P,void 0,H,this.state.variables,this.state.context,this)),await(($=(M=this.options).onSettled)==null?void 0:$.call(M,void 0,H,t,this.state.context)),H}finally{Vt(this,Mr,Cs).call(this,{type:"error",error:H})}}finally{ee(this,en).runNext(this)}}},Rr=new WeakMap,en=new WeakMap,Bi=new WeakMap,Mr=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rn.batch(()=>{ee(this,Rr).forEach(r=>{r.onMutationUpdate(t)}),ee(this,en).notify({mutation:this,type:"updated",action:t})})},$w);function AM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,sr,dc,Fw,LM=(Fw=class extends mh{constructor(t={}){super();Ge(this,rs);Ge(this,sr);Ge(this,dc);this.config=t,Re(this,rs,new Set),Re(this,sr,new Map),Re(this,dc,0)}build(t,n,r){const i=new MM({mutationCache:this,mutationId:++td(this,dc)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){ee(this,rs).add(t);const n=jd(t);if(typeof n=="string"){const r=ee(this,sr).get(n);r?r.push(t):ee(this,sr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ee(this,rs).delete(t)){const n=jd(t);if(typeof n=="string"){const r=ee(this,sr).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ee(this,sr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=jd(t);if(typeof n=="string"){const r=ee(this,sr).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=jd(t);if(typeof n=="string"){const i=(r=ee(this,sr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{ee(this,rs).forEach(t=>{this.notify({type:"removed",mutation:t})}),ee(this,rs).clear(),ee(this,sr).clear()})}getAll(){return Array.from(ee(this,rs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>S0(n,r))}findAll(t={}){return this.getAll().filter(n=>S0(t,n))}notify(t){rn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(t.map(n=>n.continue().catch(nr))))}},rs=new WeakMap,sr=new WeakMap,dc=new WeakMap,Fw);function jd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function E0(e){return{onFetch:(t,n)=>{var m,p,x,y,k;const r=t.options,i=(x=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,o=((y=t.state.data)==null?void 0:y.pages)||[],l=((k=t.state.data)==null?void 0:k.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let _=!1;const N=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},S=Aj(t.options,t.fetchOptions),w=async(b,C,P)=>{if(_)return Promise.reject();if(C==null&&b.pages.length)return Promise.resolve(b);const M=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:C,direction:P?"backward":"forward",meta:t.options.meta};return N(Y),Y})(),$=await S(M),{maxPages:H}=t.options,G=P?bM:_M;return{pages:G(b.pages,$,H),pageParams:G(b.pageParams,C,H)}};if(i&&o.length){const b=i==="backward",C=b?IM:P0,P={pages:o,pageParams:l},I=C(r,P);d=await w(P,I,b)}else{const b=e??o.length;do{const C=u===0?l[0]??r.initialPageParam:P0(r,d);if(u>0&&C==null)break;d=await w(d,C),u++}while(u<b)}return d};t.options.persister?t.fetchFn=()=>{var _,N;return(N=(_=t.options).persister)==null?void 0:N.call(_,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function P0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var xt,$s,Fs,oo,lo,Bs,co,uo,Bw,DM=(Bw=class{constructor(e={}){Ge(this,xt);Ge(this,$s);Ge(this,Fs);Ge(this,oo);Ge(this,lo);Ge(this,Bs);Ge(this,co);Ge(this,uo);Re(this,xt,e.queryCache||new RM),Re(this,$s,e.mutationCache||new LM),Re(this,Fs,e.defaultOptions||{}),Re(this,oo,new Map),Re(this,lo,new Map),Re(this,Bs,0)}mount(){td(this,Bs)._++,ee(this,Bs)===1&&(Re(this,co,Lj.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,xt).onFocus())})),Re(this,uo,Cu.subscribe(async e=>{e&&(await this.resumePausedMutations(),ee(this,xt).onOnline())})))}unmount(){var e,t;td(this,Bs)._--,ee(this,Bs)===0&&((e=ee(this,co))==null||e.call(this),Re(this,co,void 0),(t=ee(this,uo))==null||t.call(this),Re(this,uo,void 0))}isFetching(e){return ee(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ee(this,$s).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ee(this,xt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ee(this,xt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(yp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ee(this,xt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=ee(this,xt).get(r.queryHash),o=i==null?void 0:i.state.data,l=pM(t,o);if(l!==void 0)return ee(this,xt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return rn.batch(()=>ee(this,xt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ee(this,xt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ee(this,xt);rn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ee(this,xt);return rn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=rn.batch(()=>ee(this,xt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(e,t={}){return rn.batch(()=>(ee(this,xt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=rn.batch(()=>ee(this,xt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(nr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ee(this,xt).build(this,t);return n.isStaleByTime(yp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nr).catch(nr)}fetchInfiniteQuery(e){return e.behavior=E0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nr).catch(nr)}ensureInfiniteQueryData(e){return e.behavior=E0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cu.isOnline()?ee(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,xt)}getMutationCache(){return ee(this,$s)}getDefaultOptions(){return ee(this,Fs)}setDefaultOptions(e){Re(this,Fs,e)}setQueryDefaults(e,t){ee(this,oo).set(ec(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ee(this,oo).values()],n={};return t.forEach(r=>{tc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){ee(this,lo).set(ec(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ee(this,lo).values()],n={};return t.forEach(r=>{tc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ee(this,Fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ee(this,Fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ee(this,xt).clear(),ee(this,$s).clear()}},xt=new WeakMap,$s=new WeakMap,Fs=new WeakMap,oo=new WeakMap,lo=new WeakMap,Bs=new WeakMap,co=new WeakMap,uo=new WeakMap,Bw),zM=v.createContext(void 0),$M=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(zM.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}var Hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hs||(Hs={}));const T0="popstate";function FM(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:d}=r.location;return _p("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Eu(i)}return UM(t,n,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BM(){return Math.random().toString(36).substr(2,8)}function O0(e,t){return{usr:e.state,key:e.key,idx:t}}function _p(e,t,n,r){return n===void 0&&(n=null),nc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mo(t):t,{state:n,key:t&&t.key||r||BM()})}function Eu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UM(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,d=Hs.Pop,u=null,h=m();h==null&&(h=0,l.replaceState(nc({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){d=Hs.Pop;let N=m(),S=N==null?null:N-h;h=N,u&&u({action:d,location:_.location,delta:S})}function x(N,S){d=Hs.Push;let w=_p(_.location,N,S);h=m()+1;let b=O0(w,h),C=_.createHref(w);try{l.pushState(b,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}o&&u&&u({action:d,location:_.location,delta:1})}function y(N,S){d=Hs.Replace;let w=_p(_.location,N,S);h=m();let b=O0(w,h),C=_.createHref(w);l.replaceState(b,"",C),o&&u&&u({action:d,location:_.location,delta:0})}function k(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof N=="string"?N:Eu(N);return w=w.replace(/ $/,"%20"),Pt(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let _={get action(){return d},get location(){return e(i,l)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(T0,p),u=N,()=>{i.removeEventListener(T0,p),u=null}},createHref(N){return t(i,N)},createURL:k,encodeLocation(N){let S=k(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:y,go(N){return l.go(N)}};return _}var R0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R0||(R0={}));function WM(e,t,n){return n===void 0&&(n="/"),HM(e,t,n,!1)}function HM(e,t,n,r){let i=typeof t=="string"?Mo(t):t,o=gv(i.pathname||"/",n);if(o==null)return null;let l=Bj(e);VM(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=nA(o);d=eA(l[u],h,r)}return d}function Bj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Pt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=ti([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Bj(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:JM(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,l);else for(let u of Uj(o.path))i(o,l,u)}),t}function Uj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Uj(r.join("/")),d=[];return d.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...l),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function VM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qM=/^:[\w-]+$/,KM=3,ZM=2,GM=1,YM=10,QM=-2,M0=e=>e==="*";function JM(e,t){let n=e.split("/"),r=n.length;return n.some(M0)&&(r+=QM),t&&(r+=ZM),n.filter(i=>!M0(i)).reduce((i,o)=>i+(qM.test(o)?KM:o===""?GM:YM),r)}function XM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function eA(e,t,n){let{routesMeta:r}=e,i={},o="/",l=[];for(let d=0;d<r.length;++d){let u=r[d],h=d===r.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=A0({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),x=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=A0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:ti([o,p.pathname]),pathnameBase:aA(ti([o,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(o=ti([o,p.pathnameBase]))}return l}function A0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let _=d[p]||"";l=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const k=d[p];return y&&!k?h[x]=void 0:h[x]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function tA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function nA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mo(e):e;return{pathname:n?n.startsWith("/")?n:sA(n,t):t,search:oA(r),hash:lA(i)}}function sA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wj(e,t){let n=iA(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hj(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mo(e):(i=nc({},e),Pt(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}d=p>=0?t[p]:"/"}let u=rA(i,d),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const ti=e=>e.join("/").replace(/\/\/+/g,"/"),aA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vj=["post","put","patch","delete"];new Set(Vj);const dA=["get",...Vj];new Set(dA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(this,arguments)}const vv=v.createContext(null),uA=v.createContext(null),aa=v.createContext(null),gh=v.createContext(null),oa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),qj=v.createContext(null);function hA(e,t){let{relative:n}=t===void 0?{}:t;_c()||Pt(!1);let{basename:r,navigator:i}=v.useContext(aa),{hash:o,pathname:l,search:d}=Zj(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:ti([r,l])),i.createHref({pathname:u,search:d,hash:o})}function _c(){return v.useContext(gh)!=null}function gs(){return _c()||Pt(!1),v.useContext(gh).location}function Kj(e){v.useContext(aa).static||v.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=v.useContext(oa);return e?SA():fA()}function fA(){_c()||Pt(!1);let e=v.useContext(vv),{basename:t,future:n,navigator:r}=v.useContext(aa),{matches:i}=v.useContext(oa),{pathname:o}=gs(),l=JSON.stringify(Wj(i,n.v7_relativeSplatPath)),d=v.useRef(!1);return Kj(()=>{d.current=!0}),v.useCallback(function(h,m){if(m===void 0&&(m={}),!d.current)return;if(typeof h=="number"){r.go(h);return}let p=Hj(h,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ti([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,l,o,e])}function Zj(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(aa),{matches:i}=v.useContext(oa),{pathname:o}=gs(),l=JSON.stringify(Wj(i,r.v7_relativeSplatPath));return v.useMemo(()=>Hj(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function mA(e,t){return pA(e,t)}function pA(e,t,n,r){_c()||Pt(!1);let{navigator:i}=v.useContext(aa),{matches:o}=v.useContext(oa),l=o[o.length-1],d=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=gs(),m;if(t){var p;let N=typeof t=="string"?Mo(t):t;u==="/"||(p=N.pathname)!=null&&p.startsWith(u)||Pt(!1),m=N}else m=h;let x=m.pathname||"/",y=x;if(u!=="/"){let N=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=WM(e,{pathname:y}),_=wA(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:ti([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:ti([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,r);return t&&_?v.createElement(gh.Provider,{value:{location:rc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Hs.Pop}},_):_}function gA(){let e=NA(),t=cA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,null)}const vA=v.createElement(gA,null);class xA extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(oa.Provider,{value:this.props.routeContext},v.createElement(qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yA(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(vv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(oa.Provider,{value:t},r)}function wA(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(i=n)==null?void 0:i.errors;if(d!=null){let m=l.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);m>=0||Pt(!1),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:y}=n,k=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,x)=>{let y,k=!1,_=null,N=null;n&&(y=d&&p.route.id?d[p.route.id]:void 0,_=p.route.errorElement||vA,u&&(h<0&&x===0?(k=!0,N=null):h===x&&(k=!0,N=p.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),w=()=>{let b;return y?b=_:k?b=N:p.route.Component?b=v.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=m,v.createElement(yA,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?v.createElement(xA,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var Gj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gj||{}),Pu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pu||{});function _A(e){let t=v.useContext(vv);return t||Pt(!1),t}function bA(e){let t=v.useContext(uA);return t||Pt(!1),t}function jA(e){let t=v.useContext(oa);return t||Pt(!1),t}function Yj(e){let t=jA(),n=t.matches[t.matches.length-1];return n.route.id||Pt(!1),n.route.id}function NA(){var e;let t=v.useContext(qj),n=bA(Pu.UseRouteError),r=Yj(Pu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function SA(){let{router:e}=_A(Gj.UseNavigateStable),t=Yj(Pu.UseNavigateStable),n=v.useRef(!1);return Kj(()=>{n.current=!0}),v.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,rc({fromRouteId:t},o)))},[e,t])}function kA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ze(e){Pt(!1)}function CA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Hs.Pop,navigator:o,static:l=!1,future:d}=e;_c()&&Pt(!1);let u=t.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:u,navigator:o,static:l,future:rc({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);typeof r=="string"&&(r=Mo(r));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:k="default"}=r,_=v.useMemo(()=>{let N=gv(m,u);return N==null?null:{location:{pathname:N,search:p,hash:x,state:y,key:k},navigationType:i}},[u,m,p,x,y,k,i]);return _==null?null:v.createElement(aa.Provider,{value:h},v.createElement(gh.Provider,{children:n,value:_}))}function EA(e){let{children:t,location:n}=e;return mA(bp(t),n)}new Promise(()=>{});function bp(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let o=[...t,i];if(r.type===v.Fragment){n.push.apply(n,bp(r.props.children,o));return}r.type!==ze&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bp(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(this,arguments)}function PA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function TA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OA(e,t){return e.button===0&&(!t||t==="_self")&&!TA(e)}const RA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MA="6";try{window.__reactRouterVersion=MA}catch{}const AA="startTransition",L0=eg[AA];function LA(e){let{basename:t,children:n,future:r,window:i}=e,o=v.useRef();o.current==null&&(o.current=FM({window:i,v5Compat:!0}));let l=o.current,[d,u]=v.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},m=v.useCallback(p=>{h&&L0?L0(()=>u(p)):u(p)},[u,h]);return v.useLayoutEffect(()=>l.listen(m),[l,m]),v.useEffect(()=>kA(r),[r]),v.createElement(CA,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zA=v.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:d,target:u,to:h,preventScrollReset:m,viewTransition:p}=t,x=PA(t,RA),{basename:y}=v.useContext(aa),k,_=!1;if(typeof h=="string"&&DA.test(h)&&(k=h,IA))try{let b=new URL(window.location.href),C=h.startsWith("//")?new URL(b.protocol+h):new URL(h),P=gv(C.pathname,y);C.origin===b.origin&&P!=null?h=P+C.search+C.hash:_=!0}catch{}let N=hA(h,{relative:i}),S=$A(h,{replace:l,state:d,target:u,preventScrollReset:m,relative:i,viewTransition:p});function w(b){r&&r(b),b.defaultPrevented||S(b)}return v.createElement("a",jp({},x,{href:k||N,onClick:_||o?r:w,ref:n,target:u}))});var I0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I0||(I0={}));var D0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D0||(D0={}));function $A(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:d}=t===void 0?{}:t,u=Ke(),h=gs(),m=Zj(e,{relative:l});return v.useCallback(p=>{if(OA(p,n)){p.preventDefault();let x=r!==void 0?r:Eu(h)===Eu(m);u(e,{replace:x,state:i,preventScrollReset:o,relative:l,viewTransition:d})}},[h,u,m,r,i,n,e,o,l,d])}const Np=ih("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-glow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-card hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-cyan-glow",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-foreground font-semibold shadow-glow hover:scale-105 transition-all",accent:"bg-accent text-accent-foreground font-semibold shadow-accent-glow hover:bg-accent/90",glass:"glass-card text-foreground border border-border hover:bg-card/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const l=r?eT:"button";return s.jsx(l,{className:Te(Np({variant:t,size:n,className:e})),ref:o,...i})});z.displayName="Button";const FA="/assets/hero-bus-DCRDzXxc.jpg",Qj="/assets/eco-visual-roIjEo3f.jpg",BA=()=>{const e=Ke();return v.useEffect(()=>{localStorage.getItem("hasSeenOnboarding")||e("/splash")},[e]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${FA})`,backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(0.3)"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/60 to-background z-0"}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center animate-fade-in",children:s.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-primary animate-glow-pulse",children:s.jsx(_n,{className:"w-12 h-12 text-foreground"})}),s.jsx("h1",{className:"text-5xl md:text-7xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ECpool360"})]}),s.jsx("h2",{className:"text-2xl md:text-4xl font-semibold text-foreground",children:"Eco-Smart School Ride Sharing in Oman"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto",children:"Join a verified community-based eco-ride system. Share rides safely, reduce your carbon footprint, and earn rewards for every journey."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[s.jsxs("div",{className:"glass-card p-6 hover-scale animate-slide-up",children:[s.jsx(_n,{className:"w-10 h-10 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ride Together"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share rides safely in your community"})]}),s.jsxs("div",{className:"glass-card p-6 hover-scale animate-slide-up",style:{animationDelay:"0.1s"},children:[s.jsx(bn,{className:"w-10 h-10 text-secondary mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Save Together"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce your carbon footprint"})]}),s.jsxs("div",{className:"glass-card p-6 hover-scale animate-slide-up",style:{animationDelay:"0.2s"},children:[s.jsx(F1,{className:"w-10 h-10 text-accent mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Earn EcoCredits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and redeem your green impact"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-12",children:[s.jsxs(z,{variant:"hero",size:"lg",className:"text-lg",onClick:()=>e("/role-selection"),children:["Get Started",s.jsx(O1,{className:"ml-2"})]}),s.jsx(z,{variant:"glass",size:"lg",className:"text-lg",onClick:()=>{var t;(t=document.getElementById("eco-impact"))==null||t.scrollIntoView({behavior:"smooth"})},children:"Learn More"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Student? "}),s.jsx("button",{onClick:()=>e("/auth"),className:"text-primary hover:underline font-medium",children:"Sign in here"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Driver? "}),s.jsx("button",{onClick:()=>e("/driver-login"),className:"text-secondary hover:underline font-medium",children:"Driver Portal"})]})]})]})})]}),s.jsxs("section",{id:"eco-impact",className:"py-20 px-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:`url(${Qj})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.jsx("div",{className:"relative z-10 container mx-auto max-w-4xl text-center",children:s.jsxs("div",{className:"glass-card p-12 animate-scale-in",children:[s.jsx(bn,{className:"w-16 h-16 text-primary mx-auto mb-6 animate-glow-pulse"}),s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Making a Real Impact"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Every shared ride contributes to a greener Oman. Track your environmental impact and earn rewards for your sustainable choices."}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-12",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-primary mb-2",children:"5,000+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rides Shared"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-secondary mb-2",children:"12T"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"CO Saved"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-4xl font-bold text-accent mb-2",children:"2,500+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"})]})]})]})})]})]})},UA=()=>{const e=Ke();return v.useEffect(()=>{const t=localStorage.getItem("hasSeenOnboarding"),n=localStorage.getItem("userRole"),r=setTimeout(()=>{e(t?n?`/${n}`:"/role-selection":"/onboarding")},3e3);return()=>clearTimeout(r)},[e]),s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-secondary/20 animate-pulse"}),s.jsxs("div",{className:"relative z-10 text-center space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-8 rounded-3xl bg-gradient-primary animate-glow-pulse inline-block",children:s.jsx(_n,{className:"w-20 h-20 text-foreground animate-bounce"})}),s.jsx(bn,{className:"w-8 h-8 text-secondary absolute -top-2 -right-2 animate-spin",style:{animationDuration:"3s"}})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-6xl md:text-7xl font-bold bg-gradient-primary bg-clip-text text-transparent animate-scale-in",children:"ECpool360"}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground animate-slide-up",children:"Ride Together. Save Together "})]}),s.jsxs("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.5s"},children:[s.jsx("div",{className:"w-64 h-1 bg-muted rounded-full mx-auto overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-primary animate-slide-in-right",style:{animationDuration:"2s"}})}),s.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:"Optimizing your eco routes... "})]})]})]})},ne=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const WA=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));WA.displayName="CardHeader";const HA=v.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));HA.displayName="CardTitle";const VA=v.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:Te("text-sm text-muted-foreground",e),...t}));VA.displayName="CardDescription";const qA=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Te("p-6 pt-0",e),...t}));qA.displayName="CardContent";const KA=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",e),...t}));KA.displayName="CardFooter";const z0=({icon:e,title:t,description:n,onClick:r})=>s.jsx(ne,{className:"glass-card p-8 hover-scale cursor-pointer group",onClick:r,children:s.jsxs("div",{className:"flex flex-col items-center text-center gap-6",children:[s.jsx("div",{className:"p-6 rounded-full bg-gradient-primary animate-glow-pulse",children:s.jsx(e,{className:"w-12 h-12 text-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold",children:t}),s.jsx("p",{className:"text-muted-foreground",children:n})]}),s.jsxs(z,{variant:"hero",className:"w-full",size:"lg",children:["Continue as ",t]})]})}),ZA=()=>{const e=Ke(),t=n=>{localStorage.setItem("userRole",n),n==="driver"?e("/driver-login"):e("/auth",{state:{role:n}})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),s.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-primary animate-glow-pulse",children:s.jsx(_n,{className:"w-10 h-10 text-foreground"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ECpool360"})]}),s.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Who are you today?"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Select your ECpool identity"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-12",children:[s.jsx(z0,{icon:_n,title:"Driver",description:"Offer and manage verified eco rides. Track your impact and earn rewards.",onClick:()=>t("driver")}),s.jsx(z0,{icon:F1,title:"Student",description:"Track and request safe eco-school rides. Monitor your CO savings.",onClick:()=>t("student")})]}),s.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 inline-block",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bn,{className:"w-6 h-6 text-primary animate-glow-pulse"}),s.jsx("p",{className:"text-muted-foreground",children:"Join 2,500+ active users saving CO together"})]})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(z,{variant:"link",onClick:()=>e("/auth"),className:"text-primary",children:"Sign in"})]})]})]})]})},GA=()=>{const[e,t]=v.useState(0),n=Ke(),r=[{icon:_n,title:"Ride Together",description:"Share rides safely in your community with verified drivers and students.",color:"primary"},{icon:bn,title:"Save Together",description:"Reduce your carbon footprint and contribute to a greener Oman with every shared ride.",color:"secondary"},{icon:Gg,title:"Earn EcoCredits",description:"Track and redeem your green impact with rewards for sustainable choices.",color:"accent"}],i=r[e],o=i.icon,l=()=>{e<r.length-1?t(e+1):(localStorage.setItem("hasSeenOnboarding","true"),n("/role-selection"))},d=()=>{localStorage.setItem("hasSeenOnboarding","true"),n("/role-selection")},u=()=>{e>0&&t(e-1)};return s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 z-0 opacity-10",style:{backgroundImage:`url(${Qj})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.jsxs(ne,{className:"glass-card p-12 max-w-2xl w-full text-center animate-scale-in relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12",children:[s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-primary animate-glow-pulse",children:s.jsx(_n,{className:"w-10 h-10 text-foreground"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ECpool360"})]}),s.jsxs("div",{className:"mb-12 animate-fade-in",children:[s.jsx("div",{className:`inline-flex p-8 rounded-full mb-8 ${i.color==="primary"?"bg-primary/20":i.color==="secondary"?"bg-secondary/20":"bg-accent/20"}`,children:s.jsx(o,{className:`w-20 h-20 ${i.color==="primary"?"text-primary":i.color==="secondary"?"text-secondary":"text-accent"}`})}),s.jsx("h2",{className:"text-4xl font-bold mb-6",children:i.title}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-lg mx-auto leading-relaxed",children:i.description})]},e),s.jsx("div",{className:"flex justify-center gap-3 mb-12",children:r.map((h,m)=>s.jsx("div",{className:`h-2 rounded-full transition-all ${m===e?"w-12 bg-primary":m<e?"w-8 bg-primary/50":"w-8 bg-muted"}`},m))}),s.jsxs("div",{className:"flex gap-4",children:[e>0&&s.jsxs(z,{variant:"outline",size:"lg",onClick:u,className:"flex-1",children:[s.jsx(zt,{className:"mr-2"}),"Back"]}),s.jsxs(z,{variant:"hero",size:"lg",onClick:l,className:"flex-1",children:[e===r.length-1?"Get Started":"Next",s.jsx(O1,{className:"ml-2"})]})]}),s.jsx("button",{onClick:d,className:"mt-6 text-muted-foreground hover:text-foreground transition-colors",children:"Skip"})]})]})},ye=v.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ye.displayName="Input";const YA="modulepreload",QA=function(e){return"/"+e},$0={},bc=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=QA(u),u in $0)return;$0[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":YA,h||(p.as="script"),p.crossOrigin="",p.href=u,d&&p.setAttribute("nonce",d),document.head.appendChild(p),h)return new Promise((x,y)=>{p.addEventListener("load",x),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},JA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class F0 extends xv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B0 extends xv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U0 extends xv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sp||(Sp={}));var XA=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};class eL{constructor(t,{headers:n={},customFetch:r,region:i=Sp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=JA(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return XA(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:d,signal:u}=r;let h={},{region:m}=r;m||(m=this.region);const p=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(h["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(h["Content-Type"]="application/json",x=JSON.stringify(d)));const y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x,signal:u}).catch(S=>{throw S.name==="AbortError"?S:new F0(S)}),k=y.headers.get("x-relay-error");if(k&&k==="true")throw new B0(y);if(!y.ok)throw new U0(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield y.json():_==="application/octet-stream"?N=yield y.blob():_==="text/event-stream"?N=y:_==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new F0(o)}:{data:null,error:o,response:o instanceof U0||o instanceof B0?o.context:void 0}}})}}var fn={},yv={},vh={},jc={},xh={},yh={},tL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},No=tL();const nL=No.fetch,Jj=No.fetch.bind(No),Xj=No.Headers,rL=No.Request,sL=No.Response,Ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xj,Request:rL,Response:sL,default:Jj,fetch:nL},Symbol.toStringTag,{value:"Module"})),iL=_C(Ao);var wh={};Object.defineProperty(wh,"__esModule",{value:!0});let aL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wh.default=aL;var eN=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yh,"__esModule",{value:!0});const oL=eN(iL),lL=eN(wh);let cL=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,d,u,h;let m=null,p=null,x=null,y=o.status,k=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?p=w:p=JSON.parse(w))}const N=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");N&&S&&S.length>1&&(x=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,x=null,y=406,k="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const N=await o.text();try{m=JSON.parse(N),Array.isArray(m)&&o.status===404&&(p=[],m=null,y=200,k="OK")}catch{o.status===404&&N===""?(y=204,k="No Content"):m={message:N}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,k="OK"),m&&this.shouldThrowOnError)throw new lL.default(m)}return{error:m,data:p,count:x,status:y,statusText:k}});return this.shouldThrowOnError||(i=i.catch(o=>{var l,d,u;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(d=o==null?void 0:o.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(u=o==null?void 0:o.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};yh.default=cL;var dL=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xh,"__esModule",{value:!0});const uL=dL(yh);let hL=class extends uL.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",d=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${d?`${d},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var d;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};xh.default=hL;var fL=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jc,"__esModule",{value:!0});const mL=fL(xh);let pL=class extends mL.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};jc.default=pL;var gL=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vh,"__esModule",{value:!0});const cl=gL(jc);let vL=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET";let l=!1;const d=(t??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",d),i&&this.headers.append("Prefer",`count=${i}`),new cl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new cl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var l;const d="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new cl.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new cl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new cl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vh.default=vL;var tN=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yv,"__esModule",{value:!0});const xL=tN(vh),yL=tN(jc);let wL=class nN{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new xL.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let d;const u=new URL(`${this.url}/rpc/${t}`);let h;r||i?(d=r?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{u.searchParams.append(p,x)})):(d="POST",h=n);const m=new Headers(this.headers);return o&&m.set("Prefer",`count=${o}`),new yL.default({method:d,url:u,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};yv.default=wL;var Lo=On&&On.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const rN=Lo(yv);fn.PostgrestClient=rN.default;const sN=Lo(vh);fn.PostgrestQueryBuilder=sN.default;const iN=Lo(jc);fn.PostgrestFilterBuilder=iN.default;const aN=Lo(xh);fn.PostgrestTransformBuilder=aN.default;const oN=Lo(yh);fn.PostgrestBuilder=oN.default;const lN=Lo(wh);fn.PostgrestError=lN.default;var _L=fn.default={PostgrestClient:rN.default,PostgrestQueryBuilder:sN.default,PostgrestFilterBuilder:iN.default,PostgrestTransformBuilder:aN.default,PostgrestBuilder:oN.default,PostgrestError:lN.default};const{PostgrestClient:bL,PostgrestQueryBuilder:OF,PostgrestFilterBuilder:RF,PostgrestTransformBuilder:MF,PostgrestBuilder:AF,PostgrestError:LF}=_L;class jL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NL="2.75.0",SL=`realtime-js/${NL}`,kL="1.0.0",kp=1e4,CL=1e3,EL=100;var Tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tl||(Tl={}));var Ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ot||(Ot={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var Cp;(function(e){e.websocket="websocket"})(Cp||(Cp={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class PL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:u,payload:h}}}class cN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const W0=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=TL(l,e,t,i),o),{}):{}},TL=(e,t,n,r)=>{const i=t.find(d=>d.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?dN(o,l):Ep(l)},dN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return AL(t,n)}switch(e){case st.bool:return OL(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return RL(t);case st.json:case st.jsonb:return ML(t);case st.timestamp:return LL(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Ep(t);default:return Ep(t)}},Ep=e=>e,OL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ML=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(d=>dN(t,d))}return e},LL=e=>typeof e=="string"?e.replace(" ","T"):e,uN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Wf{constructor(t,n,r={},i=kp){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var H0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(H0||(H0={}));class Ol{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,i,o,l),this.pendingDiffs.forEach(u=>{this.state=Ol.syncDiff(this.state,u,o,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ol.syncDiff(this.state,i,o,l),d())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),d={},u={};return this.map(o,(h,m)=>{l[h]||(u[h]=m)}),this.map(l,(h,m)=>{const p=o[h];if(p){const x=m.map(N=>N.presence_ref),y=p.map(N=>N.presence_ref),k=m.filter(N=>y.indexOf(N.presence_ref)<0),_=p.filter(N=>x.indexOf(N.presence_ref)<0);k.length>0&&(d[h]=k),_.length>0&&(u[h]=_)}else d[h]=m}),this.syncDiff(o,{joins:d,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(d,u)=>{var h;const m=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(u),m.length>0){const p=t[d].map(y=>y.presence_ref),x=m.filter(y=>p.indexOf(y.presence_ref)<0);t[d].unshift(...x)}r(d,m,u)}),this.map(l,(d,u)=>{let h=t[d];if(!h)return;const m=u.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[d]=h,i(d,h,u),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V0||(V0={}));var Rl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rl||(Rl={}));var ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class wv{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wf(this,ar.join,this.params,this.timeout),this.rejoinTimer=new cN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Ol(this),this.broadcastEndpointURL=uN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:l,presence:d,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},x={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(ts.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t==null||t(ts.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(k=_==null?void 0:_.length)!==null&&k!==void 0?k:0,S=[];for(let w=0;w<N;w++){const b=_[w],{filter:{event:C,schema:P,table:I,filter:M}}=b,$=y&&y[w];if($&&$.event===C&&$.schema===P&&$.table===I&&$.filter===M)S.push(Object.assign(Object.assign({},b),{id:$.id}));else{this.unsubscribe(),this.state=Ot.errored,t==null||t(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(ts.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ot.errored,t==null||t(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ot.joined&&t===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,d,u;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Wf(this,ar.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ot.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wf(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:d,error:u,leave:h,join:m}=ar;if(r&&[d,u,h,m].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,_,N;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((N=(_=y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(y=>y.callback(x,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var k,_,N,S,w,b;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const C=y.id,P=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((_=n.ids)===null||_===void 0?void 0:_.includes(C))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const C=(w=(S=y==null?void 0:y.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return C==="*"||C===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:_,table:N,commit_timestamp:S,type:w,errors:b}=k;x=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:S,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(k))}y.callback(x,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&wv.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=W0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=W0(t.columns,t.old_record)),n}}const Hf=()=>{},Nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IL=[1e3,2e3,5e3,1e4],DL=1e4,zL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $L{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kp,this.transport=null,this.heartbeatIntervalMs=Nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hf,this.ref=0,this.reconnectTimer=null,this.logger=Hf,this.conn=null,this.sendBuffer=[],this.serializer=new PL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>bc(async()=>{const{default:d}=await Promise.resolve().then(()=>Ao);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cp.websocket}`,this.httpEndpoint=uN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tl.connecting:return Ti.Connecting;case Tl.open:return Ti.Open;case Tl.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new wv(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,d=>{var u;(u=this.conn)===null||u===void 0||u.send(d)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,d=l?`(${l})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${d}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([zL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:SL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,d,u,h,m;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:kp,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Nd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Hf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>IL[p-1]||DL,this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(p,x)=>x(JSON.stringify(p)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _v extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FL extends _v{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pp extends _v{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var BL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};const hN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},UL=()=>BL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bc(()=>Promise.resolve().then(()=>Ao),void 0)).Response:Response}),Tp=e=>{if(Array.isArray(e))return e.map(n=>Tp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Tp(r)}),t},WL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var la=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};const Vf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HL=(e,t,n)=>la(void 0,void 0,void 0,function*(){const r=yield UL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new FL(Vf(i),o,l))}).catch(i=>{t(new Pp(Vf(i),i))}):t(new Pp(Vf(e),e))}),VL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(WL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Nc(e,t,n,r,i,o){return la(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,VL(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>HL(u,d,r))})})}function Tu(e,t,n,r){return la(this,void 0,void 0,function*(){return Nc(e,"GET",t,n,r)})}function Tr(e,t,n,r,i){return la(this,void 0,void 0,function*(){return Nc(e,"POST",t,r,i,n)})}function Op(e,t,n,r,i){return la(this,void 0,void 0,function*(){return Nc(e,"PUT",t,r,i,n)})}function qL(e,t,n,r){return la(this,void 0,void 0,function*(){return Nc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fN(e,t,n,r,i){return la(this,void 0,void 0,function*(){return Nc(e,"DELETE",t,r,i,n)})}var KL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};class ZL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return KL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var GL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};class YL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new ZL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return GL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}}var dn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};const QL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=hN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return dn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},q0),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,u&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),p=yield(t=="PUT"?Op:Tr)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ct(o))return{data:null,error:o};throw o}})}upload(t,n,r){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return dn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let u;const h=Object.assign({upsert:q0.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield Op(this.fetch,d.toString(),u,{headers:m});return{data:{path:o,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ct(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return dn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),d=l.searchParams.get("token");if(!d)throw new _v("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}update(t,n,r){return dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return dn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}copy(t,n,r){return dn(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return dn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return dn(this,void 0,void 0,function*(){try{const i=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",d=this._getFinalPath(t),u=()=>Tu(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new YL(u,this.shouldThrowOnError)}info(t){return dn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Tu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}exists(t){return dn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield qL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r)&&r instanceof Pp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return dn(this,void 0,void 0,function*(){try{return{data:yield fN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}list(t,n,r){return dn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},QL),n),{prefix:t||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}listV2(t,n){return dn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const XL="2.75.0",eI={"X-Client-Info":`storage-js/${XL}`};var ja=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};class tI{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eI),n),this.fetch=hN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ja(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ct(t))return{data:null,error:t};throw t}})}getBucket(t){return ja(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}createBucket(t){return ja(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ct(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ja(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ja(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ja(this,void 0,void 0,function*(){try{return{data:yield fN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}}class nI extends tI{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new JL(this.url,this.headers,t,this.fetch)}}const rI="2.75.0";let gl="";typeof Deno<"u"?gl="deno":typeof document<"u"?gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gl="react-native":gl="node";const sI={"X-Client-Info":`supabase-js-${gl}/${rI}`},iI={headers:sI},aI={schema:"public"},oI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lI={};var cI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};const dI=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jj:t=fetch,(...n)=>t(...n)},uI=()=>typeof Headers>"u"?Xj:Headers,hI=(e,t,n)=>{const r=dI(n),i=uI();return(o,l)=>cI(void 0,void 0,void 0,function*(){var d;const u=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var fI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};function mI(e){return e.endsWith("/")?e:e+"/"}function pI(e,t){var n,r;const{db:i,auth:o,realtime:l,global:d}=e,{db:u,auth:h,realtime:m,global:p}=t,x={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),d),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fI(this,void 0,void 0,function*(){return""})};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function gI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mN="2.75.0",Ma=30*1e3,Rp=3,qf=Rp*Ma,vI="http://localhost:9999",xI="supabase.auth.token",yI={"X-Client-Info":`gotrue-js/${mN}`},Mp="X-Supabase-Api-Version",pN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_I=10*60*1e3;class sc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bI extends sc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jI(e){return je(e)&&e.name==="AuthApiError"}class Oi extends sc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class mi extends sc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Es extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NI(e){return je(e)&&e.name==="AuthSessionMissingError"}class Na extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sd extends mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kd extends mi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SI(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class K0 extends mi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ap extends mi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kf(e){return je(e)&&e.name==="AuthRetryableFetchError"}class Z0 extends mi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lp extends mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),G0=` 	
\r=`.split(""),kI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<G0.length;t+=1)e[G0[t].charCodeAt(0)]=-2;for(let t=0;t<Ou.length;t+=1)e[Ou[t].charCodeAt(0)]=t;return e})();function Y0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ou[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ou[r]),t.queuedBits-=6}}function gN(e,t,n){const r=kI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q0(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{PI(l,r,n)};for(let l=0;l<e.length;l+=1)gN(e.charCodeAt(l),i,o);return t.join("")}function CI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}CI(r,t)}}function PI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function to(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)gN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function TI(e){const t=[];return EI(e,n=>t.push(n)),new Uint8Array(t)}function Li(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Y0(i,n,r)),Y0(null,n,r),t.join("")}function OI(e){return Math.round(Date.now()/1e3)+e}function RI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sn=()=>typeof window<"u"&&typeof document<"u",Ni={tested:!1,writable:!1},vN=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ni.tested)return Ni.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ni.tested=!0,Ni.writable=!0}catch{Ni.tested=!0,Ni.writable=!1}return Ni.writable};function MI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const xN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>bc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Aa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Si=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ns=async(e,t)=>{await e.removeItem(t)};class _h{constructor(){this.promise=new _h.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}_h.promiseConstructor=Promise;function Zf(e){const t=e.split(".");if(t.length!==3)throw new Lp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!wI.test(t[r]))throw new Lp("JWT not in base64url format");return{header:JSON.parse(Q0(t[0])),payload:JSON.parse(Q0(t[1])),signature:to(t[2]),raw:{header:t[0],payload:t[1]}}}async function LI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function II(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function DI(e){return("0"+e.toString(16)).substr(-2)}function zI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,DI).join("")}async function $I(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function FI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $I(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sa(e,t,n=!1){const r=zI();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Aa(e,`${t}-code-verifier`,i);const o=await FI(r);return[o,r===o?"plain":"s256"]}const BI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UI(e){const t=e.headers.get(Mp);if(!t||!t.match(BI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ka(e){if(!VI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function J0(e){return JSON.parse(JSON.stringify(e))}var qI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KI=[502,503,504];async function X0(e){var t;if(!AI(e))throw new Ap(Ei(e),0);if(KI.includes(e.status))throw new Ap(Ei(e),e.status);let n;try{n=await e.json()}catch(o){throw new Oi(Ei(o),o)}let r;const i=UI(e);if(i&&i.getTime()>=pN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Z0(Ei(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Es}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Z0(Ei(n),e.status,n.weak_password.reasons);throw new bI(Ei(n),e.status||500,r)}const ZI=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Oe(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Mp]||(o[Mp]=pN["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await GI(e,t,n+d,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function GI(e,t,n,r,i,o){const l=ZI(t,r,i,o);let d;try{d=await e(n,Object.assign({},l))}catch(u){throw console.error(u),new Ap(Ei(u),0)}if(d.ok||await X0(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(u){await X0(u)}}function Xn(e){var t;let n=null;JI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=OI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ew(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function As(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YI(e){return{data:e,error:null}}function QI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=qI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},l);return{data:{properties:d,user:u},error:null}}function tw(e){return e}function JI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yf=["global","local","others"];var XI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class e3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Yf[0]){if(Yf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yf.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=XI(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:QI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:As})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,d,u;try{const h={nextPage:null,lastPage:0,total:0},m=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:tw});if(m.error)throw m.error;const p=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(k.split(";")[1].split("=")[1]);h[`${N}Page`]=_}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(je(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ka(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:As})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ka(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ka(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:As})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ka(t.userId);try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ka(t.userId),ka(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,d,u;try{const h={nextPage:null,lastPage:0,total:0},m=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:tw});if(m.error)throw m.error;const p=await m.json(),x=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(u=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(k.split(";")[1].split("=")[1]);h[`${N}Page`]=_}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(je(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}}function nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ca={debug:!!(globalThis&&vN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t3 extends yN{}async function n3(e,t,n){Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ca.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function r3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function s3(e){return parseInt(e,16)}function i3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function a3(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:d,requestId:u,resources:h,scheme:m,uri:p,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=wN(e.address),k=m?`${m}://${r}`:r,_=e.statement?`${e.statement}
`:"",N=`${k} wants you to sign in with your Ethereum account:
${y}

${_}`;let S=`URI: ${p}
Version: ${x}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),u&&(S+=`
Request ID: ${u}`),h){let w=`
Resources:`;for(const b of h){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}S+=w}return`${N}
${S}`}class kt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ru extends kt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function o3({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(bN(l)){if(o.rp.id!==l)return new kt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function l3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(bN(r)){if(n.rpId!==r)return new kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var _N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class c3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const d3=new c3;function u3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=_N(e,["challenge","user","excludeCredentials"]),o=to(t).buffer,l=Object.assign(Object.assign({},n),{id:to(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];d.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:to(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function h3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=_N(e,["challenge","allowCredentials"]),i=to(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},d),{id:to(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function f3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Li(new Uint8Array(e.response.attestationObject)),clientDataJSON:Li(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function m3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Li(new Uint8Array(i.authenticatorData)),clientDataJSON:Li(new Uint8Array(i.clientDataJSON)),signature:Li(new Uint8Array(i.signature)),userHandle:i.userHandle?Li(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rw(){var e,t;return!!(Sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function p3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ru("Browser returned unexpected credential type",t)}:{data:null,error:new Ru("Empty credential response",t)}}catch(t){return{data:null,error:o3({error:t,options:e})}}}async function g3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ru("Browser returned unexpected credential type",t)}:{data:null,error:new Ru("Empty credential response",t)}}catch(t){return{data:null,error:l3({error:t,options:e})}}}const v3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},x3={userVerification:"preferred",hints:["security-key"]};function Mu(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const d=r[o];t(d)?r[o]=Mu(d,l):r[o]=Mu(l)}else r[o]=l}return r}function y3(e,t){return Mu(v3,e,t||{})}function w3(e,t){return Mu(x3,e,t||{})}class _3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const u=i??d3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=y3(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:m,error:p}=await p3({publicKey:h,signal:u});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const h=w3(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:m,error:p}=await g3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:u}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new sc("rpId is required for WebAuthn authentication")};try{if(!rw())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:d};const{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new sc("rpId is required for WebAuthn registration")};try{if(!rw())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:u,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new Oi("Unexpected error in register",l)}}}}r3();const b3={url:vI,storageKey:xI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sw(e,t,n){return await n()}const Ea={};class ic{get jwks(){var t,n;return(n=(t=Ea[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ea[this.storageKey]=Object.assign(Object.assign({},Ea[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ea[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ea[this.storageKey]=Object.assign(Object.assign({},Ea[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ic.nextInstanceID,ic.nextInstanceID+=1,this.instanceID>0&&Sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},b3),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new e3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xN(i.fetch),this.lock=i.lock||sw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=n3:this.lock=sw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _3(this)},this.persistSession?(i.storage?this.storage=i.storage:vN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nw(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=MI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Sn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),SI(o)){const u=(t=o.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return je(n)?{error:n}:{error:new Oi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:m,password:p,options:x}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await Sa(this.storage,this.storageKey)),o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:y,code_challenge_method:k},xform:Xn})}else if("phone"in t){const{phone:m,password:p,options:x}=t;o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Xn})}else throw new Sd("You must provide either an email or phone number and a password");const{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:d}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ew})}else if("phone"in t){const{phone:o,password:l,options:d}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ew})}else throw new Sd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Na}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,d,u,h,m,p,x;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:_,wallet:N,statement:S,options:w}=t;let b;if(Sn())if(typeof N=="object")b=N;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")b=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=N}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),P=await b.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=wN(P[0]);let M=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const H=await b.request({method:"eth_chainId"});M=s3(H)}const $={domain:C.host,address:I,statement:S,uri:C.href,version:"1",chainId:M,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=w==null?void 0:w.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=w==null?void 0:w.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=a3($),k=await b.request({method:"personal_sign",params:[i3(y),I]})}try{const{data:_,error:N}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Xn});if(N)throw N;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Na}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:N})}catch(_){if(je(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,r,i,o,l,d,u,h,m,p,x,y;let k,_;if("message"in t)k=t.message,_=t.signature;else{const{chain:N,wallet:S,statement:w,options:b}=t;let C;if(Sn())if(typeof S=="object")C=S;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))C=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const P=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const I=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),w?{statement:w}:null));let M;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")M=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)M=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)k=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${P.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((h=b==null?void 0:b.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(m=b==null?void 0:b.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const I=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=I}}try{const{data:N,error:S}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Li(_)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xn});if(S)throw S;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Na}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:S})}catch(N){if(je(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xn});if(await Ns(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Na}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(je(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,d=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:u,error:h}=d;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Na}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:d,options:u}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Sa(this.storage,this.storageKey));const{error:p}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:d,options:u}=t,{data:h,error:m}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Sd("You must provide either an email or phone number.")}catch(d){if(je(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Xn});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,h=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Sa(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:YI})}catch(o){if(je(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Es;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:d}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Sd("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Si(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Gf()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,h,m)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,h,m))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:As}):await this._useSession(async n=>{var r,i,o;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:As})})}catch(n){if(je(n))return NI(n)&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Es;const l=i.session;let d=null,u=null;this.flowType==="pkce"&&t.email!=null&&([d,u]=await Sa(this.storage,this.storageKey));const{data:h,error:m}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:u}),jwt:l.access_token,xform:As});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Es;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Zf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:u}=await this._getUser(t.access_token);if(u)throw u;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Es;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Sn())throw new kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K0("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:d,expires_at:u,token_type:h}=t;if(!o||!d||!l||!h)throw new kd("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(d);let x=m+p;u&&(x=parseInt(u));const y=x-m;y*1e3<=Ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=x-p;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,m);const{data:_,error:N}=await this._getUser(o);if(N)throw N;const S={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:x,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(jI(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Sa(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(je(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,d,u,h,m;const{data:p,error:x}=o;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(je(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:d,token:u,access_token:h,nonce:m}=t,p=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:u,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xn}),{data:x,error:y}=p;return y?{data:{user:null,session:null},error:y}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Na}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:y})}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await II(async i=>(i>0&&await LI(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Kf(o)&&Date.now()+l-r<Ma})}catch(r){if(this._debug(n,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Si(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Aa(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Gf()}else if(i&&!i.user&&!i.user){const l=await Si(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ns(this.storage,this.storageKey+"-user"),await Aa(this.storage,this.storageKey,i)):i.user=Gf()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qf}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Kf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _h;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Es;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),je(o)){const l={data:null,error:o};return Kf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(l),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Aa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=J0(i);await Aa(this.storage,this.storageKey,o)}else{const i=J0(n);await Aa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ns(this.storage,this.storageKey),await Ns(this.storage,this.storageKey+"-code-verifier"),await Ns(this.storage,this.storageKey+"-user"),this.userStorage&&await Ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ma);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ma}ms, refresh threshold is ${Rp} ticks`),i<=Rp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Sa(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:h}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?f3(t.webauthn.credential_response):m3(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:u}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:u})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:u3(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:h3(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Zf(i.access_token);let d=null;l.aal&&(d=l.aal);let u=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+_I>i)return r;const{data:o,error:l}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return{data:null,error:k};r=y.session.access_token}const{header:i,payload:o,signature:l,raw:{header:d,payload:u}}=Zf(r);n!=null&&n.allowExpired||WI(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:l},error:null}}const m=HI(i.alg),p=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,l,TI(`${d}.${u}`)))throw new Lp("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}ic.nextInstanceID=0;const j3=ic;class N3 extends j3{constructor(t){super(t)}}var S3=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(m){try{h(r.next(m))}catch(p){l(p)}}function u(m){try{h(r.throw(m))}catch(p){l(p)}}function h(m){m.done?o(m.value):i(m.value).then(d,u)}h((r=r.apply(e,t||[])).next())})};class k3{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const d=gI(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:aI,realtime:lI,auth:Object.assign(Object.assign({},oI),{storageKey:u}),global:iI},m=pI(r??{},h);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=hI(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new bL(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new nI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new eL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return S3(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:d,lock:u,debug:h},m,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N3({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:d,lock:u,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $L(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const C3=(e,t,n)=>new k3(e,t,n);function E3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}E3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P3="https://frrbtqxfzrvmrbamkfsc.supabase.co",T3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZycmJ0cXhmenJ2bXJiYW1rZnNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0MzE2OTcsImV4cCI6MjA3NjAwNzY5N30.uCmsONAhqmyJaI1pfP0n_nneo3N5XASKPHkByjldWgI",me=C3(P3,T3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),O3=()=>{const[e,t]=v.useState(!1),[n,r]=v.useState(""),[i,o]=v.useState(""),[l,d]=v.useState(""),u=Ke(),h=gs(),{toast:m}=vt(),p=async y=>{var k;if(y.preventDefault(),e&&i!==l){m({title:"Error",description:"Passwords don't match",variant:"destructive"});return}try{if(e){const{error:N}=await me.auth.signUp({email:n,password:i});if(N)throw N;m({title:"Account Created",description:"Welcome to ECpool360!"})}else{const{error:N}=await me.auth.signInWithPassword({email:n,password:i});if(N)throw N;m({title:"Signed In",description:"Welcome back!"})}const _=((k=h.state)==null?void 0:k.role)||localStorage.getItem("userRole");u(_==="student"?"/student":"/")}catch(_){m({title:"Error",description:_.message||"Authentication failed",variant:"destructive"})}},x=async()=>{try{const{error:y}=await me.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/student`}});if(y)throw y}catch(y){m({title:"Error",description:y.message||"Google sign in failed",variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ne,{className:"glass-card p-8 w-full max-w-md animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-primary animate-glow-pulse",children:s.jsx(_n,{className:"w-8 h-8 text-foreground"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"ECpool360"})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:e?"Create Account":"Welcome back"}),s.jsx("p",{className:"text-muted-foreground",children:e?"Sign up to continue":"Sign in to continue"})]}),s.jsxs(z,{variant:"glass",className:"w-full mb-6",size:"lg",onClick:x,children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-card text-muted-foreground",children:"or"})})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(oh,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),s.jsx(ye,{type:"email",placeholder:"your@email.com",value:n,onChange:y=>r(y.target.value),className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(hp,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),s.jsx(ye,{type:"password",placeholder:"",value:i,onChange:y=>o(y.target.value),className:"pl-10",required:!0})]})]}),e&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(hp,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),s.jsx(ye,{type:"password",placeholder:"",value:l,onChange:y=>d(y.target.value),className:"pl-10",required:!0})]})]}),!e&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>{m({title:"Reset Password",description:"Password reset link sent to your email"})},children:"Forgot password?"})}),s.jsx(z,{type:"submit",variant:"hero",className:"w-full",size:"lg",children:e?"Sign up":"Sign in"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:e?"Already have an account? ":"Need an account? "}),s.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>t(!e),children:e?"Sign in":"Sign up"})]})]})})},Ip=({icon:e,label:t,value:n,trend:r,color:i="primary"})=>{const o=i==="primary"?"glow-primary":i==="secondary"?"glow-cyan":"glow-accent",l=i==="primary"?"bg-primary/10":i==="secondary"?"bg-secondary/10":"bg-accent/10";return s.jsx(ne,{className:`glass-card p-6 ${o} hover-scale animate-fade-in`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:t}),s.jsx("p",{className:"text-3xl font-bold",children:n}),r&&s.jsxs("p",{className:"text-sm text-primary",children:[" ",r]})]}),s.jsx("div",{className:`p-3 rounded-xl ${l}`,children:s.jsx(e,{className:"w-6 h-6"})})]})})},R3=ih("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return s.jsx("div",{className:Te(R3({variant:t}),e),...n})}const Ml=({driverName:e,from:t,to:n,time:r,seats:i,co2Saved:o,status:l="pending",onAction:d,actionLabel:u="Request Ride"})=>{const h={pending:"bg-accent/20 text-accent border-accent/30",active:"bg-primary/20 text-primary border-primary/30",completed:"bg-secondary/20 text-secondary border-secondary/30"};return s.jsx(ne,{className:"glass-card p-6 hover-scale animate-slide-up",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/20",children:s.jsx(_n,{className:"w-6 h-6 text-primary"})}),e&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified Driver "})]})]}),s.jsx(Pe,{className:h[l],children:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(at,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(at,{className:"w-4 h-4 text-secondary"}),s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:n})]})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(wt,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{children:r})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:[i," seats"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm ml-auto",children:[s.jsx(bn,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-primary font-semibold",children:[o," kg CO"]})]})]}),d&&s.jsx(z,{variant:"hero",className:"w-full",onClick:d,children:u})]})})},ms=()=>{const e=Ke(),t=gs(),[n]=v.useState(156),r=localStorage.getItem("userRole"),i=l=>t.pathname===l,o=[{path:r==="driver"?"/driver":"/student",icon:sa,label:"Home"},{path:r==="driver"?"/driver/routes":"/request-ride",icon:xc,label:"My Rides",badge:null},{path:"/wallet",icon:U1,label:"Wallet",showCredits:!0},{path:"/analytics",icon:ah,label:"Stats"},{path:r==="driver"?"/driver-profile":"/student-profile",icon:ia,label:"Profile"}];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 glass-card border-t border-border rounded-t-3xl shadow-card",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex items-center justify-around h-[70px]",children:o.map(l=>{const d=l.icon,u=i(l.path);return s.jsxs("button",{onClick:()=>e(l.path),className:`flex flex-col items-center justify-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 hover:scale-110 relative group ${u?"text-primary":"text-muted-foreground"}`,children:[u&&s.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-xl animate-glow-pulse"}),s.jsxs("div",{className:"relative",children:[s.jsx(d,{className:`w-6 h-6 transition-all duration-300 ${u?"scale-110":""}`,strokeWidth:u?2.5:2}),l.showCredits&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[20px] text-center animate-glow-pulse",children:n}),l.badge&&s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-destructive rounded-full animate-pulse"})]}),s.jsx("span",{className:`text-xs font-medium transition-all duration-300 ${u?"text-primary font-semibold":""}`,children:l.label}),u&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-full"})]},l.path)})})})})},M3=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"});function A3(e){if(!e)return"TBD";const t=new Date(e);return Number.isNaN(t.getTime())?"TBD":M3.format(t)}function L3(e,t,n){const r=e.bookings??[],i=e.start_time?new Date(e.start_time):null,o=e.status==="active"||e.status==="pending"||e.status==="completed"?e.status:i&&i<=n?"active":"pending",l=r.length,d=t??e.passenger_count??null,u=Number((l*.45).toFixed(1));return{id:e.id,routeName:e.route_name,from:e.start_location,to:e.end_location,startTimeDisplay:A3(e.start_time),status:o,seatsBooked:l,capacity:d,co2SavedKg:u,route:e}}async function jN(e){var k;const[{data:t,error:n},{data:r,error:i}]=await Promise.all([me.from("profiles").select("name").eq("id",e).maybeSingle(),me.from("drivers").select("*").eq("user_id",e).maybeSingle()]);if(n)throw n;if(i)throw i;if(!r)return{profileName:(t==null?void 0:t.name)??"Driver",stats:{ridesOffered:0,ecoCredits:200,ecoTrend:"Offer your first eco ride",co2SavedKg:0,rating:null},activeRoutes:[],upcomingRoutes:[],onboarding:!0};const{data:o,error:l}=await me.from("routes").select("*, bookings(*)").eq("driver_id",r.id).order("start_time",{ascending:!0});if(l)throw l;const d=new Date,h=(o??[]).map(_=>L3(_,r.vehicle_capacity??null,d)),m=h.filter(_=>_.status==="active"),p=h.filter(_=>_.status!=="completed"&&_.status!=="active"),x=h.reduce((_,N)=>_+N.co2SavedKg,0),y={ridesOffered:h.length,ecoCredits:r.eco_credits??I3(r.eco_credits,h.length),ecoTrend:m.length>0?`+${m.length} trips live`:`Next in ${((k=p[0])==null?void 0:k.startTimeDisplay)??"TBD"}`,co2SavedKg:Number(x.toFixed(1)),rating:r.rating};return{profileName:(t==null?void 0:t.name)??"Driver",stats:y,activeRoutes:m,upcomingRoutes:p,onboarding:!1}}function I3(e,t){if(typeof e=="number")return e;const n=t*120;return Math.max(200,n)}var Dp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(On,function(n){var r="1.9.4";function i(a){var c,f,g,j;for(f=1,g=arguments.length;f<g;f++){j=arguments[f];for(c in j)a[c]=j[c]}return a}var o=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function l(a,c){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var g=f.call(arguments,2);return function(){return a.apply(c,g.length?g.concat(f.call(arguments)):arguments)}}var d=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++d),a._leaflet_id}function h(a,c,f){var g,j,E,R;return R=function(){g=!1,j&&(E.apply(f,j),j=!1)},E=function(){g?j=arguments:(a.apply(f,arguments),setTimeout(R,c),g=!0)},E}function m(a,c,f){var g=c[1],j=c[0],E=g-j;return a===g&&f?a:((a-j)%E+E)%E+j}function p(){return!1}function x(a,c){if(c===!1)return a;var f=Math.pow(10,c===void 0?6:c);return Math.round(a*f)/f}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return y(a).split(/\s+/)}function _(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var f in c)a.options[f]=c[f];return a.options}function N(a,c,f){var g=[];for(var j in a)g.push(encodeURIComponent(f?j.toUpperCase():j)+"="+encodeURIComponent(a[j]));return(!c||c.indexOf("?")===-1?"?":"&")+g.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(a,c){return a.replace(S,function(f,g){var j=c[g];if(j===void 0)throw new Error("No value provided for variable "+f);return typeof j=="function"&&(j=j(c)),j})}var b=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function C(a,c){for(var f=0;f<a.length;f++)if(a[f]===c)return f;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var M=0;function $(a){var c=+new Date,f=Math.max(0,16-(c-M));return M=c+f,window.setTimeout(a,f)}var H=window.requestAnimationFrame||I("RequestAnimationFrame")||$,G=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Y(a,c,f){if(f&&H===$)a.call(c);else return H.call(window,l(a,c))}function X(a){a&&G.call(window,a)}var J={__proto__:null,extend:i,create:o,bind:l,get lastId(){return d},stamp:u,throttle:h,wrapNum:m,falseFn:p,formatNum:x,trim:y,splitWords:k,setOptions:_,getParamString:N,template:w,isArray:b,indexOf:C,emptyImageUrl:P,requestFn:H,cancelFn:G,requestAnimFrame:Y,cancelAnimFrame:X};function O(){}O.extend=function(a){var c=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,g=o(f);g.constructor=c,c.prototype=g;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(c[j]=this[j]);return a.statics&&i(c,a.statics),a.includes&&(Z(a.includes),i.apply(null,[g].concat(a.includes))),i(g,a),delete g.statics,delete g.includes,g.options&&(g.options=f.options?o(f.options):{},i(g.options,a.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,R=g._initHooks.length;E<R;E++)g._initHooks[E].call(this)}},c},O.include=function(a){var c=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},O.mergeOptions=function(a){return i(this.prototype.options,a),this},O.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Z(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=b(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c);else{a=k(a);for(var j=0,E=a.length;j<E;j++)this._on(a[j],c,f)}return this},off:function(a,c,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var g in a)this._off(g,a[g],c);else{a=k(a);for(var j=arguments.length===1,E=0,R=a.length;E<R;E++)j?this._off(a[E]):this._off(a[E],c,f)}return this},_on:function(a,c,f,g){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,f)===!1){f===this&&(f=void 0);var j={fn:c,ctx:f};g&&(j.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(j)}},_off:function(a,c,f){var g,j,E;if(this._events&&(g=this._events[a],!!g)){if(arguments.length===1){if(this._firingCount)for(j=0,E=g.length;j<E;j++)g[j].fn=p;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var R=this._listens(a,c,f);if(R!==!1){var F=g[R];this._firingCount&&(F.fn=p,this._events[a]=g=g.slice()),g.splice(R,1)}}},fire:function(a,c,f){if(!this.listens(a,f))return this;var g=i({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var j=this._events[a];if(j){this._firingCount=this._firingCount+1||1;for(var E=0,R=j.length;E<R;E++){var F=j[E],q=F.fn;F.once&&this.off(a,q,F.ctx),q.call(F.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(a,c,f,g){typeof a!="string"&&console.warn('"string" type argument expected');var j=c;typeof c!="function"&&(g=!!c,j=void 0,f=void 0);var E=this._events&&this._events[a];if(E&&E.length&&this._listens(a,j,f)!==!1)return!0;if(g){for(var R in this._eventParents)if(this._eventParents[R].listens(a,c,f,g))return!0}return!1},_listens:function(a,c,f){if(!this._events)return!1;var g=this._events[a]||[];if(!c)return!!g.length;f===this&&(f=void 0);for(var j=0,E=g.length;j<E;j++)if(g[j].fn===c&&g[j].ctx===f)return j;return!1},once:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c,!0);else{a=k(a);for(var j=0,E=a.length;j<E;j++)this._on(a[j],c,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var B=O.extend(V);function T(a,c,f){this.x=f?Math.round(a):a,this.y=f?Math.round(c):c}var K=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};T.prototype={clone:function(){return new T(this.x,this.y)},add:function(a){return this.clone()._add(U(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(U(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new T(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new T(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(a){a=U(a);var c=a.x-this.x,f=a.y-this.y;return Math.sqrt(c*c+f*f)},equals:function(a){return a=U(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=U(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function U(a,c,f){return a instanceof T?a:b(a)?new T(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new T(a.x,a.y):new T(a,c,f)}function W(a,c){if(a)for(var f=c?[a,c]:a,g=0,j=f.length;g<j;g++)this.extend(f[g])}W.prototype={extend:function(a){var c,f;if(!a)return this;if(a instanceof T||typeof a[0]=="number"||"x"in a)c=f=U(a);else if(a=D(a),c=a.min,f=a.max,!c||!f)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=f.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,f;return typeof a[0]=="number"||a instanceof T?a=U(a):a=D(a),a instanceof W?(c=a.min,f=a.max):c=f=a,c.x>=this.min.x&&f.x<=this.max.x&&c.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=D(a);var c=this.min,f=this.max,g=a.min,j=a.max,E=j.x>=c.x&&g.x<=f.x,R=j.y>=c.y&&g.y<=f.y;return E&&R},overlaps:function(a){a=D(a);var c=this.min,f=this.max,g=a.min,j=a.max,E=j.x>c.x&&g.x<f.x,R=j.y>c.y&&g.y<f.y;return E&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,f=this.max,g=Math.abs(c.x-f.x)*a,j=Math.abs(c.y-f.y)*a;return D(U(c.x-g,c.y-j),U(f.x+g,f.y+j))},equals:function(a){return a?(a=D(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function D(a,c){return!a||a instanceof W?a:new W(a,c)}function se(a,c){if(a)for(var f=c?[a,c]:a,g=0,j=f.length;g<j;g++)this.extend(f[g])}se.prototype={extend:function(a){var c=this._southWest,f=this._northEast,g,j;if(a instanceof ie)g=a,j=a;else if(a instanceof se){if(g=a._southWest,j=a._northEast,!g||!j)return this}else return a?this.extend(te(a)||Q(a)):this;return!c&&!f?(this._southWest=new ie(g.lat,g.lng),this._northEast=new ie(j.lat,j.lng)):(c.lat=Math.min(g.lat,c.lat),c.lng=Math.min(g.lng,c.lng),f.lat=Math.max(j.lat,f.lat),f.lng=Math.max(j.lng,f.lng)),this},pad:function(a){var c=this._southWest,f=this._northEast,g=Math.abs(c.lat-f.lat)*a,j=Math.abs(c.lng-f.lng)*a;return new se(new ie(c.lat-g,c.lng-j),new ie(f.lat+g,f.lng+j))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ie||"lat"in a?a=te(a):a=Q(a);var c=this._southWest,f=this._northEast,g,j;return a instanceof se?(g=a.getSouthWest(),j=a.getNorthEast()):g=j=a,g.lat>=c.lat&&j.lat<=f.lat&&g.lng>=c.lng&&j.lng<=f.lng},intersects:function(a){a=Q(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),j=a.getNorthEast(),E=j.lat>=c.lat&&g.lat<=f.lat,R=j.lng>=c.lng&&g.lng<=f.lng;return E&&R},overlaps:function(a){a=Q(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),j=a.getNorthEast(),E=j.lat>c.lat&&g.lat<f.lat,R=j.lng>c.lng&&g.lng<f.lng;return E&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Q(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(a,c){return a instanceof se?a:new se(a,c)}function ie(a,c,f){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,f!==void 0&&(this.alt=+f)}ie.prototype={equals:function(a,c){if(!a)return!1;a=te(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return ae.distance(this,te(a))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,f=c/Math.cos(Math.PI/180*this.lat);return Q([this.lat-c,this.lng-f],[this.lat+c,this.lng+f])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function te(a,c,f){return a instanceof ie?a:b(a)&&typeof a[0]!="object"?a.length===3?new ie(a[0],a[1],a[2]):a.length===2?new ie(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ie(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new ie(a,c,f)}var A={latLngToPoint:function(a,c){var f=this.projection.project(a),g=this.scale(c);return this.transformation._transform(f,g)},pointToLatLng:function(a,c){var f=this.scale(c),g=this.transformation.untransform(a,f);return this.projection.unproject(g)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,f=this.scale(a),g=this.transformation.transform(c.min,f),j=this.transformation.transform(c.max,f);return new W(g,j)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?m(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?m(a.lat,this.wrapLat,!0):a.lat,g=a.alt;return new ie(f,c,g)},wrapLatLngBounds:function(a){var c=a.getCenter(),f=this.wrapLatLng(c),g=c.lat-f.lat,j=c.lng-f.lng;if(g===0&&j===0)return a;var E=a.getSouthWest(),R=a.getNorthEast(),F=new ie(E.lat-g,E.lng-j),q=new ie(R.lat-g,R.lng-j);return new se(F,q)}},ae=i({},A,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var f=Math.PI/180,g=a.lat*f,j=c.lat*f,E=Math.sin((c.lat-a.lat)*f/2),R=Math.sin((c.lng-a.lng)*f/2),F=E*E+Math.cos(g)*Math.cos(j)*R*R,q=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*q}}),de=6378137,pe={R:de,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,a.lat),-f),j=Math.sin(g*c);return new T(this.R*a.lng*c,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(a){var c=180/Math.PI;return new ie((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=de*Math.PI;return new W([-a,-a],[a,a])}()};function fe(a,c,f,g){if(b(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=f,this._d=g}fe.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new T((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function oe(a,c,f,g){return new fe(a,c,f,g)}var ve=i({},ae,{code:"EPSG:3857",projection:pe,transformation:function(){var a=.5/(Math.PI*pe.R);return oe(a,.5,-a,.5)}()}),Ue=i({},ve,{code:"EPSG:900913"});function Je(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ht(a,c){var f="",g,j,E,R,F,q;for(g=0,E=a.length;g<E;g++){for(F=a[g],j=0,R=F.length;j<R;j++)q=F[j],f+=(j?"L":"M")+q.x+" "+q.y;f+=c?we.svg?"z":"x":""}return f||"M0 0"}var tt=document.documentElement.style,_e="ActiveXObject"in window,ke=_e&&!document.addEventListener,We="msLaunchUri"in navigator&&!("documentMode"in document),Fe=Nr("webkit"),xe=Nr("android"),Ie=Nr("android 2")||Nr("android 3"),jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vs=xe&&Nr("Google")&&jt<537&&!("AudioNode"in window),Ht=!!window.opera,Vr=!We&&Nr("chrome"),Rc=Nr("gecko")&&!Fe&&!Ht&&!_e,Rh=!Vr&&Nr("safari"),vi=Nr("phantom"),Mc="OTransition"in tt,Ac=navigator.platform.indexOf("Win")===0,ua=_e&&"transition"in tt,wr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,$o="MozPerspective"in tt,xs=!window.L_DISABLE_3D&&(ua||wr||$o)&&!Mc&&!vi,xi=typeof orientation<"u"||Nr("mobile"),Mh=xi&&Fe,Lc=xi&&wr,Fo=!window.PointerEvent&&window.MSPointerEvent,Ic=!!(window.PointerEvent||Fo),ha="ontouchstart"in window||!!window.TouchEvent,_r=!window.L_NO_TOUCH&&(ha||Ic),Ah=xi&&Ht,Ee=xi&&Rc,Ye=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nt=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return a}(),jn=function(){return!!document.createElement("canvas").getContext}(),Jt=!!(document.createElementNS&&Je("svg").createSVGRect),br=!!Jt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qr=!Jt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Nn=navigator.platform.indexOf("Mac")===0,jr=navigator.platform.indexOf("Linux")===0;function Nr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var we={ie:_e,ielt9:ke,edge:We,webkit:Fe,android:xe,android23:Ie,androidStock:vs,opera:Ht,chrome:Vr,gecko:Rc,safari:Rh,phantom:vi,opera12:Mc,win:Ac,ie3d:ua,webkit3d:wr,gecko3d:$o,any3d:xs,mobile:xi,mobileWebkit:Mh,mobileWebkit3d:Lc,msPointer:Fo,pointer:Ic,touch:_r,touchNative:ha,mobileOpera:Ah,mobileGecko:Ee,retina:Ye,passiveEvents:nt,canvas:jn,svg:Jt,vml:qr,inlineSvg:br,mac:Nn,linux:jr},Gv=we.msPointer?"MSPointerDown":"pointerdown",Yv=we.msPointer?"MSPointerMove":"pointermove",Qv=we.msPointer?"MSPointerUp":"pointerup",Jv=we.msPointer?"MSPointerCancel":"pointercancel",Lh={touchstart:Gv,touchmove:Yv,touchend:Qv,touchcancel:Jv},Xv={touchstart:wk,touchmove:Dc,touchend:Dc,touchcancel:Dc},fa={},ex=!1;function pk(a,c,f){return c==="touchstart"&&yk(),Xv[c]?(f=Xv[c].bind(this,f),a.addEventListener(Lh[c],f,!1),f):(console.warn("wrong event specified:",c),p)}function gk(a,c,f){if(!Lh[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Lh[c],f,!1)}function vk(a){fa[a.pointerId]=a}function xk(a){fa[a.pointerId]&&(fa[a.pointerId]=a)}function tx(a){delete fa[a.pointerId]}function yk(){ex||(document.addEventListener(Gv,vk,!0),document.addEventListener(Yv,xk,!0),document.addEventListener(Qv,tx,!0),document.addEventListener(Jv,tx,!0),ex=!0)}function Dc(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var f in fa)c.touches.push(fa[f]);c.changedTouches=[c],a(c)}}function wk(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&$t(c),Dc(a,c)}function _k(a){var c={},f,g;for(g in a)f=a[g],c[g]=f&&f.bind?f.bind(a):f;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var bk=200;function jk(a,c){a.addEventListener("dblclick",c);var f=0,g;function j(E){if(E.detail!==1){g=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var R=ax(E);if(!(R.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!R.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var F=Date.now();F-f<=bk?(g++,g===2&&c(_k(E))):g=1,f=F}}}return a.addEventListener("click",j),{dblclick:c,simDblclick:j}}function Nk(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ih=Fc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Bo=Fc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nx=Bo==="webkitTransition"||Bo==="OTransition"?Bo+"End":"transitionend";function rx(a){return typeof a=="string"?document.getElementById(a):a}function Uo(a,c){var f=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(a,null);f=g?g[c]:null}return f==="auto"?null:f}function Ze(a,c,f){var g=document.createElement(a);return g.className=c||"",f&&f.appendChild(g),g}function ft(a){var c=a.parentNode;c&&c.removeChild(a)}function zc(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ma(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function pa(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Dh(a,c){if(a.classList!==void 0)return a.classList.contains(c);var f=$c(a);return f.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(f)}function Le(a,c){if(a.classList!==void 0)for(var f=k(c),g=0,j=f.length;g<j;g++)a.classList.add(f[g]);else if(!Dh(a,c)){var E=$c(a);zh(a,(E?E+" ":"")+c)}}function _t(a,c){a.classList!==void 0?a.classList.remove(c):zh(a,y((" "+$c(a)+" ").replace(" "+c+" "," ")))}function zh(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function $c(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Dn(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Sk(a,c)}function Sk(a,c){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(g)}catch{if(c===1)return}c=Math.round(c*100),f?(f.Enabled=c!==100,f.Opacity=c):a.style.filter+=" progid:"+g+"(opacity="+c+")"}function Fc(a){for(var c=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in c)return a[f];return!1}function yi(a,c,f){var g=c||new T(0,0);a.style[Ih]=(we.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function Nt(a,c){a._leaflet_pos=c,we.any3d?yi(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function wi(a){return a._leaflet_pos||new T(0,0)}var Wo,Ho,$h;if("onselectstart"in document)Wo=function(){Me(window,"selectstart",$t)},Ho=function(){rt(window,"selectstart",$t)};else{var Vo=Fc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wo=function(){if(Vo){var a=document.documentElement.style;$h=a[Vo],a[Vo]="none"}},Ho=function(){Vo&&(document.documentElement.style[Vo]=$h,$h=void 0)}}function Fh(){Me(window,"dragstart",$t)}function Bh(){rt(window,"dragstart",$t)}var Bc,Uh;function Wh(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Uc(),Bc=a,Uh=a.style.outlineStyle,a.style.outlineStyle="none",Me(window,"keydown",Uc))}function Uc(){Bc&&(Bc.style.outlineStyle=Uh,Bc=void 0,Uh=void 0,rt(window,"keydown",Uc))}function sx(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Hh(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var kk={__proto__:null,TRANSFORM:Ih,TRANSITION:Bo,TRANSITION_END:nx,get:rx,getStyle:Uo,create:Ze,remove:ft,empty:zc,toFront:ma,toBack:pa,hasClass:Dh,addClass:Le,removeClass:_t,setClass:zh,getClass:$c,setOpacity:Dn,testProp:Fc,setTransform:yi,setPosition:Nt,getPosition:wi,get disableTextSelection(){return Wo},get enableTextSelection(){return Ho},disableImageDrag:Fh,enableImageDrag:Bh,preventOutline:Wh,restoreOutline:Uc,getSizedParentNode:sx,getScale:Hh};function Me(a,c,f,g){if(c&&typeof c=="object")for(var j in c)qh(a,j,c[j],f);else{c=k(c);for(var E=0,R=c.length;E<R;E++)qh(a,c[E],f,g)}return this}var Sr="_leaflet_events";function rt(a,c,f,g){if(arguments.length===1)ix(a),delete a[Sr];else if(c&&typeof c=="object")for(var j in c)Kh(a,j,c[j],f);else if(c=k(c),arguments.length===2)ix(a,function(F){return C(c,F)!==-1});else for(var E=0,R=c.length;E<R;E++)Kh(a,c[E],f,g);return this}function ix(a,c){for(var f in a[Sr]){var g=f.split(/\d/)[0];(!c||c(g))&&Kh(a,g,null,null,f)}}var Vh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qh(a,c,f,g){var j=c+u(f)+(g?"_"+u(g):"");if(a[Sr]&&a[Sr][j])return this;var E=function(F){return f.call(g||a,F||window.event)},R=E;!we.touchNative&&we.pointer&&c.indexOf("touch")===0?E=pk(a,c,E):we.touch&&c==="dblclick"?E=jk(a,E):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Vh[c]||c,E,we.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(F){F=F||window.event,Gh(a,F)&&R(F)},a.addEventListener(Vh[c],E,!1)):a.addEventListener(c,R,!1):a.attachEvent("on"+c,E),a[Sr]=a[Sr]||{},a[Sr][j]=E}function Kh(a,c,f,g,j){j=j||c+u(f)+(g?"_"+u(g):"");var E=a[Sr]&&a[Sr][j];if(!E)return this;!we.touchNative&&we.pointer&&c.indexOf("touch")===0?gk(a,c,E):we.touch&&c==="dblclick"?Nk(a,E):"removeEventListener"in a?a.removeEventListener(Vh[c]||c,E,!1):a.detachEvent("on"+c,E),a[Sr][j]=null}function _i(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Zh(a){return qh(a,"wheel",_i),this}function qo(a){return Me(a,"mousedown touchstart dblclick contextmenu",_i),a._leaflet_disable_click=!0,this}function $t(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function bi(a){return $t(a),_i(a),this}function ax(a){if(a.composedPath)return a.composedPath();for(var c=[],f=a.target;f;)c.push(f),f=f.parentNode;return c}function ox(a,c){if(!c)return new T(a.clientX,a.clientY);var f=Hh(c),g=f.boundingClientRect;return new T((a.clientX-g.left)/f.x-c.clientLeft,(a.clientY-g.top)/f.y-c.clientTop)}var Ck=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lx(a){return we.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ck:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Gh(a,c){var f=c.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var Ek={__proto__:null,on:Me,off:rt,stopPropagation:_i,disableScrollPropagation:Zh,disableClickPropagation:qo,preventDefault:$t,stop:bi,getPropagationPath:ax,getMousePosition:ox,getWheelDelta:lx,isExternalTarget:Gh,addListener:Me,removeListener:rt},cx=B.extend({run:function(a,c,f,g){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=wi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,f=this._duration*1e3;c<f?this._runFrame(this._easeOut(c/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var f=this._startPos.add(this._offset.multiplyBy(a));c&&f._round(),Nt(this._el,f),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),He=B.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=_(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(te(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Bo&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,nx,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,f){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(te(a),c,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=i({animate:f.animate},f.zoom),f.pan=i({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,f.zoom):this._tryAnimatedPan(a,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,f){var g=this.getZoomScale(c),j=this.getSize().divideBy(2),E=a instanceof T?a:this.latLngToContainerPoint(a),R=E.subtract(j).multiplyBy(1-1/g),F=this.containerPointToLatLng(j.add(R));return this.setView(F,c,{zoom:f})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Q(a);var f=U(c.paddingTopLeft||c.padding||[0,0]),g=U(c.paddingBottomRight||c.padding||[0,0]),j=this.getBoundsZoom(a,!1,f.add(g));if(j=typeof c.maxZoom=="number"?Math.min(c.maxZoom,j):j,j===1/0)return{center:a.getCenter(),zoom:j};var E=g.subtract(f).divideBy(2),R=this.project(a.getSouthWest(),j),F=this.project(a.getNorthEast(),j),q=this.unproject(R.add(F).divideBy(2).add(E),j);return{center:q,zoom:j}},fitBounds:function(a,c){if(a=Q(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,c);return this.setView(f.center,f.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=U(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cx,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,f){if(f=f||{},f.animate===!1||!we.any3d)return this.setView(a,c,f);this._stop();var g=this.project(this.getCenter()),j=this.project(a),E=this.getSize(),R=this._zoom;a=te(a),c=c===void 0?R:c;var F=Math.max(E.x,E.y),q=F*this.getZoomScale(R,c),re=j.distanceTo(g)||1,he=1.42,Se=he*he;function De(St){var ed=St?-1:1,gC=St?q:F,vC=q*q-F*F+ed*Se*Se*re*re,xC=2*gC*Se*re,of=vC/xC,Wx=Math.sqrt(of*of+1)-of,yC=Wx<1e-9?-18:Math.log(Wx);return yC}function Xt(St){return(Math.exp(St)-Math.exp(-St))/2}function Lt(St){return(Math.exp(St)+Math.exp(-St))/2}function $n(St){return Xt(St)/Lt(St)}var cn=De(0);function _a(St){return F*(Lt(cn)/Lt(cn+he*St))}function hC(St){return F*(Lt(cn)*$n(cn+he*St)-Xt(cn))/Se}function fC(St){return 1-Math.pow(1-St,1.5)}var mC=Date.now(),Bx=(De(1)-cn)/he,pC=f.duration?1e3*f.duration:1e3*Bx*.8;function Ux(){var St=(Date.now()-mC)/pC,ed=fC(St)*Bx;St<=1?(this._flyToFrame=Y(Ux,this),this._move(this.unproject(g.add(j.subtract(g).multiplyBy(hC(ed)/re)),R),this.getScaleZoom(F/_a(ed),R),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Ux.call(this),this},flyToBounds:function(a,c){var f=this._getBoundsCenterZoom(a,c);return this.flyTo(f.center,f.zoom,c)},setMaxBounds:function(a){return a=Q(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,Q(a));return f.equals(g)||this.panTo(g,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var f=U(c.paddingTopLeft||c.padding||[0,0]),g=U(c.paddingBottomRight||c.padding||[0,0]),j=this.project(this.getCenter()),E=this.project(a),R=this.getPixelBounds(),F=D([R.min.add(f),R.max.subtract(g)]),q=F.getSize();if(!F.contains(E)){this._enforcingBounds=!0;var re=E.subtract(F.getCenter()),he=F.extend(E).getSize().subtract(q);j.x+=re.x<0?-he.x:he.x,j.y+=re.y<0?-he.y:he.y,this.panTo(this.unproject(j),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=c.divideBy(2).round(),j=f.divideBy(2).round(),E=g.subtract(j);return!E.x&&!E.y?this:(a.animate&&a.pan?this.panBy(E):(a.pan&&this._rawPanBy(E),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,f,a):navigator.geolocation.getCurrentPosition(c,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,f=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,f=a.coords.longitude,g=new ie(c,f),j=g.toBounds(a.coords.accuracy*2),E=this._locateOptions;if(E.setView){var R=this.getBoundsZoom(j);this.setView(g,E.maxZoom?Math.min(R,E.maxZoom):R)}var F={latlng:g,bounds:j,timestamp:a.timestamp};for(var q in a.coords)typeof a.coords[q]=="number"&&(F[q]=a.coords[q]);this.fire("locationfound",F)}},addHandler:function(a,c){if(!c)return this;var f=this[a]=new c(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ft(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),g=Ze("div",f,c||this._mapPane);return a&&(this._panes[a]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new se(c,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,f){a=Q(a),f=U(f||[0,0]);var g=this.getZoom()||0,j=this.getMinZoom(),E=this.getMaxZoom(),R=a.getNorthWest(),F=a.getSouthEast(),q=this.getSize().subtract(f),re=D(this.project(F,g),this.project(R,g)).getSize(),he=we.any3d?this.options.zoomSnap:1,Se=q.x/re.x,De=q.y/re.y,Xt=c?Math.max(Se,De):Math.min(Se,De);return g=this.getScaleZoom(Xt,g),he&&(g=Math.round(g/(he/100))*(he/100),g=c?Math.ceil(g/he)*he:Math.floor(g/he)*he),Math.max(j,Math.min(E,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var f=this._getTopLeftPoint(a,c);return new W(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var f=this.options.crs;return c=c===void 0?this._zoom:c,f.scale(a)/f.scale(c)},getScaleZoom:function(a,c){var f=this.options.crs;c=c===void 0?this._zoom:c;var g=f.zoom(a*f.scale(c));return isNaN(g)?1/0:g},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(te(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(U(a),c)},layerPointToLatLng:function(a){var c=U(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(te(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(te(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Q(a))},distance:function(a,c){return this.options.crs.distance(te(a),te(c))},containerPointToLayerPoint:function(a){return U(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return U(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(U(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(a)))},mouseEventToContainerPoint:function(a){return ox(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=rx(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Le(a,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Uo(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Nt(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(a.markerPane,"leaflet-zoom-hide"),Le(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,f){Nt(this._mapPane,new T(0,0));var g=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var j=this._zoom!==c;this._moveStart(j,f)._move(a,c)._moveEnd(j),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,f,g){c===void 0&&(c=this._zoom);var j=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),g?f&&f.pinch&&this.fire("zoom",f):((j||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Nt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?rt:Me;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var f=[],g,j=c==="mouseout"||c==="mouseover",E=a.target||a.srcElement,R=!1;E;){if(g=this._targets[u(E)],g&&(c==="click"||c==="preclick")&&this._draggableMoved(g)){R=!0;break}if(g&&g.listens(c,!0)&&(j&&!Gh(E,a)||(f.push(g),j))||E===this._container)break;E=E.parentNode}return!f.length&&!R&&!j&&this.listens(c,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var f=a.type;f==="mousedown"&&Wh(c),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,f){if(a.type==="click"){var g=i({},a);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var j=this._findEventTargets(a,c);if(f){for(var E=[],R=0;R<f.length;R++)f[R].listens(c,!0)&&E.push(f[R]);j=E.concat(j)}if(j.length){c==="contextmenu"&&$t(a);var F=j[0],q={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var re=F.getLatLng&&(!F._radius||F._radius<=10);q.containerPoint=re?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(a),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=re?F.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(R=0;R<j.length;R++)if(j[R].fire(c,q,!0),q.originalEvent._stopped||j[R].options.bubblingMouseEvents===!1&&C(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return wi(this._mapPane)||new T(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var f=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var f=this.getSize()._divideBy(2);return this.project(a,c)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return this.project(a,c)._subtract(g)},_latLngBoundsToNewLayerBounds:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return D([this.project(a.getSouthWest(),c)._subtract(g),this.project(a.getNorthWest(),c)._subtract(g),this.project(a.getSouthEast(),c)._subtract(g),this.project(a.getNorthEast(),c)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,f){if(!f)return a;var g=this.project(a,c),j=this.getSize().divideBy(2),E=new W(g.subtract(j),g.add(j)),R=this._getBoundsOffset(E,f,c);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?a:this.unproject(g.add(R),c)},_limitOffset:function(a,c){if(!c)return a;var f=this.getPixelBounds(),g=new W(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(g,c))},_getBoundsOffset:function(a,c,f){var g=D(this.project(c.getNorthEast(),f),this.project(c.getSouthWest(),f)),j=g.min.subtract(a.min),E=g.max.subtract(a.max),R=this._rebound(j.x,-E.x),F=this._rebound(j.y,-E.y);return new T(R,F)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),f=this.getMaxZoom(),g=we.any3d?this.options.zoomSnap:1;return g&&(a=Math.round(a/g)*g),Math.max(c,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var f=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,c),!0)},_createAnimProxy:function(){var a=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var f=Ih,g=this._proxy.style[f];yi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();yi(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(c),j=this._getCenterOffset(a)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(j)?!1:(Y(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pk(a,c){return new He(a,c)}var Gn=O.extend({options:{position:"topright"},initialize:function(a){_(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),f=this.getPosition(),g=a._controlCorners[f];return Le(c,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(c,g.firstChild):g.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ko=function(a){return new Gn(a)};He.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",f=this._controlContainer=Ze("div",c+"control-container",this._container);function g(j,E){var R=c+j+" "+c+E;a[j+E]=Ze("div",R,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ft(this._controlCorners[a]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dx=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,f,g){return f<g?-1:g<f?1:0}},initialize:function(a,c,f){_(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in a)this._addLayer(a[g],g);for(g in c)this._addLayer(c[g],g,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Gn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Ze("div",a),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),qo(c),Zh(c);var g=this._section=Ze("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Me(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=Ze("a",a+"-toggle",c);j.href="#",j.title="Layers",j.setAttribute("role","button"),Me(j,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){$t(E),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Ze("div",a+"-base",g),this._separator=Ze("div",a+"-separator",g),this._overlaysList=Ze("div",a+"-overlays",g),c.appendChild(g)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(g,j){return this.options.sortFunction(g.layer,j.layer,g.name,j.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zc(this._baseLayersList),zc(this._overlaysList),this._layerControlInputs=[];var a,c,f,g,j=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),c=c||g.overlay,a=a||!g.overlay,j+=g.overlay?0:1;return this.options.hideSingleBase&&(a=a&&j>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),f=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,c)},_createRadioElement:function(a,c){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(a){var c=document.createElement("label"),f=this._map.hasLayer(a.layer),g;a.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(g),g.layerId=u(a.layer),Me(g,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+a.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(g),E.appendChild(j);var R=a.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,f,g=[],j=[];this._handlingClick=!0;for(var E=a.length-1;E>=0;E--)c=a[E],f=this._getLayer(c.layerId).layer,c.checked?g.push(f):c.checked||j.push(f);for(E=0;E<j.length;E++)this._map.hasLayer(j[E])&&this._map.removeLayer(j[E]);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])||this._map.addLayer(g[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,f,g=this._map.getZoom(),j=a.length-1;j>=0;j--)c=a[j],f=this._getLayer(c.layerId).layer,c.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Me(a,"click",$t),this.expand();var c=this;setTimeout(function(){rt(a,"click",$t),c._preventClick=!1})}}),Tk=function(a,c,f){return new dx(a,c,f)},Yh=Gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",f=Ze("div",c+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,c+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,c+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,f,g,j){var E=Ze("a",f,g);return E.innerHTML=a,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),qo(E),Me(E,"click",bi),Me(E,"click",j,this),Me(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";_t(this._zoomInButton,c),_t(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Le(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Le(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});He.mergeOptions({zoomControl:!0}),He.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yh,this.addControl(this.zoomControl))});var Ok=function(a){return new Yh(a)},ux=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",f=Ze("div",c),g=this.options;return this._addScales(g,c+"-line",f),a.on(g.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,f){a.metric&&(this._mScale=Ze("div",c,f)),a.imperial&&(this._iScale=Ze("div",c,f))},_update:function(){var a=this._map,c=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),f=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,f,c/a)},_updateImperial:function(a){var c=a*3.2808399,f,g,j;c>5280?(f=c/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(j=this._getRoundNum(c),this._updateScale(this._iScale,j+" ft",j/c))},_updateScale:function(a,c,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),f=a/c;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,c*f}}),Rk=function(a){return new ux(a)},Mk='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qh=Gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?Mk+" ":"")+"Leaflet</a>"},initialize:function(a){_(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),qo(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});He.mergeOptions({attributionControl:!0}),He.addInitHook(function(){this.options.attributionControl&&new Qh().addTo(this)});var Ak=function(a){return new Qh(a)};Gn.Layers=dx,Gn.Zoom=Yh,Gn.Scale=ux,Gn.Attribution=Qh,Ko.layers=Tk,Ko.zoom=Ok,Ko.scale=Rk,Ko.attribution=Ak;var kr=O.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kr.addTo=function(a,c){return a.addHandler(c,this),this};var Lk={Events:V},hx=we.touch?"touchstart mousedown":"mousedown",ys=B.extend({options:{clickTolerance:3},initialize:function(a,c,f,g){_(this,g),this._element=a,this._dragStartTarget=c||a,this._preventOutline=f},enable:function(){this._enabled||(Me(this._dragStartTarget,hx,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ys._dragging===this&&this.finishDrag(!0),rt(this._dragStartTarget,hx,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Dh(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ys._dragging===this&&this.finishDrag();return}if(!(ys._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ys._dragging=this,this._preventOutline&&Wh(this._element),Fh(),Wo(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,f=sx(this._element);this._startPoint=new T(c.clientX,c.clientY),this._startPos=wi(this._element),this._parentScale=Hh(f);var g=a.type==="mousedown";Me(document,g?"mousemove":"touchmove",this._onMove,this),Me(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,f=new T(c.clientX,c.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,$t(a),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Nt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rt(document,"mousemove touchmove",this._onMove,this),rt(document,"mouseup touchend touchcancel",this._onUp,this),Bh(),Ho();var c=this._moved&&this._moving;this._moving=!1,ys._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function fx(a,c,f){var g,j=[1,4,2,8],E,R,F,q,re,he,Se,De;for(E=0,he=a.length;E<he;E++)a[E]._code=ji(a[E],c);for(F=0;F<4;F++){for(Se=j[F],g=[],E=0,he=a.length,R=he-1;E<he;R=E++)q=a[E],re=a[R],q._code&Se?re._code&Se||(De=Wc(re,q,Se,c,f),De._code=ji(De,c),g.push(De)):(re._code&Se&&(De=Wc(re,q,Se,c,f),De._code=ji(De,c),g.push(De)),g.push(q));a=g}return a}function mx(a,c){var f,g,j,E,R,F,q,re,he;if(!a||a.length===0)throw new Error("latlngs not passed");zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Se=te([0,0]),De=Q(a),Xt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Xt<1700&&(Se=Jh(a));var Lt=a.length,$n=[];for(f=0;f<Lt;f++){var cn=te(a[f]);$n.push(c.project(te([cn.lat-Se.lat,cn.lng-Se.lng])))}for(F=q=re=0,f=0,g=Lt-1;f<Lt;g=f++)j=$n[f],E=$n[g],R=j.y*E.x-E.y*j.x,q+=(j.x+E.x)*R,re+=(j.y+E.y)*R,F+=R*3;F===0?he=$n[0]:he=[q/F,re/F];var _a=c.unproject(U(he));return te([_a.lat+Se.lat,_a.lng+Se.lng])}function Jh(a){for(var c=0,f=0,g=0,j=0;j<a.length;j++){var E=te(a[j]);c+=E.lat,f+=E.lng,g++}return te([c/g,f/g])}var Ik={__proto__:null,clipPolygon:fx,polygonCenter:mx,centroid:Jh};function px(a,c){if(!c||!a.length)return a.slice();var f=c*c;return a=$k(a,f),a=zk(a,f),a}function gx(a,c,f){return Math.sqrt(Zo(a,c,f,!0))}function Dk(a,c,f){return Zo(a,c,f)}function zk(a,c){var f=a.length,g=typeof Uint8Array<"u"?Uint8Array:Array,j=new g(f);j[0]=j[f-1]=1,Xh(a,j,c,0,f-1);var E,R=[];for(E=0;E<f;E++)j[E]&&R.push(a[E]);return R}function Xh(a,c,f,g,j){var E=0,R,F,q;for(F=g+1;F<=j-1;F++)q=Zo(a[F],a[g],a[j],!0),q>E&&(R=F,E=q);E>f&&(c[R]=1,Xh(a,c,f,g,R),Xh(a,c,f,R,j))}function $k(a,c){for(var f=[a[0]],g=1,j=0,E=a.length;g<E;g++)Fk(a[g],a[j])>c&&(f.push(a[g]),j=g);return j<E-1&&f.push(a[E-1]),f}var vx;function xx(a,c,f,g,j){var E=g?vx:ji(a,f),R=ji(c,f),F,q,re;for(vx=R;;){if(!(E|R))return[a,c];if(E&R)return!1;F=E||R,q=Wc(a,c,F,f,j),re=ji(q,f),F===E?(a=q,E=re):(c=q,R=re)}}function Wc(a,c,f,g,j){var E=c.x-a.x,R=c.y-a.y,F=g.min,q=g.max,re,he;return f&8?(re=a.x+E*(q.y-a.y)/R,he=q.y):f&4?(re=a.x+E*(F.y-a.y)/R,he=F.y):f&2?(re=q.x,he=a.y+R*(q.x-a.x)/E):f&1&&(re=F.x,he=a.y+R*(F.x-a.x)/E),new T(re,he,j)}function ji(a,c){var f=0;return a.x<c.min.x?f|=1:a.x>c.max.x&&(f|=2),a.y<c.min.y?f|=4:a.y>c.max.y&&(f|=8),f}function Fk(a,c){var f=c.x-a.x,g=c.y-a.y;return f*f+g*g}function Zo(a,c,f,g){var j=c.x,E=c.y,R=f.x-j,F=f.y-E,q=R*R+F*F,re;return q>0&&(re=((a.x-j)*R+(a.y-E)*F)/q,re>1?(j=f.x,E=f.y):re>0&&(j+=R*re,E+=F*re)),R=a.x-j,F=a.y-E,g?R*R+F*F:new T(j,E)}function zn(a){return!b(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function yx(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),zn(a)}function wx(a,c){var f,g,j,E,R,F,q,re;if(!a||a.length===0)throw new Error("latlngs not passed");zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var he=te([0,0]),Se=Q(a),De=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());De<1700&&(he=Jh(a));var Xt=a.length,Lt=[];for(f=0;f<Xt;f++){var $n=te(a[f]);Lt.push(c.project(te([$n.lat-he.lat,$n.lng-he.lng])))}for(f=0,g=0;f<Xt-1;f++)g+=Lt[f].distanceTo(Lt[f+1])/2;if(g===0)re=Lt[0];else for(f=0,E=0;f<Xt-1;f++)if(R=Lt[f],F=Lt[f+1],j=R.distanceTo(F),E+=j,E>g){q=(E-g)/j,re=[F.x-q*(F.x-R.x),F.y-q*(F.y-R.y)];break}var cn=c.unproject(U(re));return te([cn.lat+he.lat,cn.lng+he.lng])}var Bk={__proto__:null,simplify:px,pointToSegmentDistance:gx,closestPointOnSegment:Dk,clipSegment:xx,_getEdgeIntersection:Wc,_getBitCode:ji,_sqClosestPointOnSegment:Zo,isFlat:zn,_flat:yx,polylineCenter:wx},ef={project:function(a){return new T(a.lng,a.lat)},unproject:function(a){return new ie(a.y,a.x)},bounds:new W([-180,-90],[180,90])},tf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,f=this.R,g=a.lat*c,j=this.R_MINOR/f,E=Math.sqrt(1-j*j),R=E*Math.sin(g),F=Math.tan(Math.PI/4-g/2)/Math.pow((1-R)/(1+R),E/2);return g=-f*Math.log(Math.max(F,1e-10)),new T(a.lng*c*f,g)},unproject:function(a){for(var c=180/Math.PI,f=this.R,g=this.R_MINOR/f,j=Math.sqrt(1-g*g),E=Math.exp(-a.y/f),R=Math.PI/2-2*Math.atan(E),F=0,q=.1,re;F<15&&Math.abs(q)>1e-7;F++)re=j*Math.sin(R),re=Math.pow((1-re)/(1+re),j/2),q=Math.PI/2-2*Math.atan(E*re)-R,R+=q;return new ie(R*c,a.x*c/f)}},Uk={__proto__:null,LonLat:ef,Mercator:tf,SphericalMercator:pe},Wk=i({},ae,{code:"EPSG:3395",projection:tf,transformation:function(){var a=.5/(Math.PI*tf.R);return oe(a,.5,-a,.5)}()}),_x=i({},ae,{code:"EPSG:4326",projection:ef,transformation:oe(1/180,1,-1/180,.5)}),Hk=i({},A,{projection:ef,transformation:oe(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var f=c.lng-a.lng,g=c.lat-a.lat;return Math.sqrt(f*f+g*g)},infinite:!0});A.Earth=ae,A.EPSG3395=Wk,A.EPSG3857=ve,A.EPSG900913=Ue,A.EPSG4326=_x,A.Simple=Hk;var Yn=B.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var f=this.getEvents();c.on(f,this),this.once("remove",function(){c.off(f,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});He.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},_addLayers:function(a){a=a?b(a)?a:[a]:[];for(var c=0,f=a.length;c<f;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var j=this._zoomBoundLayers[g].options;a=j.minZoom===void 0?a:Math.min(a,j.minZoom),c=j.maxZoom===void 0?c:Math.max(c,j.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ga=Yn.extend({initialize:function(a,c){_(this,c),this._layers={};var f,g;if(a)for(f=0,g=a.length;f<g;f++)this.addLayer(a[f])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[a]&&g[a].apply(g,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),Vk=function(a,c){return new ga(a,c)},Kr=ga.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ga.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ga.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new se;for(var c in this._layers){var f=this._layers[c];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),qk=function(a,c){return new Kr(a,c)},va=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){_(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(g,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(a,c){var f=this.options,g=f[c+"Size"];typeof g=="number"&&(g=[g,g]);var j=U(g),E=U(c==="shadow"&&f.shadowAnchor||f.iconAnchor||j&&j.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(f.className||""),E&&(a.style.marginLeft=-E.x+"px",a.style.marginTop=-E.y+"px"),j&&(a.style.width=j.x+"px",a.style.height=j.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return we.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Kk(a){return new va(a)}var Go=va.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Go.imagePath!="string"&&(Go.imagePath=this._detectIconPath()),(this.options.imagePath||Go.imagePath)+va.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(f,g,j){var E=g.exec(f);return E&&E[j]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ze("div","leaflet-default-icon-path",document.body),c=Uo(a,"background-image")||Uo(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),bx=kr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ys(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,f=c._map,g=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,E=wi(c._icon),R=f.getPixelBounds(),F=f.getPixelOrigin(),q=D(R.min._subtract(F).add(j),R.max._subtract(F).subtract(j));if(!q.contains(E)){var re=U((Math.max(q.max.x,E.x)-q.max.x)/(R.max.x-q.max.x)-(Math.min(q.min.x,E.x)-q.min.x)/(R.min.x-q.min.x),(Math.max(q.max.y,E.y)-q.max.y)/(R.max.y-q.max.y)-(Math.min(q.min.y,E.y)-q.min.y)/(R.min.y-q.min.y)).multiplyBy(g);f.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),Nt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Y(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,f=c._shadow,g=wi(c._icon),j=c._map.layerPointToLatLng(g);f&&Nt(f,g),c._latlng=j,a.latlng=j,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Hc=Yn.extend({options:{icon:new Go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){_(this,c),this._latlng=te(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=te(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),Le(f,c),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(f,"focus",this._panOnFocus,this);var j=a.icon.createShadow(this._shadow),E=!1;j!==this._shadow&&(this._removeShadow(),E=!0),j&&(Le(j,c),j.alt=""),this._shadow=j,a.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&E&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Nt(this._icon,a),this._shadow&&Nt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bx)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bx(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Dn(this._icon,a),this._shadow&&Dn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,f=c.iconSize?U(c.iconSize):U(0,0),g=c.iconAnchor?U(c.iconAnchor):U(0,0);a.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zk(a,c){return new Hc(a,c)}var ws=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return _(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vc=ws.extend({options:{fill:!0,radius:10},initialize:function(a,c){_(this,c),this._latlng=te(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=te(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return ws.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,f=this._clickTolerance(),g=[a+f,c+f];this._pxBounds=new W(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gk(a,c){return new Vc(a,c)}var nf=Vc.extend({initialize:function(a,c,f){if(typeof c=="number"&&(c=i({},f,{radius:c})),_(this,c),this._latlng=te(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new se(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:ws.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===ae.distance){var j=Math.PI/180,E=this._mRadius/ae.R/j,R=f.project([c+E,a]),F=f.project([c-E,a]),q=R.add(F).divideBy(2),re=f.unproject(q).lat,he=Math.acos((Math.cos(E*j)-Math.sin(c*j)*Math.sin(re*j))/(Math.cos(c*j)*Math.cos(re*j)))/j;(isNaN(he)||he===0)&&(he=E/Math.cos(Math.PI/180*c)),this._point=q.subtract(f.getPixelOrigin()),this._radius=isNaN(he)?0:q.x-f.project([re,a-he]).x,this._radiusY=q.y-R.y}else{var Se=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Se).x}this._updateBounds()}});function Yk(a,c,f){return new nf(a,c,f)}var Zr=ws.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){_(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,f=null,g=Zo,j,E,R=0,F=this._parts.length;R<F;R++)for(var q=this._parts[R],re=1,he=q.length;re<he;re++){j=q[re-1],E=q[re];var Se=g(a,j,E,!0);Se<c&&(c=Se,f=g(a,j,E))}return f&&(f.distance=Math.sqrt(c)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=te(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new se,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],f=zn(a),g=0,j=a.length;g<j;g++)f?(c[g]=te(a[g]),this._bounds.extend(c[g])):c[g]=this._convertLatLngs(a[g]);return c},_project:function(){var a=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new T(a,a);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,f){var g=a[0]instanceof ie,j=a.length,E,R;if(g){for(R=[],E=0;E<j;E++)R[E]=this._map.latLngToLayerPoint(a[E]),f.extend(R[E]);c.push(R)}else for(E=0;E<j;E++)this._projectLatlngs(a[E],c,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,f,g,j,E,R,F,q;for(f=0,j=0,E=this._rings.length;f<E;f++)for(q=this._rings[f],g=0,R=q.length;g<R-1;g++)F=xx(q[g],q[g+1],a,g,!0),F&&(c[j]=c[j]||[],c[j].push(F[0]),(F[1]!==q[g+1]||g===R-2)&&(c[j].push(F[1]),j++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,f=0,g=a.length;f<g;f++)a[f]=px(a[f],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var f,g,j,E,R,F,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,E=this._parts.length;f<E;f++)for(F=this._parts[f],g=0,R=F.length,j=R-1;g<R;j=g++)if(!(!c&&g===0)&&gx(a,F[j],F[g])<=q)return!0;return!1}});function Qk(a,c){return new Zr(a,c)}Zr._flat=yx;var xa=Zr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Zr.prototype._convertLatLngs.call(this,a),f=c.length;return f>=2&&c[0]instanceof ie&&c[0].equals(c[f-1])&&c.pop(),c},_setLatLngs:function(a){Zr.prototype._setLatLngs.call(this,a),zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,f=new T(c,c);if(a=new W(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,j=this._rings.length,E;g<j;g++)E=fx(this._rings[g],a,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,f,g,j,E,R,F,q,re;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(E=0,q=this._parts.length;E<q;E++)for(f=this._parts[E],R=0,re=f.length,F=re-1;R<re;F=R++)g=f[R],j=f[F],g.y>a.y!=j.y>a.y&&a.x<(j.x-g.x)*(a.y-g.y)/(j.y-g.y)+g.x&&(c=!c);return c||Zr.prototype._containsPoint.call(this,a,!0)}});function Jk(a,c){return new xa(a,c)}var Gr=Kr.extend({initialize:function(a,c){_(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=b(a)?a:a.features,f,g,j;if(c){for(f=0,g=c.length;f<g;f++)j=c[f],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var E=this.options;if(E.filter&&!E.filter(a))return this;var R=qc(a,E);return R?(R.feature=Gc(a),R.defaultOptions=R.options,this.resetStyle(R),E.onEachFeature&&E.onEachFeature(a,R),this.addLayer(R)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function qc(a,c){var f=a.type==="Feature"?a.geometry:a,g=f?f.coordinates:null,j=[],E=c&&c.pointToLayer,R=c&&c.coordsToLatLng||rf,F,q,re,he;if(!g&&!f)return null;switch(f.type){case"Point":return F=R(g),jx(E,a,F,c);case"MultiPoint":for(re=0,he=g.length;re<he;re++)F=R(g[re]),j.push(jx(E,a,F,c));return new Kr(j);case"LineString":case"MultiLineString":return q=Kc(g,f.type==="LineString"?0:1,R),new Zr(q,c);case"Polygon":case"MultiPolygon":return q=Kc(g,f.type==="Polygon"?1:2,R),new xa(q,c);case"GeometryCollection":for(re=0,he=f.geometries.length;re<he;re++){var Se=qc({geometry:f.geometries[re],type:"Feature",properties:a.properties},c);Se&&j.push(Se)}return new Kr(j);case"FeatureCollection":for(re=0,he=f.features.length;re<he;re++){var De=qc(f.features[re],c);De&&j.push(De)}return new Kr(j);default:throw new Error("Invalid GeoJSON object.")}}function jx(a,c,f,g){return a?a(c,f):new Hc(f,g&&g.markersInheritOptions&&g)}function rf(a){return new ie(a[1],a[0],a[2])}function Kc(a,c,f){for(var g=[],j=0,E=a.length,R;j<E;j++)R=c?Kc(a[j],c-1,f):(f||rf)(a[j]),g.push(R);return g}function sf(a,c){return a=te(a),a.alt!==void 0?[x(a.lng,c),x(a.lat,c),x(a.alt,c)]:[x(a.lng,c),x(a.lat,c)]}function Zc(a,c,f,g){for(var j=[],E=0,R=a.length;E<R;E++)j.push(c?Zc(a[E],zn(a[E])?0:c-1,f,g):sf(a[E],g));return!c&&f&&j.length>0&&j.push(j[0].slice()),j}function ya(a,c){return a.feature?i({},a.feature,{geometry:c}):Gc(c)}function Gc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var af={toGeoJSON:function(a){return ya(this,{type:"Point",coordinates:sf(this.getLatLng(),a)})}};Hc.include(af),nf.include(af),Vc.include(af),Zr.include({toGeoJSON:function(a){var c=!zn(this._latlngs),f=Zc(this._latlngs,c?1:0,!1,a);return ya(this,{type:(c?"Multi":"")+"LineString",coordinates:f})}}),xa.include({toGeoJSON:function(a){var c=!zn(this._latlngs),f=c&&!zn(this._latlngs[0]),g=Zc(this._latlngs,f?2:c?1:0,!0,a);return c||(g=[g]),ya(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),ga.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(f){c.push(f.toGeoJSON(a).geometry.coordinates)}),ya(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var f=c==="GeometryCollection",g=[];return this.eachLayer(function(j){if(j.toGeoJSON){var E=j.toGeoJSON(a);if(f)g.push(E.geometry);else{var R=Gc(E);R.type==="FeatureCollection"?g.push.apply(g,R.features):g.push(R)}}}),f?ya(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Nx(a,c){return new Gr(a,c)}var Xk=Nx,Yc=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,f){this._url=a,this._bounds=Q(c),_(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ma(this._image),this},bringToBack:function(){return this._map&&pa(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Q(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Ze("img");if(Le(c,"leaflet-image-layer"),this._zoomAnimated&&Le(c,"leaflet-zoom-animated"),this.options.className&&Le(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=l(this.fire,this,"load"),c.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;yi(this._image,f,c)},_reset:function(){var a=this._image,c=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=c.getSize();Nt(a,c.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){Dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),eC=function(a,c,f){return new Yc(a,c,f)},Sx=Yc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Ze("video");if(Le(c,"leaflet-image-layer"),this._zoomAnimated&&Le(c,"leaflet-zoom-animated"),this.options.className&&Le(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=l(this.fire,this,"load"),a){for(var f=c.getElementsByTagName("source"),g=[],j=0;j<f.length;j++)g.push(f[j].src);this._url=f.length>0?g:[c.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var R=Ze("source");R.src=this._url[E],c.appendChild(R)}}});function tC(a,c,f){return new Sx(a,c,f)}var kx=Yc.extend({_initImage:function(){var a=this._image=this._url;Le(a,"leaflet-image-layer"),this._zoomAnimated&&Le(a,"leaflet-zoom-animated"),this.options.className&&Le(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function nC(a,c,f){return new kx(a,c,f)}var Cr=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof ie||b(a))?(this._latlng=te(a),_(this,c)):(_(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Dn(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Dn(this._container,0),this._removeTimeout=setTimeout(l(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=te(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ma(this._container),this},bringToBack:function(){return this._map&&pa(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Kr){c=null;var f=this._source._layers;for(var g in f)if(f[g]._map){c=f[g];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=U(this.options.offset),f=this._getAnchor();this._zoomAnimated?Nt(this._container,a.add(f)):c=c.add(a).add(f);var g=this._containerBottom=-c.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=g+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});He.include({_initOverlay:function(a,c,f,g){var j=c;return j instanceof a||(j=new a(g).setContent(c)),f&&j.setLatLng(f),j}}),Yn.include({_initOverlay:function(a,c,f,g){var j=f;return j instanceof a?(_(j,g),j._source=this):(j=c&&!g?c:new a(g,this),j.setContent(f)),j}});var Qc=Cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Cr.prototype.openOn.call(this,a)},onAdd:function(a){Cr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ws||this._source.on("preclick",_i))},onRemove:function(a){Cr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ws||this._source.off("preclick",_i))},getEvents:function(){var a=Cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Ze("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Ze("div",a+"-content-wrapper",c);if(this._contentNode=Ze("div",a+"-content",f),qo(c),Zh(this._contentNode),Me(c,"contextmenu",_i),this._tipContainer=Ze("div",a+"-tip-container",c),this._tip=Ze("div",a+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Ze("a",a+"-close-button",c);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Me(g,"click",function(j){$t(j),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),c.width=f+1+"px",c.whiteSpace="",c.height="";var g=a.offsetHeight,j=this.options.maxHeight,E="leaflet-popup-scrolled";j&&g>j?(c.height=j+"px",Le(a,E)):_t(a,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();Nt(this._container,c.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Uo(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+c,g=this._containerWidth,j=new T(this._containerLeft,-f-this._containerBottom);j._add(wi(this._container));var E=a.layerPointToContainerPoint(j),R=U(this.options.autoPanPadding),F=U(this.options.autoPanPaddingTopLeft||R),q=U(this.options.autoPanPaddingBottomRight||R),re=a.getSize(),he=0,Se=0;E.x+g+q.x>re.x&&(he=E.x+g-re.x+q.x),E.x-he-F.x<0&&(he=E.x-F.x),E.y+f+q.y>re.y&&(Se=E.y+f-re.y+q.y),E.y-Se-F.y<0&&(Se=E.y-F.y),(he||Se)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([he,Se]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rC=function(a,c){return new Qc(a,c)};He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(a,c,f){return this._initOverlay(Qc,a,c,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Yn.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Qc,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Kr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){bi(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof ws)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Jc=Cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Cr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Cr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Cr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,f,g=this._map,j=this._container,E=g.latLngToContainerPoint(g.getCenter()),R=g.layerPointToContainerPoint(a),F=this.options.direction,q=j.offsetWidth,re=j.offsetHeight,he=U(this.options.offset),Se=this._getAnchor();F==="top"?(c=q/2,f=re):F==="bottom"?(c=q/2,f=0):F==="center"?(c=q/2,f=re/2):F==="right"?(c=0,f=re/2):F==="left"?(c=q,f=re/2):R.x<E.x?(F="right",c=0,f=re/2):(F="left",c=q+(he.x+Se.x)*2,f=re/2),a=a.subtract(U(c,f,!0)).add(he).add(Se),_t(j,"leaflet-tooltip-right"),_t(j,"leaflet-tooltip-left"),_t(j,"leaflet-tooltip-top"),_t(j,"leaflet-tooltip-bottom"),Le(j,"leaflet-tooltip-"+F),Nt(j,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Dn(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sC=function(a,c){return new Jc(a,c)};He.include({openTooltip:function(a,c,f){return this._initOverlay(Jc,a,c,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Yn.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jc,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[c](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Kr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Me(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Me(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,f,g;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),g=this._map.containerPointToLayerPoint(f),c=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(c)}});var Cx=va.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(zc(c),c.appendChild(f.html)):c.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=U(f.bgPos);c.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function iC(a){return new Cx(a)}va.Default=Go;var Yo=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){_(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ft(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ma(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof T?a:new T(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,f=-a(-1/0,1/0),g=0,j=c.length,E;g<j;g++)E=c[g].style.zIndex,c[g]!==this._container&&E&&(f=a(f,+E));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){Dn(this._container,this.options.opacity);var a=+new Date,c=!1,f=!1;for(var g in this._tiles){var j=this._tiles[g];if(!(!j.current||!j.loaded)){var E=Math.min(1,(a-j.loaded)/200);Dn(j.el,E),E<1?c=!0:(j.active?f=!0:this._onOpaqueTile(j),j.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),c&&(X(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=c-Math.abs(a-f),this._onUpdateLevel(f)):(ft(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[a],j=this._map;return g||(g=this._levels[a]={},g.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=c,g.origin=j.project(j.unproject(j.getPixelOrigin()),a).round(),g.zoom=a,this._setZoomTransform(g,j.getCenter(),j.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,c,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var g=c.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ft(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,f,g){var j=Math.floor(a/2),E=Math.floor(c/2),R=f-1,F=new T(+j,+E);F.z=+R;var q=this._tileCoordsToKey(F),re=this._tiles[q];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),R>g?this._retainParent(j,E,R,g):!1)},_retainChildren:function(a,c,f,g){for(var j=2*a;j<2*a+2;j++)for(var E=2*c;E<2*c+2;E++){var R=new T(j,E);R.z=f+1;var F=this._tileCoordsToKey(R),q=this._tiles[F];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);f+1<g&&this._retainChildren(j,E,f+1,g)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,f,g){var j=Math.round(c);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var E=this.options.updateWhenZooming&&j!==this._tileZoom;(!g||E)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,c)},_setZoomTransform:function(a,c,f){var g=this._map.getZoomScale(f,a.zoom),j=a.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(c,f)).round();we.any3d?yi(a.el,j,g):Nt(a.el,j)},_resetGrid:function(){var a=this._map,c=a.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],g).x/f.x),Math.ceil(a.project([0,c.wrapLng[1]],g).x/f.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],g).y/f.x),Math.ceil(a.project([c.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,f=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),g=c.getZoomScale(f,this._tileZoom),j=c.project(a,this._tileZoom).floor(),E=c.getSize().divideBy(g*2);return new W(j.subtract(E),j.add(E))},_update:function(a){var c=this._map;if(c){var f=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(a),j=this._pxBoundsToTileRange(g),E=j.getCenter(),R=[],F=this.options.keepBuffer,q=new W(j.getBottomLeft().subtract([F,-F]),j.getTopRight().add([F,-F]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var he=this._tiles[re].coords;(he.z!==this._tileZoom||!q.contains(new T(he.x,he.y)))&&(this._tiles[re].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var Se=j.min.y;Se<=j.max.y;Se++)for(var De=j.min.x;De<=j.max.x;De++){var Xt=new T(De,Se);if(Xt.z=this._tileZoom,!!this._isValidTile(Xt)){var Lt=this._tiles[this._tileCoordsToKey(Xt)];Lt?Lt.current=!0:R.push(Xt)}}if(R.sort(function(cn,_a){return cn.distanceTo(E)-_a.distanceTo(E)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $n=document.createDocumentFragment();for(De=0;De<R.length;De++)this._addTile(R[De],$n);this._level.el.appendChild($n)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var f=this._globalTileRange;if(!c.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!c.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(a);return Q(this.options.bounds).overlaps(g)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,f=this.getTileSize(),g=a.scaleBy(f),j=g.add(f),E=c.unproject(g,a.z),R=c.unproject(j,a.z);return[E,R]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),f=new se(c[0],c[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),f=new T(+c[0],+c[1]);return f.z=+c[2],f},_removeTile:function(a){var c=this._tiles[a];c&&(ft(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Le(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=p,a.onmousemove=p,we.ielt9&&this.options.opacity<1&&Dn(a,this.options.opacity)},_addTile:function(a,c){var f=this._getTilePos(a),g=this._tileCoordsToKey(a),j=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(j),this.createTile.length<2&&Y(l(this._tileReady,this,a,null,j)),Nt(j,f),this._tiles[g]={el:j,coords:a,current:!0},c.appendChild(j),this.fire("tileloadstart",{tile:j,coords:a})},_tileReady:function(a,c,f){c&&this.fire("tileerror",{error:c,tile:f,coords:a});var g=this._tileCoordsToKey(a);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Dn(f.el,0),X(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),c||(Le(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new T(this._wrapX?m(a.x,this._wrapX):a.x,this._wrapY?m(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new W(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function aC(a){return new Yo(a)}var wa=Yo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=_(this,c),c.detectRetina&&we.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var f=document.createElement("img");return Me(f,"load",l(this._tileOnLoad,this,c,f)),Me(f,"error",l(this._tileOnError,this,c,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var c={r:we.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=f),c["-y"]=f}return w(this._url,i(c,this.options))},_tileOnLoad:function(a,c){we.ielt9?setTimeout(l(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,f){var g=this.options.errorTileUrl;g&&c.getAttribute("src")!==g&&(c.src=g),a(f,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(a=c-a),a+g},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=p,c.onerror=p,!c.complete)){c.src=P;var f=this._tiles[a].coords;ft(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:f})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",P),Yo.prototype._removeTile.call(this,a)},_tileReady:function(a,c,f){if(!(!this._map||f&&f.getAttribute("src")===P))return Yo.prototype._tileReady.call(this,a,c,f)}});function Ex(a,c){return new wa(a,c)}var Px=wa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var f=i({},this.defaultWmsParams);for(var g in c)g in this.options||(f[g]=c[g]);c=_(this,c);var j=c.detectRetina&&we.retina?2:1,E=this.getTileSize();f.width=E.x*j,f.height=E.y*j,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,wa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),f=this._crs,g=D(f.project(c[0]),f.project(c[1])),j=g.min,E=g.max,R=(this._wmsVersion>=1.3&&this._crs===_x?[j.y,j.x,E.y,E.x]:[j.x,j.y,E.x,E.y]).join(","),F=wa.prototype.getTileUrl.call(this,a);return F+N(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(a,c){return i(this.wmsParams,a),c||this.redraw(),this}});function oC(a,c){return new Px(a,c)}wa.WMS=Px,Ex.wms=oC;var Yr=Yn.extend({options:{padding:.1},initialize:function(a){_(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var f=this._map.getZoomScale(c,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,c),E=g.multiplyBy(-f).add(j).subtract(this._map._getNewPixelOrigin(a,c));we.any3d?yi(this._container,E,f):Nt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),f=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new W(f,f.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tx=Yr.extend({options:{tolerance:0},getEvents:function(){var a=Yr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Me(a,"mousemove",this._onMouseMove,this),Me(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,ft(this._container),rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var a=this._bounds,c=this._container,f=a.getSize(),g=we.retina?2:1;Nt(c,a.min),c.width=g*f.x,c.height=g*f.y,c.style.width=f.x+"px",c.style.height=f.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,f=c.next,g=c.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),f=[],g,j;for(j=0;j<c.length;j++){if(g=Number(c[j]),isNaN(g))return;f.push(g)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var f=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)a=g.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var f,g,j,E,R=a._parts,F=R.length,q=this._ctx;if(F){for(q.beginPath(),f=0;f<F;f++){for(g=0,j=R[f].length;g<j;g++)E=R[f][g],q[g?"lineTo":"moveTo"](E.x,E.y);c&&q.closePath()}this._fillStroke(q,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,f=this._ctx,g=Math.max(Math.round(a._radius),1),j=(Math.max(Math.round(a._radiusY),1)||g)/g;j!==1&&(f.save(),f.scale(1,j)),f.beginPath(),f.arc(c.x,c.y/j,g,0,Math.PI*2,!1),j!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,c){var f=c.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),f,g,j=this._drawFirst;j;j=j.next)f=j.layer,f.options.interactive&&f._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(_t(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var f,g,j=this._drawFirst;j;j=j.next)f=j.layer,f.options.interactive&&f._containsPoint(c)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(a),g&&(Le(this._container,"leaflet-interactive"),this._fireEvent([g],a,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,f){this._map._fireDOMEvent(c,f||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Ox(a){return we.canvas?new Tx(a):null}var Qo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lC={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Qo("shape");Le(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Qo("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ft(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,f=a._fill,g=a.options,j=a._container;j.stroked=!!g.stroke,j.filled=!!g.fill,g.stroke?(c||(c=a._stroke=Qo("stroke")),j.appendChild(c),c.weight=g.weight+"px",c.color=g.color,c.opacity=g.opacity,g.dashArray?c.dashStyle=b(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=g.lineCap.replace("butt","flat"),c.joinstyle=g.lineJoin):c&&(j.removeChild(c),a._stroke=null),g.fill?(f||(f=a._fill=Qo("fill")),j.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(j.removeChild(f),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),f=Math.round(a._radius),g=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){ma(a._container)},_bringToBack:function(a){pa(a._container)}},Xc=we.vml?Qo:Je,Jo=Yr.extend({_initContainer:function(){this._container=Xc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var a=this._bounds,c=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,f.setAttribute("width",c.x),f.setAttribute("height",c.y)),Nt(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Xc("path");a.options.className&&Le(c,a.options.className),a.options.interactive&&Le(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ft(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,f=a.options;c&&(f.stroke?(c.setAttribute("stroke",f.color),c.setAttribute("stroke-opacity",f.opacity),c.setAttribute("stroke-width",f.weight),c.setAttribute("stroke-linecap",f.lineCap),c.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?c.setAttribute("stroke-dasharray",f.dashArray):c.removeAttribute("stroke-dasharray"),f.dashOffset?c.setAttribute("stroke-dashoffset",f.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),f.fill?(c.setAttribute("fill",f.fillColor||f.color),c.setAttribute("fill-opacity",f.fillOpacity),c.setAttribute("fill-rule",f.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,ht(a._parts,c))},_updateCircle:function(a){var c=a._point,f=Math.max(Math.round(a._radius),1),g=Math.max(Math.round(a._radiusY),1)||f,j="a"+f+","+g+" 0 1,0 ",E=a._empty()?"M0 0":"M"+(c.x-f)+","+c.y+j+f*2+",0 "+j+-f*2+",0 ";this._setPath(a,E)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){ma(a._path)},_bringToBack:function(a){pa(a._path)}});we.vml&&Jo.include(lC);function Rx(a){return we.svg||we.vml?new Jo(a):null}He.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Ox(a)||Rx(a)}});var Mx=xa.extend({initialize:function(a,c){xa.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Q(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function cC(a,c){return new Mx(a,c)}Jo.create=Xc,Jo.pointsToPath=ht,Gr.geometryToLayer=qc,Gr.coordsToLatLng=rf,Gr.coordsToLatLngs=Kc,Gr.latLngToCoords=sf,Gr.latLngsToCoords=Zc,Gr.getFeature=ya,Gr.asFeature=Gc,He.mergeOptions({boxZoom:!0});var Ax=kr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wo(),Fh(),this._startPoint=this._map.mouseEventToContainerPoint(a),Me(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new W(this._point,this._startPoint),f=c.getSize();Nt(this._box,c.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ft(this._box),_t(this._container,"leaflet-crosshair")),Ho(),Bh(),rt(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var c=new se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});He.addInitHook("addHandler","boxZoom",Ax),He.mergeOptions({doubleClickZoom:!0});var Lx=kr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,f=c.getZoom(),g=c.options.zoomDelta,j=a.originalEvent.shiftKey?f-g:f+g;c.options.doubleClickZoom==="center"?c.setZoom(j):c.setZoomAround(a.containerPoint,j)}});He.addInitHook("addHandler","doubleClickZoom",Lx),He.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ix=kr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ys(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Q(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,j=(g-c+f)%a+c-f,E=(g+c+f)%a-c-f,R=Math.abs(j+f)<Math.abs(E+f)?j:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(a){var c=this._map,f=c.options,g=!f.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),g)c.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,R=f.easeLinearity,F=j.multiplyBy(R/E),q=F.distanceTo([0,0]),re=Math.min(f.inertiaMaxSpeed,q),he=F.multiplyBy(re/q),Se=re/(f.inertiaDeceleration*R),De=he.multiplyBy(-Se/2).round();!De.x&&!De.y?c.fire("moveend"):(De=c._limitOffset(De,c.options.maxBounds),Y(function(){c.panBy(De,{duration:Se,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});He.addInitHook("addHandler","dragging",Ix),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dx=kr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Me(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,f=a.scrollTop||c.scrollTop,g=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},f=this.keyCodes,g,j;for(g=0,j=f.left.length;g<j;g++)c[f.left[g]]=[-1*a,0];for(g=0,j=f.right.length;g<j;g++)c[f.right[g]]=[a,0];for(g=0,j=f.down.length;g<j;g++)c[f.down[g]]=[0,a];for(g=0,j=f.up.length;g<j;g++)c[f.up[g]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},f=this.keyCodes,g,j;for(g=0,j=f.zoomIn.length;g<j;g++)c[f.zoomIn[g]]=a;for(g=0,j=f.zoomOut.length;g<j;g++)c[f.zoomOut[g]]=-a},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,f=this._map,g;if(c in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[c],a.shiftKey&&(g=U(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(U(g),f.options.maxBounds)),f.options.worldCopyJump){var j=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(j)}else f.panBy(g)}else if(c in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;bi(a)}}});He.addInitHook("addHandler","keyboard",Dx),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zx=kr.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=lx(a),f=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),g),bi(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,E=f?Math.ceil(j/f)*f:j,R=a._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,R&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+R):a.setZoomAround(this._lastMousePos,c+R))}});He.addInitHook("addHandler","scrollWheelZoom",zx);var dC=600;He.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var $x=kr.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new T(c.clientX,c.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",$t),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),dC),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){rt(document,"touchend",$t),rt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new T(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});f._simulated=!0,c.target.dispatchEvent(f)}});He.addInitHook("addHandler","tapHold",$x),He.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var Fx=kr.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),$t(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]),j=f.distanceTo(g)/this._startDist;if(this._zoom=c.getScaleZoom(j,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&j<1||this._zoom>c.getMaxZoom()&&j>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var E=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(j===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var R=l(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(R,this,!0),$t(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});He.addInitHook("addHandler","touchZoom",Fx),He.BoxZoom=Ax,He.DoubleClickZoom=Lx,He.Drag=Ix,He.Keyboard=Dx,He.ScrollWheelZoom=zx,He.TapHold=$x,He.TouchZoom=Fx,n.Bounds=W,n.Browser=we,n.CRS=A,n.Canvas=Tx,n.Circle=nf,n.CircleMarker=Vc,n.Class=O,n.Control=Gn,n.DivIcon=Cx,n.DivOverlay=Cr,n.DomEvent=Ek,n.DomUtil=kk,n.Draggable=ys,n.Evented=B,n.FeatureGroup=Kr,n.GeoJSON=Gr,n.GridLayer=Yo,n.Handler=kr,n.Icon=va,n.ImageOverlay=Yc,n.LatLng=ie,n.LatLngBounds=se,n.Layer=Yn,n.LayerGroup=ga,n.LineUtil=Bk,n.Map=He,n.Marker=Hc,n.Mixin=Lk,n.Path=ws,n.Point=T,n.PolyUtil=Ik,n.Polygon=xa,n.Polyline=Zr,n.Popup=Qc,n.PosAnimation=cx,n.Projection=Uk,n.Rectangle=Mx,n.Renderer=Yr,n.SVG=Jo,n.SVGOverlay=kx,n.TileLayer=wa,n.Tooltip=Jc,n.Transformation=fe,n.Util=J,n.VideoOverlay=Sx,n.bind=l,n.bounds=D,n.canvas=Ox,n.circle=Yk,n.circleMarker=Gk,n.control=Ko,n.divIcon=iC,n.extend=i,n.featureGroup=qk,n.geoJSON=Nx,n.geoJson=Xk,n.gridLayer=aC,n.icon=Kk,n.imageOverlay=eC,n.latLng=te,n.latLngBounds=Q,n.layerGroup=Vk,n.map=Pk,n.marker=Zk,n.point=U,n.polygon=Jk,n.polyline=Qk,n.popup=rC,n.rectangle=cC,n.setOptions=_,n.stamp=u,n.svg=Rx,n.svgOverlay=nC,n.tileLayer=Ex,n.tooltip=sC,n.transformation=oe,n.version=r,n.videoOverlay=tC;var uC=window.L;n.noConflict=function(){return window.L=uC,this},window.L=n})})(Dp,Dp.exports);var D3=Dp.exports;const Ls=Gp(D3);delete Ls.Icon.Default.prototype._getIconUrl;Ls.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const ca=({center:e=[23.588,58.3829],zoom:t=12,markers:n=[],route:r=[],className:i="h-[500px] w-full",darkMode:o=!1})=>{const l=v.useRef(null),d=v.useRef(null),u=v.useRef([]),h=v.useRef(null);return v.useEffect(()=>{if(!l.current||d.current)return;const m=Ls.map(l.current).setView(e,t),p=o?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";return Ls.tileLayer(p,{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(m),d.current=m,()=>{m.remove(),d.current=null}},[e,t,o]),v.useEffect(()=>{if(d.current&&(u.current.forEach(m=>m.remove()),u.current=[],n.forEach(m=>{const p=Ls.marker([m.lat,m.lng],{icon:z3(m.icon||"",m.color)}).addTo(d.current);m.label&&p.bindPopup(m.label),m.onClick&&p.on("click",m.onClick),u.current.push(p)}),n.length>0)){const m=Ls.latLngBounds(n.map(p=>[p.lat,p.lng]));d.current.fitBounds(m,{padding:[50,50]})}},[n]),v.useEffect(()=>{d.current&&(h.current&&(h.current.remove(),h.current=null),r.length>0&&(h.current=Ls.polyline(r,{color:"#22c55e",weight:4,opacity:.7}).addTo(d.current)))},[r]),s.jsx("div",{ref:l,className:i})};function z3(e,t){const n=t==="blue"?"bg-blue-500":t==="green"?"bg-green-500":t==="red"?"bg-red-500":t==="orange"?"bg-orange-500":t==="gray"?"bg-gray-500":"bg-primary";return Ls.divIcon({html:`<div class="flex items-center justify-center w-10 h-10 ${n} rounded-full text-white text-xl shadow-lg">${e}</div>`,className:"custom-marker",iconSize:[40,40],iconAnchor:[20,40]})}const bv=({routeId:e,attendance:t})=>{var u;const{toast:n}=vt(),[r,i]=v.useState(!1),[o,l]=v.useState(null),d=async()=>{i(!0);try{const{data:h,error:m}=await me.functions.invoke("ai-reroute",{body:{routeId:e,attendance:t}});if(m)throw m;l(h),n({title:"Route Optimized! ",description:`Time saved: ${h.timeSaved}, Distance saved: ${h.distanceSaved}`})}catch(h){console.error("Error optimizing route:",h),n({title:"Optimization Failed",description:"Please try again later.",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(z,{onClick:d,disabled:r,className:"w-full",variant:"hero",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 w-5 h-5 animate-spin"}),"AI Optimizing Route..."]}):s.jsxs(s.Fragment,{children:[s.jsx(os,{className:"mr-2 w-5 h-5"}),"AI Optimize Route"]})}),o&&s.jsxs(ne,{className:"glass-card p-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Vn,{className:"w-5 h-5 text-green-500"}),s.jsx("h3",{className:"text-xl font-bold",children:"Optimized Route"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 bg-green-500/10 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time Saved"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:o.timeSaved})]}),s.jsxs("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Distance Saved"}),s.jsx("p",{className:"text-2xl font-bold text-blue-500",children:o.distanceSaved})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold",children:"New Route Order:"}),(u=o.optimizedRoute)==null?void 0:u.map((h,m)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background/50 rounded",children:[s.jsx(Pe,{variant:"secondary",children:m+1}),s.jsx("span",{children:h})]},m))]}),o.recommendations&&o.recommendations.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-primary/10 rounded-lg",children:[s.jsx("p",{className:"font-semibold mb-2",children:"AI Recommendations:"}),s.jsx("ul",{className:"space-y-1 text-sm",children:o.recommendations.map((h,m)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:h})]},m))})]})]})]})};async function bh(e){const{data:t,error:n}=await me.from("routes").select("*").eq("id",e).maybeSingle();if(n)throw n;if(!t)throw new Error("Route not found");const{data:r,error:i}=await me.from("drivers").select("*").eq("id",t.driver_id).maybeSingle();if(i)throw i;const[{data:o,error:l},{data:d,error:u},{data:h,error:m}]=await Promise.all([me.from("bookings").select("*").eq("route_id",e),me.from("attendance").select("*").eq("route_id",e).order("marked_at",{ascending:!1}),me.from("live_locations").select("*").eq("route_id",e)]);if(l)throw l;if(u)throw u;if(m)throw m;const p=new Set;r!=null&&r.user_id&&p.add(r.user_id),o==null||o.forEach(y=>{y.student_id&&p.add(y.student_id)}),h==null||h.forEach(y=>{y.user_id&&p.add(y.user_id)});let x={};if(p.size>0){const{data:y,error:k}=await me.from("profiles").select("id, name, avatar_url").in("id",Array.from(p));if(k)throw k;x=(y||[]).reduce((_,N)=>(_[N.id]={name:N.name,avatar_url:N.avatar_url},_),{})}return{route:t,driver:r??null,bookings:o??[],attendance:d??[],liveLocations:h??[],profileMap:x}}const $3={lat:23.588,lng:58.3829},Qf=[{lat:23.5975,lng:58.403},{lat:23.5832,lng:58.3891},{lat:23.5739,lng:58.4074},{lat:23.6121,lng:58.3379},{lat:23.5664,lng:58.3258},{lat:23.5542,lng:58.4146},{lat:23.6027,lng:58.4562},{lat:23.5452,lng:58.3914},{lat:23.5798,lng:58.3682},{lat:23.6148,lng:58.3285},{lat:23.6282,lng:58.5151},{lat:23.5603,lng:58.4234},{lat:23.6009,lng:58.3721},{lat:23.5859,lng:58.4099},{lat:23.5482,lng:58.4456},{lat:23.6214,lng:58.3012},{lat:23.5393,lng:58.3831},{lat:23.5725,lng:58.3298},{lat:23.5931,lng:58.2844}],Ss={lat:23.5887,lng:58.4002},Jf={"al khuwair":{lat:23.5861,lng:58.409},"al khuwair plaza":{lat:23.5867,lng:58.4118},khuwair:{lat:23.5861,lng:58.409},ruwi:{lat:23.5921,lng:58.5637},"ruwi center":{lat:23.5943,lng:58.5498},muttrah:{lat:23.6176,lng:58.5933},mutrah:{lat:23.6176,lng:58.5933},qurum:{lat:23.6151,lng:58.4884},qurm:{lat:23.6151,lng:58.4884},"al ghubra":{lat:23.586,lng:58.3844},ghubra:{lat:23.586,lng:58.3844},"maidan al touba":{lat:23.5534,lng:58.6241},"madinat qaboos":{lat:23.5982,lng:58.4438},almouj:{lat:23.6203,lng:58.2977},"al mouj":{lat:23.6203,lng:58.2977},seeb:{lat:23.6741,lng:58.1896},mawilah:{lat:23.5993,lng:58.1527},"mawilah south":{lat:23.5791,lng:58.1873},"muscat international airport":{lat:23.5931,lng:58.2844},airport:{lat:23.5931,lng:58.2844},"oman avenues mall":{lat:23.5909,lng:58.4155},boulevard:{lat:23.5875,lng:58.4211},"sultan qaboos university":{lat:23.5875,lng:58.168},squ:{lat:23.5875,lng:58.168},ismar:{lat:23.5844,lng:58.3979},"indian school":{lat:23.5888,lng:58.3996},"indian school seeb":{lat:23.6694,lng:58.1841},"indian school muscat":Ss,"indian school al seeb":{lat:23.6694,lng:58.1841},ism:Ss,school:Ss,"school campus":Ss,"eco school":Ss,"eco campus":Ss,"central school":Ss,"student drop":Ss,"grand mall":{lat:23.5854,lng:58.4125},bawshar:{lat:23.5611,lng:58.4413},bausher:{lat:23.5611,lng:58.4413},gala:{lat:23.5466,lng:58.4231},"al amerat":{lat:23.5349,lng:58.5506},amerat:{lat:23.5349,lng:58.5506},wattayah:{lat:23.6042,lng:58.5543},"ras al hamra":{lat:23.6249,lng:58.4872},"ministry district":{lat:23.5893,lng:58.3961},alkhuwair:{lat:23.5861,lng:58.409},alkhoud:{lat:23.6036,lng:58.1682},"al khoud":{lat:23.6036,lng:58.1682},"al hail":{lat:23.6987,lng:58.1834},"al hail north":{lat:23.7041,lng:58.1925},"al hail south":{lat:23.6888,lng:58.1756},mabela:{lat:23.6138,lng:58.0851},mabellah:{lat:23.6138,lng:58.0851},mabella:{lat:23.6138,lng:58.0851},rusayl:{lat:23.5851,lng:58.1604},"rusayl industrial estate":{lat:23.5898,lng:58.1477},ghala:{lat:23.5466,lng:58.4231},aziba:{lat:23.6049,lng:58.3714},"al azaiba":{lat:23.6049,lng:58.3714},"al azaiba south":{lat:23.5986,lng:58.3731},"al azaiba north":{lat:23.6112,lng:58.3694},ansaab:{lat:23.5238,lng:58.4296},"al ansab":{lat:23.5238,lng:58.4296},bedia:{lat:23.5949,lng:58.445},"al khoudh":{lat:23.6036,lng:58.1682},muscat:{lat:23.588,lng:58.3829}};function F3(e){return e.trim().toLowerCase().replace(/\bmuscat\b/g,"").replace(/\s+/g," ").trim()}function zp(e,t=$3){if(Qf.length>0)return Qf[e%Qf.length];const n=e*.003,r=t.lat+Math.sin(e*1.3)*n,i=t.lng+Math.cos(e*1.3)*n*1.4;return{lat:Math.min(Math.max(r,23.54),23.64),lng:Math.min(Math.max(i,58.3),58.46)}}function mn(e,t){if(!e)return t!==void 0?zp(t):null;const n=F3(e);if(Jf[n])return Jf[n];const r=Object.entries(Jf).find(([i])=>n.includes(i)||i.includes(n));return r?r[1]:t!==void 0?zp(t):null}function ac(e,t){return e.map((n,r)=>mn(n,r)||zp(r,t)).filter(Boolean)}function oc(e){return e.map(t=>[t.lat,t.lng])}function vl(e){return e||"Unknown"}const NN="driver-demo-routes";function B3(e){if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(n=>!!(n!=null&&n.id&&(n!=null&&n.startLocation)&&(n!=null&&n.endLocation)))}catch(t){console.warn("Failed to parse demo route store",t)}return[]}function Au(){return typeof sessionStorage>"u"?[]:B3(sessionStorage.getItem(NN))}function U3(){typeof window<"u"&&window.dispatchEvent(new Event("demo-routes:updated"))}function W3(e){if(typeof sessionStorage>"u")return;const n=Au().filter(r=>r.id!==e.id);n.unshift(e),sessionStorage.setItem(NN,JSON.stringify(n.slice(0,8))),U3()}const $p=[{id:"demo-green",name:"Green Route",from:"Al Mouj",to:"Knowledge Oasis",depart:"6:40 AM",seats:9,co2Saved:6.8},{id:"demo-coast",name:"Coastal Loop",from:"Qurum Heights",to:"Madinat Al Irfan",depart:"7:05 AM",seats:7,co2Saved:5.4},{id:"demo-campus",name:"Campus Shuttle",from:"Sultan Qaboos University",to:"Eco Hub",depart:"7:30 AM",seats:8,co2Saved:5.9}],iw=e=>{if(!e)return"Just now";const t=new Date(e);if(Number.isNaN(t.getTime()))return"Just now";const n=Date.now()-t.getTime(),r=Math.floor(n/6e4);if(r<1)return"Just now";if(r<60)return`${r} min${r===1?"":"s"} ago`;const i=Math.floor(r/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`},H3=$p.map((e,t)=>{const n=new Date;n.setMinutes(n.getMinutes()+30+t*15);const r={id:e.id,driver_id:"demo-driver",route_name:e.name,start_location:e.from,end_location:e.to,start_time:n.toISOString(),status:"pending",passenger_count:e.seats,created_at:n.toISOString(),end_time:null,estimated_earnings:Math.round(e.seats*1.5)};return{id:e.id,routeName:e.name,from:e.from,to:e.to,startTimeDisplay:e.depart,status:"pending",seatsBooked:Math.max(1,Math.round(e.seats*.6)),capacity:e.seats,co2SavedKg:e.co2Saved,route:r}}),V3=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"});function q3(e){const t=new Date(e.startTimeIso||new Date().toISOString()),n=V3.format(t),r=Number((e.seats*.45).toFixed(1)),i={id:e.id,driver_id:e.driverId,route_name:`${e.startLocation}  ${e.endLocation}`,start_location:e.startLocation,end_location:e.endLocation,start_time:e.startTimeIso,status:"pending",passenger_count:e.seats,created_at:e.createdAt,end_time:null,estimated_earnings:Math.round(e.seats*1.5)};return{id:e.id,routeName:i.route_name,from:e.startLocation,to:e.endLocation,startTimeDisplay:n,status:"pending",seatsBooked:Math.max(1,Math.round(e.seats*.5)),capacity:e.seats,co2SavedKg:r,route:i}}const K3=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(!0),[i,o]=v.useState(null),[l,d]=v.useState("Driver"),[u,h]=v.useState({ridesOffered:0,ecoCredits:0,ecoTrend:"",co2SavedKg:0,rating:null}),[m,p]=v.useState([]),[x,y]=v.useState([]),[k,_]=v.useState(!1),[N,S]=v.useState(!1),[w,b]=v.useState(null),[C,P]=v.useState(null),[I,M]=v.useState(!1),[$,H]=v.useState(null),G=v.useCallback(()=>{const D=sessionStorage.getItem("driver-demo-name")||"Demo Driver",se=sessionStorage.getItem("driver-demo-verified")==="true",te=[...Au().map(ae=>q3(ae)),...H3],A=te.reduce((ae,de)=>ae+de.co2SavedKg,0);d(D),h({ridesOffered:te.length,ecoCredits:Math.max(220,te.length*80),ecoTrend:te.length>0?`${te.length} demo routes live`:"Demo data loaded",co2SavedKg:Number(A.toFixed(1)),rating:null}),p([]),y(te),_(!se),S(!0),o(null)},[]),Y=()=>{e("/offer-ride")},X=D=>{t({title:"Ride Details",description:D})};v.useEffect(()=>{let D=!0;return(async()=>{r(!0),o(null);const{data:Q,error:ie}=await me.auth.getUser();if(ie||!(Q!=null&&Q.user)){if(console.error("Failed to load driver auth state",ie),sessionStorage.getItem("driver-demo-verified")==="true"){G(),r(!1);return}o("Please sign in to access the driver dashboard."),r(!1);return}try{const te=await jN(Q.user.id);if(!D)return;d(te.profileName),h(te.stats),p(te.activeRoutes),y(te.upcomingRoutes),te.onboarding||(sessionStorage.removeItem("driver-demo-verified"),sessionStorage.removeItem("driver-demo-name")),_(te.onboarding),o(null),S(!1)}catch(te){if(console.error("Failed to load driver dashboard",te),!D)return;G()}finally{D&&r(!1)}})(),()=>{D=!1}},[G]),v.useEffect(()=>{if(!N)return;const D=()=>{G()};return window.addEventListener("demo-routes:updated",D),()=>{window.removeEventListener("demo-routes:updated",D)}},[G,N]),v.useEffect(()=>{const D=[...m,...x];if(D.length===0){w!==null&&b(null);return}w&&D.some(se=>se.id===w)||b(D[0].id)},[m,x,w]),v.useEffect(()=>{if(!w||N){P(null),H(null),M(!1);return}let D=!0;return M(!0),H(null),bh(w).then(se=>{D&&P(se)}).catch(se=>{console.error("Failed to load driver route context",se),D&&H("Could not load live route details. Try again in a moment.")}).finally(()=>{D&&M(!1)}),()=>{D=!1}},[w,N]);const{activeStatCards:J,passiveStatCards:O}=v.useMemo(()=>({activeStatCards:[{icon:_n,label:"Rides Offered",value:u.ridesOffered,trend:u.ecoTrend||void 0,color:"primary"},{icon:bn,label:"EcoCredits Earned",value:u.ecoCredits,trend:u.ridesOffered>0?`${u.ridesOffered} trips total`:void 0,color:"primary"}],passiveStatCards:[{icon:fi,label:"CO Saved",value:`${u.co2SavedKg} kg`,color:"secondary"},{icon:Yt,label:"Rating",value:u.rating?u.rating.toFixed(1):"New",color:"accent"}]}),[u]),Z=v.useMemo(()=>[...m,...x],[m,x]),V=v.useMemo(()=>w?Z.find(D=>D.id===w)??null:null,[Z,w]),B=v.useMemo(()=>{if(!V||!C)return null;const D=[],se=[],Q=[],ie=C.route.start_time||V.route.start_time||V.route.created_at||null,te=ie?ie.split("T")[0]:null,A=new Map;te&&C.attendance.forEach(ve=>{ve.student_id&&ve.date===te&&A.set(ve.student_id,(ve.status??"pending").toLowerCase())}),A.size===0&&C.attendance.forEach(ve=>{ve.student_id&&A.set(ve.student_id,(ve.status??"pending").toLowerCase())});const ae=C.route.start_location||V.from;if(ae){const ve=mn(ae,0);ve&&(D.push({lat:ve.lat,lng:ve.lng,icon:"",color:"blue",label:`Route start  ${ae}`}),Q.push(ae))}C.bookings.forEach((ve,Ue)=>{const Je=ve.pickup_location??`Stop ${Ue+1}`,ht=mn(Je,Ue+1),tt=ve.student_id??`${ve.id}`,_e=(A.get(tt)??"pending").toLowerCase();ht&&D.push({lat:ht.lat,lng:ht.lng,icon:_e==="absent"?"":`${Ue+1}`,color:_e==="absent"?"gray":_e==="present"?"green":"orange",label:`${Je}  ${_e==="present"?"Present":_e==="absent"?"Marked absent":"Awaiting"}`}),Q.push(Je),se.push({name:Je,status:_e})});const de=C.route.end_location||V.to;if(de){const ve=mn(de,C.bookings.length+1);ve&&(D.push({lat:ve.lat,lng:ve.lng,icon:"",color:"orange",label:`Destination  ${de}`}),Q.push(de))}let pe=null;if(C.liveLocations.length>0){const ve=C.liveLocations.reduce((Ue,Je)=>{if(!Ue)return Je;const ht=new Date(Ue.updated_at??"").getTime();return new Date(Je.updated_at??"").getTime()>ht?Je:Ue},C.liveLocations[0]);ve&&(pe=ve.updated_at??null,D.push({lat:ve.latitude,lng:ve.longitude,icon:"",color:"blue",label:`Live bus  ${iw(pe)}`}))}const fe=se.filter(ve=>ve.status==="present").length,oe=se.filter(ve=>ve.status!=="present").length;return{markers:D,routeCoordinates:Q.length>0?oc(ac(Q)):[],stopSummaries:se,lastBusPing:pe,presentCount:fe,pendingCount:oe}},[V,C]),T=v.useMemo(()=>C?C.bookings.map((D,se)=>{var ie;if(!D.student_id)return null;const Q=((ie=C.attendance.find(te=>te.student_id===D.student_id))==null?void 0:ie.status)??"pending";return{id:D.id,student_id:D.student_id,status:(Q??"pending").toLowerCase(),pickup_location:D.pickup_location??`Stop ${se+1}`}}).filter(Boolean):[],[C]),K=Z.length>0,U=k?"Activate your driver profile to unlock eco routes":"ECpool Verified Driver ";if(n)return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(At,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your driver dashboard..."})]});if(i)return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(hr,{className:"w-12 h-12 text-destructive"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:i}),s.jsx(z,{variant:"outline",onClick:()=>e("/"),children:"Go Home"})]});const W=D=>{e(`/live-tracking?routeId=${D}`)};return s.jsxs("div",{className:"min-h-screen bg-background p-6 pb-24 md:pb-8",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsx("div",{className:"mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(sa,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold",children:["Welcome back, ",l," "]}),s.jsx("p",{className:"text-muted-foreground",children:U})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver-profile"),children:s.jsx(ia,{className:"w-5 h-5"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:s.jsx(ev,{className:"w-5 h-5"})}),s.jsxs(z,{variant:"glass",size:"lg",onClick:()=>e("/driver/attendance"),children:[s.jsx(Yt,{className:"mr-2"}),"Attendance"]}),s.jsxs(z,{variant:"glass",size:"lg",onClick:()=>e("/analytics"),children:[s.jsx(ah,{className:"mr-2"}),"Analytics"]}),s.jsxs(z,{variant:"outline",size:"lg",onClick:()=>e("/driver-verification"),children:[s.jsx(Xs,{className:"mr-2"}),"Verification"]}),s.jsxs(z,{variant:"hero",size:"lg",onClick:Y,children:[s.jsx(_o,{className:"mr-2"}),"Offer Ride"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[J.map(D=>s.jsx(Ip,{icon:D.icon,label:D.label,value:D.value,trend:D.trend,color:D.color},D.label)),O.map(D=>s.jsx(Ip,{icon:D.icon,label:D.label,value:D.value,color:D.color},D.label))]}),s.jsxs("div",{className:"mb-10",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(D1,{className:"w-5 h-5"}),"Route Command Center"]}),s.jsx(ne,{className:"glass-card p-6 space-y-6",children:K?s.jsxs("div",{className:"space-y-6",children:[N&&s.jsx("div",{className:"rounded-lg border border-dashed border-border bg-muted/20 px-4 py-3 text-sm text-muted-foreground",children:"Showing demo data because we couldn't reach Supabase. Connect your backend and refresh to see live routes and AI controls."}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(D=>s.jsxs(z,{variant:D.id===w?"hero":"outline",size:"sm",onClick:()=>b(D.id),children:[s.jsx("span",{className:"font-semibold",children:D.routeName||"Route"}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[D.from,"  ",D.to]})]},D.id))}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[N?s.jsx("div",{className:"flex h-72 items-center justify-center text-sm text-muted-foreground rounded-xl border border-dashed border-border text-center px-4",children:"Live map preview is disabled in demo mode. Reconnect Supabase for GPS tracking and stop markers."}):I?s.jsxs("div",{className:"flex h-72 items-center justify-center gap-3 text-muted-foreground rounded-xl border border-dashed border-border",children:[s.jsx(At,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Loading live map"})]}):$?s.jsx("div",{className:"flex h-72 items-center justify-center text-sm text-muted-foreground rounded-xl border border-dashed border-border text-center px-4",children:$}):B?s.jsx(ca,{markers:B.markers,route:B.routeCoordinates,className:"h-72 w-full rounded-xl overflow-hidden",darkMode:!0}):s.jsx("div",{className:"flex h-72 items-center justify-center text-sm text-muted-foreground rounded-xl border border-dashed border-border text-center px-4",children:"Select a route to preview pickups and live bus updates."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg border border-border p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Students checked in"}),s.jsx("p",{className:"text-2xl font-semibold",children:(B==null?void 0:B.presentCount)??0})]}),s.jsxs("div",{className:"rounded-lg border border-border p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Stops awaiting update"}),s.jsx("p",{className:"text-2xl font-semibold",children:(B==null?void 0:B.pendingCount)??0})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg border border-border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Route window"}),s.jsxs("p",{className:"text-lg font-semibold",children:[(V==null?void 0:V.startTimeDisplay)??"TBD","  ",V==null?void 0:V.from,"  ",V==null?void 0:V.to]})]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>V&&W(V.id),disabled:!V,children:[s.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Live Tracking"]})]}),s.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:B!=null&&B.lastBusPing?`Last GPS ping ${iw(B.lastBusPing)}`:"Share the driver app to broadcast live GPS updates."})]}),s.jsx("div",{className:"space-y-2 max-h-52 overflow-y-auto pr-1",children:B!=null&&B.stopSummaries.length?B.stopSummaries.map((D,se)=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:D.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stop ",se+1]})]}),s.jsx("span",{className:`text-xs font-semibold uppercase ${D.status==="present"?"text-green-500":D.status==="absent"?"text-gray-400":"text-amber-500"}`,children:D.status==="present"?"Present":D.status==="absent"?"Absent":"Pending"})]},`${D.name}-${se}`)):s.jsx("div",{className:"rounded-lg border border-dashed border-border px-3 py-6 text-sm text-muted-foreground text-center",children:"No passengers assigned yet. New bookings will appear here instantly."})}),s.jsxs("div",{className:"space-y-3",children:[V&&!N?s.jsx(bv,{routeId:V.id,attendance:T}):s.jsxs(z,{variant:"outline",size:"lg",className:"w-full",disabled:!0,children:[s.jsx(os,{className:"mr-2"}),"AI Optimize Route"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI rerouting balances student attendance, CO savings, and traffic to keep your route efficient."})]})]})]})]}):s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"No routes yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Offer your first ride to unlock live tracking, AI rerouting, and real-time CO insights."}),s.jsxs(z,{variant:"hero",size:"lg",className:"w-full",onClick:Y,children:[s.jsx(_o,{className:"mr-2"}),"Offer a Route"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Popular ideas"}),s.jsx("div",{className:"space-y-2",children:$p.map(D=>s.jsxs("div",{className:"rounded-lg border border-border px-4 py-3",children:[s.jsx("p",{className:"text-sm font-semibold",children:D.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.from,"  ",D.to]}),s.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Departs ",D.depart]}),s.jsxs("span",{children:[D.seats," seats"]}),s.jsxs("span",{children:[D.co2Saved," kg CO"]})]})]},D.id))})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Active Rides"}),m.length===0?s.jsx("div",{className:"p-6 rounded-xl border border-dashed border-border text-muted-foreground text-sm",children:"No rides are active right now. Upcoming trips will appear here 30 minutes before departure."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(D=>s.jsx(Ml,{from:D.from,to:D.to,time:D.startTimeDisplay,seats:D.seatsBooked,co2Saved:D.co2SavedKg,status:"active",actionLabel:"Open Live Tracking",onAction:()=>W(D.id)},D.id))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Upcoming Rides"}),x.length===0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-6 rounded-xl border border-dashed border-border text-muted-foreground text-sm",children:'No upcoming rides scheduled yet. Tap "Offer Ride" to create a new trip.'}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$p.map(D=>s.jsxs("div",{className:"rounded-lg border border-border px-4 py-3",children:[s.jsx("p",{className:"text-sm font-semibold",children:D.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.from,"  ",D.to]}),s.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{children:D.depart}),s.jsxs("span",{children:[D.seats," seats"]}),s.jsxs("span",{children:[D.co2Saved," kg CO"]})]})]},`demo-upcoming-${D.id}`))})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(D=>s.jsx(Ml,{from:D.from,to:D.to,time:D.startTimeDisplay,seats:D.capacity??D.seatsBooked,co2Saved:D.co2SavedKg,status:"pending",actionLabel:"View Details",onAction:()=>X(`Route ${D.routeName} departs at ${D.startTimeDisplay}`)},D.id))})]})]}),s.jsx(ms,{})]})};var jv="Progress",Nv=100,[Z3,IF]=Zn(jv),[G3,Y3]=Z3(jv),SN=v.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=Q3,...l}=e;(i||i===0)&&!aw(i)&&console.error(J3(`${i}`,"Progress"));const d=aw(i)?i:Nv;r!==null&&!ow(r,d)&&console.error(X3(`${r}`,"Progress"));const u=ow(r,d)?r:null,h=Lu(u)?o(u,d):void 0;return s.jsx(G3,{scope:n,value:u,max:d,children:s.jsx(Ne.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Lu(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":EN(u,d),"data-value":u??void 0,"data-max":d,...l,ref:t})})});SN.displayName=jv;var kN="ProgressIndicator",CN=v.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Y3(kN,n);return s.jsx(Ne.div,{"data-state":EN(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});CN.displayName=kN;function Q3(e,t){return`${Math.round(e/t*100)}%`}function EN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lu(e){return typeof e=="number"}function aw(e){return Lu(e)&&!isNaN(e)&&e>0}function ow(e,t){return Lu(e)&&!isNaN(e)&&e<=t&&e>=0}function J3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nv}\`.`}function X3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PN=SN,e5=CN;const Sc=v.forwardRef(({className:e,value:t,...n},r)=>s.jsx(PN,{ref:r,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(e5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Sc.displayName=PN.displayName;const t5=({credits:e,tier:t,co2Saved:n})=>{const r={Bronze:"text-accent",Silver:"text-muted-foreground",Gold:"text-accent"},i=e%1e3/10;return s.jsx(ne,{className:"glass-card p-6 glow-primary animate-scale-in",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/20 animate-glow-pulse",children:s.jsx(bn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"EcoCredits"}),s.jsx("p",{className:"text-3xl font-bold",children:e})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hO,{className:`w-5 h-5 ${r[t]}`}),s.jsx("span",{className:`text-lg font-semibold ${r[t]}`,children:t})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Next tier progress"}),s.jsxs("span",{className:"text-foreground font-medium",children:[i,"%"]})]}),s.jsx(Sc,{value:i,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-secondary/10 border border-secondary/20",children:[s.jsx(fi,{className:"w-5 h-5 text-secondary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"CO Saved"}),s.jsxs("p",{className:"text-2xl font-bold text-secondary",children:[n," kg"]})]})]})]})})},n5=({routeId:e,routeName:t,pickupTime:n})=>{const{toast:r}=vt(),[i,o]=v.useState(null),[l,d]=v.useState(!1),u=new Date().toISOString().split("T")[0];v.useEffect(()=>{let m=!0;return(async()=>{try{const{data:{user:x}}=await me.auth.getUser();if(!x)return;const{data:y,error:k}=await me.from("attendance").select("status").eq("route_id",e).eq("student_id",x.id).eq("date",u).maybeSingle();if(k){console.error("Failed to fetch attendance",k);return}y!=null&&y.status&&m&&o(y.status)}catch(x){console.error("Attendance prefetch failed",x)}})(),()=>{m=!1}},[e,u]);const h=async m=>{d(!0);try{const{data:{user:p}}=await me.auth.getUser();if(!p)throw new Error("Not authenticated");const{error:x}=await me.from("attendance").upsert({student_id:p.id,route_id:e,date:u,status:m,marked_at:new Date().toISOString()});if(x)throw x;o(m),r({title:"Attendance Marked",description:"Optimizing route based on attendance..."});const{data:y}=await me.from("attendance").select("*, routes!inner(driver_id)").eq("route_id",e).eq("date",u);if(y&&y.length>0){const{data:k,error:_}=await me.functions.invoke("ai-reroute",{body:{routeId:e,attendance:y}});!_&&k&&r({title:"Route Optimized!",description:`Time saved: ${k.timeSaved}, Distance saved: ${k.distanceSaved}`})}}catch(p){console.error("Error marking attendance:",p),r({title:"Error",description:"Failed to mark attendance. Please try again.",variant:"destructive"})}finally{d(!1)}};return s.jsxs(ne,{className:"glass-card p-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:t}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4"}),"Pickup at ",n]})]}),i&&s.jsx(Pe,{variant:i==="present"?"default":"secondary",children:i==="present"?" Present":" Absent"})]}),i?s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"You can change your attendance status anytime before the ride."}):s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{onClick:()=>h("present"),disabled:l,className:"flex-1",variant:"default",children:[s.jsx(Vn,{className:"mr-2 w-4 h-4"}),"I'll Be There"]}),s.jsxs(z,{onClick:()=>h("absent"),disabled:l,className:"flex-1",variant:"outline",children:[s.jsx(yc,{className:"mr-2 w-4 h-4"}),"Can't Make It"]})]})]})},r5=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"});function s5(e){if(!e)return"TBD";const t=new Date(e);return Number.isNaN(t.getTime())?"TBD":r5.format(t)}function i5(e){return e>=2e3?"Gold":e>=1e3?"Silver":"Bronze"}function a5(e){return Number((e*3.2).toFixed(1))}function lw(e,t,n,r){const i=new Date,o=t.start_time?new Date(t.start_time):null,l=t.status==="active"||t.status==="pending"||t.status==="completed"?t.status:o&&o<=i?"active":"pending";return{booking:e,route:t,driverName:n,seats:r,co2Saved:Number(3.2.toFixed(1)),startTimeDisplay:s5(t.start_time??e.pickup_time),status:l}}async function o5(e){const[{data:t,error:n},{data:r,error:i}]=await Promise.all([me.from("profiles").select("name").eq("id",e).maybeSingle(),me.from("bookings").select("*, routes(*)").eq("student_id",e).order("pickup_time",{ascending:!0})]);if(n)throw n;if(i)throw i;const o=r??[],l=Array.from(new Set(o.map(J=>{var O;return(O=J.routes)==null?void 0:O.driver_id}).filter(Boolean))),{data:d,error:u}=l.length?await me.from("drivers").select("*").in("id",l):{data:[],error:null};if(u)throw u;const h=new Set;(d??[]).forEach(J=>{J.user_id&&h.add(J.user_id)});const m=Array.from(h),{data:p,error:x}=m.length?await me.from("profiles").select("id, name").in("id",m):{data:[],error:null};if(x)throw x;const y=new Map;(d??[]).forEach(J=>{y.set(J.id,J)});const k=new Map;(p??[]).forEach(J=>{k.set(J.id,J.name)});const _=o.filter(J=>J.routes).map(J=>{const O=J.routes,Z=y.get(O.driver_id),V=Z?k.get(Z.user_id)??"Driver":"Driver";return lw(J,O,V,1)}),N=_.filter(J=>J.status==="active"),S=_.filter(J=>J.status==="pending"),w=o.filter(J=>J.status==="completed").length,b={ridesTaken:w,hoursSaved:Number((w*.6).toFixed(1)),co2Saved:a5(w||_.length)},C=Math.max(200,w*120+S.length*40),P={credits:C,tier:i5(C),co2Saved:b.co2Saved},I=new Date().toISOString(),M=new Set(_.map(J=>J.route.id)),{data:$,error:H}=await me.from("routes").select("*, bookings(*)").gte("start_time",I).order("start_time",{ascending:!0}).limit(6);if(H)throw H;const G=$??[],Y=Array.from(new Set(G.map(J=>J.driver_id).filter(J=>J&&!y.has(J))));if(Y.length>0){const{data:J,error:O}=await me.from("drivers").select("*").in("id",Y);if(O)throw O;(J??[]).forEach(V=>{y.set(V.id,V),V.user_id&&h.add(V.user_id)});const Z=Array.from(h).filter(V=>!k.has(V));if(Z.length>0){const{data:V,error:B}=await me.from("profiles").select("id, name").in("id",Z);if(B)throw B;(V??[]).forEach(T=>{k.set(T.id,T.name)})}}const X=G.filter(J=>!M.has(J.id)).map(J=>{const O=y.get(J.driver_id),Z=O?k.get(O.user_id)??"Driver":"Driver",V=J.passenger_count??(O==null?void 0:O.vehicle_capacity)??6,B={created_at:null,dropoff_location:J.end_location,id:`${J.id}-preview`,payment_amount:null,payment_status:null,pickup_location:J.start_location,pickup_time:J.start_time,route_id:J.id,status:"pending",student_id:e},T=Math.max(V-(J.bookings??[]).length,0);return lw(B,J,Z,T)});return{profileName:(t==null?void 0:t.name)??"Student",stats:b,wallet:P,activeRides:N,upcomingRides:S,availableRides:X}}const cw=[{driverName:"Salim Al-Harthy",from:"Al Mouj",to:"Royal Hospital",time:"7:05 AM",seats:2,co2Saved:3.4},{driverName:"Fatma Al-Balushi",from:"Qurum Heights",to:"Madinat Al Irfan",time:"7:20 AM",seats:1,co2Saved:2.8},{driverName:"Hassan Al-Hosni",from:"Azaiba Beach",to:"Knowledge Oasis",time:"7:35 AM",seats:3,co2Saved:4.1}],dw=e=>{if(!e)return"Just now";const t=new Date(e);if(Number.isNaN(t.getTime()))return"Just now";const n=Date.now()-t.getTime(),r=Math.floor(n/6e4);if(r<1)return"Just now";if(r<60)return`${r} min${r===1?"":"s"} ago`;const i=Math.floor(r/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`},l5=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(null),[i,o]=v.useState(null),[l,d]=v.useState(!0),[u,h]=v.useState(null),[m,p]=v.useState(null),[x,y]=v.useState(!1),[k,_]=v.useState(null),[N,S]=v.useState(()=>Au());v.useEffect(()=>{const O=()=>{S(Au())};return window.addEventListener("demo-routes:updated",O),()=>{window.removeEventListener("demo-routes:updated",O)}},[]);const w=v.useMemo(()=>{const O=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"});return N.map(Z=>({driverName:Z.driverName,from:Z.startLocation,to:Z.endLocation,time:O.format(new Date(Z.startTimeIso)),seats:Z.seats,co2Saved:Number((Z.seats*.45).toFixed(1))}))},[N]),b=v.useMemo(()=>w.length===0?cw:[...w,...cw],[w]),C=v.useCallback(async O=>{d(!0),h(null);try{const Z=await o5(O);o(Z)}catch(Z){console.error("Failed to load student dashboard",Z),h("Unable to load your rides right now. Please try again shortly.")}finally{d(!1)}},[]);v.useEffect(()=>{let O=!0;return(async()=>{const{data:V,error:B}=await me.auth.getUser();if(B){console.error("Auth failure",B),O&&(h("Unable to verify your session. Please sign in again."),d(!1));return}const T=V==null?void 0:V.user;if(!T){e("/auth",{state:{role:"student"}});return}O&&(r(T.id),await C(T.id))})(),()=>{O=!1}},[C,e]);const P=()=>{e("/request-ride")},I=O=>{e(`/live-tracking?routeId=${O}`)},M=async O=>{if(!n){t({title:"Not signed in",description:"Please sign in to request a ride.",variant:"destructive"});return}try{t({title:"Requesting ride",description:`Contacting ${O.driverName}...`});const{error:Z}=await me.from("bookings").insert({student_id:n,route_id:O.route.id,pickup_location:O.booking.pickup_location,dropoff_location:O.booking.dropoff_location,pickup_time:O.booking.pickup_time??O.route.start_time,status:"pending"});if(Z)throw Z;t({title:"Ride Requested",description:`${O.driverName} will confirm shortly.`}),await C(n)}catch(Z){console.error("Ride request failed",Z),t({title:"Could not request ride",description:"Please try again later.",variant:"destructive"})}},$=O=>{t({title:"Ride details",description:`${O} is on your schedule. We'll keep you posted.`})},H=(i==null?void 0:i.profileName)??"Student",G=v.useMemo(()=>i?[...i.activeRides,...i.upcomingRides]:[],[i]),Y=G[0]??null;v.useEffect(()=>{if(!Y){p(null),_(null),y(!1);return}let O=!0;return y(!0),bh(Y.route.id).then(Z=>{O&&(p(Z),_(null))}).catch(Z=>{console.error("Failed to load route context",Z),O&&_("We couldn't load the live map just yet. Try again in a moment.")}).finally(()=>{O&&y(!1)}),()=>{O=!1}},[Y]);const X=v.useMemo(()=>{var ie,te;if(!Y||!m)return null;const O=[],Z=[],V=[],B=Y.booking.pickup_time||Y.route.start_time||Y.booking.created_at||null,T=B?B.split("T")[0]:null,K=new Map;T&&m.attendance.forEach(A=>{A.student_id&&A.date===T&&K.set(A.student_id,(A.status??"pending").toLowerCase())}),K.size===0&&m.attendance.forEach(A=>{A.student_id&&K.set(A.student_id,(A.status??"pending").toLowerCase())});const U=m.route.start_location;if(U){const A=mn(U,0);A&&(O.push({lat:A.lat,lng:A.lng,icon:"",color:"blue",label:`Start  ${U}`}),V.push(U))}m.bookings.forEach((A,ae)=>{const de=A.pickup_location??"Pickup",pe=mn(de,ae+1),fe=A.student_id??`${A.id}`,oe=(K.get(fe)??"pending").toLowerCase();pe&&O.push({lat:pe.lat,lng:pe.lng,icon:oe==="absent"?"":`${ae+1}`,color:oe==="absent"?"gray":"green",label:`${de}  ${oe==="present"?"Present":oe==="absent"?"Marked Absent":"Awaiting"}`}),V.push(de),Z.push({name:de,status:oe})});const W=m.route.end_location;if(W){const A=mn(W,m.bookings.length+1);A&&(O.push({lat:A.lat,lng:A.lng,icon:"",color:"orange",label:`Destination  ${W}`}),V.push(W))}let D=null;if(m.liveLocations.length>0){const A=m.liveLocations.reduce((ae,de)=>{if(!ae)return de;const pe=new Date(ae.updated_at??"").getTime();return new Date(de.updated_at??"").getTime()>pe?de:ae},m.liveLocations[0]);A&&(D=A.updated_at??null,O.push({lat:A.latitude,lng:A.longitude,icon:"",color:"blue",label:`Bus is here  ${dw(D)}`}))}const se=V.length>0?oc(ac(V)):[],Q=(ie=m.driver)!=null&&ie.user_id?((te=m.profileMap[m.driver.user_id])==null?void 0:te.name)??"Driver":"Driver";return{markers:O,routeCoordinates:se,stopSummaries:Z,driverName:Q,lastBusPing:D}},[Y,m]);if(l)return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(At,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your rides..."})]});if(u)return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4 text-center",children:[s.jsx(hr,{className:"w-12 h-12 text-destructive"}),s.jsx("p",{className:"text-muted-foreground max-w-sm",children:u}),s.jsx(z,{variant:"outline",onClick:()=>n&&C(n),disabled:!n,children:"Try again"})]});if(!i)return s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 px-6 text-center",children:[s.jsx(hr,{className:"w-12 h-12 text-amber-500"}),s.jsxs("div",{className:"space-y-2 max-w-sm",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"We couldn't find your rides yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your account is active, but we haven't synced any rides. Try refreshing or explore new routes to get started."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-sm",children:[s.jsxs(z,{variant:"hero",className:"flex-1",onClick:P,children:[s.jsx(bu,{className:"mr-2"}),"Explore Routes"]}),s.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>n&&C(n),disabled:!n||l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Refreshing"]}):"Refresh"})]})]}),s.jsx(ms,{})]});const J=[{icon:at,label:"Rides Taken",value:i.stats.ridesTaken,color:"primary"},{icon:wt,label:"Hours Saved",value:i.stats.hoursSaved,color:"secondary"},{icon:fi,label:"CO Saved",value:`${i.stats.co2Saved} kg`,color:"secondary"}];return s.jsxs("div",{className:"min-h-screen bg-background p-6 pb-24 md:pb-8",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsx("div",{className:"mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(sa,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold",children:["Hi, ",H," "]}),s.jsx("p",{className:"text-muted-foreground",children:"Your eco commute is ready for today"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/student-profile"),children:s.jsx(ia,{className:"w-5 h-5"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:s.jsx(ev,{className:"w-5 h-5"})}),s.jsxs(z,{variant:"glass",size:"lg",onClick:()=>e("/live-tracking"),children:[s.jsx(at,{className:"mr-2"}),"Live Track"]}),s.jsxs(z,{variant:"glass",size:"lg",onClick:()=>e("/analytics"),children:[s.jsx(ah,{className:"mr-2"}),"View Analytics"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Today's Attendance"}),Y?s.jsx(n5,{routeId:Y.route.id,routeName:Y.route.route_name,pickupTime:Y.startTimeDisplay}):s.jsx("div",{className:"p-6 rounded-xl border border-dashed border-border text-sm text-muted-foreground",children:"No rides scheduled today. Explore available rides below to join a route."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs(z,{variant:"hero",size:"lg",className:"flex-1",onClick:P,children:[s.jsx(bu,{className:"mr-2"}),"Request Ride"]}),s.jsxs(z,{variant:"outline",size:"lg",className:"flex-1",onClick:()=>e("/student-attendance"),children:[s.jsx(os,{className:"mr-2"}),"Plan Attendance"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:J.map(O=>s.jsx(Ip,{icon:O.icon,label:O.label,value:O.value,color:O.color},O.label))}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Active Rides"}),G.length===0?s.jsx("div",{className:"p-6 rounded-xl border border-dashed border-border text-sm text-muted-foreground",children:"You have no rides booked right now. Request a ride to get started."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:G.map(O=>s.jsx(Ml,{driverName:O.driverName,from:O.route.start_location,to:O.route.end_location,time:O.startTimeDisplay,seats:O.seats,co2Saved:O.co2Saved,status:O.status,actionLabel:O.status==="active"?"Track Live":"View Details",onAction:()=>O.status==="active"?I(O.route.id):$(O.route.route_name)},O.route.id))})]}),Y&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(D1,{className:"w-5 h-5"}),"Family Bus Tracking"]}),s.jsx(ne,{className:"glass-card p-6 space-y-4",children:x?s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx(At,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Loading live location..."})]}):k?s.jsx("div",{className:"text-sm text-muted-foreground",children:k}):X?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[s.jsx(ca,{markers:X.markers,route:X.routeCoordinates,className:"h-72 w-full rounded-xl overflow-hidden",darkMode:!0}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Driver"}),s.jsx("p",{className:"text-lg font-semibold",children:X.driverName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:X.lastBusPing?`Last seen ${dw(X.lastBusPing)}`:"Driver will share live location once the trip starts."})]}),s.jsx("div",{className:"space-y-2",children:X.stopSummaries.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pickup stops scheduled yet."}):X.stopSummaries.map((O,Z)=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:O.name})]}),s.jsx("span",{className:`text-xs font-semibold uppercase ${O.status==="present"?"text-green-500":O.status==="absent"?"text-gray-400":"text-amber-500"}`,children:O.status==="present"?"Present":O.status==="absent"?"Absent":"Pending"})]},`${O.name}-${Z}`))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(z,{variant:"hero",className:"flex-1",onClick:()=>I(Y.route.id),children:[s.jsx(Gi,{className:"mr-2"}),"Open Live Tracking"]}),s.jsxs(z,{variant:"outline",className:"flex-1",onClick:()=>e("/student-attendance"),children:[s.jsx(os,{className:"mr-2"}),"Update Attendance"]})]})]})]})}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Once the driver shares their live location you'll see the route map here."})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Available Rides"}),i.availableRides.length===0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-6 rounded-xl border border-dashed border-border text-sm text-muted-foreground",children:"No new rides are available at the moment. Check back soon or contact support."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(O=>s.jsx(Ml,{driverName:O.driverName,from:O.from,to:O.to,time:O.time,seats:O.seats,co2Saved:O.co2Saved,status:"pending",actionLabel:"Preview Route",onAction:()=>e("/request-ride")},`${O.driverName}-${O.time}`))})]}):s.jsx("div",{className:"space-y-4",children:i.availableRides.map(O=>s.jsx(Ml,{driverName:O.driverName,from:O.route.start_location,to:O.route.end_location,time:O.startTimeDisplay,seats:O.seats,co2Saved:O.co2Saved,status:"pending",actionLabel:"Request Ride",onAction:()=>M(O)},O.route.id))})]})]}),s.jsxs("div",{children:[s.jsx(t5,{credits:i.wallet.credits,tier:i.wallet.tier,co2Saved:i.wallet.co2Saved}),s.jsxs("div",{className:"mt-6 glass-card p-6 animate-scale-in",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Recent Achievements"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-primary/10 border border-primary/20",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Daily streak"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep booking rides to boost your tier"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/10 border border-secondary/20",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Eco Warrior"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.wallet.co2Saved," kg CO saved"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/10 border border-accent/20",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Perfect Week"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Attend all rides to unlock bonuses"})]})]})]})]})]})]})]}),s.jsx(ms,{})]})};var c5="Label",TN=v.forwardRef((e,t)=>s.jsx(Ne.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TN.displayName=c5;var ON=TN;const d5=ih("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=v.forwardRef(({className:e,...t},n)=>s.jsx(ON,{ref:n,className:Te(d5(),e),...t}));Be.displayName=ON.displayName;var RN={exports:{}},MN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=v;function u5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h5=typeof Object.is=="function"?Object.is:u5,f5=So.useState,m5=So.useEffect,p5=So.useLayoutEffect,g5=So.useDebugValue;function v5(e,t){var n=t(),r=f5({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return p5(function(){i.value=n,i.getSnapshot=t,Xf(i)&&o({inst:i})},[e,n,t]),m5(function(){return Xf(i)&&o({inst:i}),e(function(){Xf(i)&&o({inst:i})})},[e]),g5(n),n}function Xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!h5(e,n)}catch{return!0}}function x5(e,t){return t()}var y5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x5:v5;MN.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:y5;RN.exports=MN;var w5=RN.exports;function _5(){return w5.useSyncExternalStore(b5,()=>!0,()=>!1)}function b5(){return()=>{}}var Sv="Avatar",[j5,DF]=Zn(Sv),[N5,AN]=j5(Sv),LN=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=v.useState("idle");return s.jsx(N5,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(Ne.span,{...r,ref:t})})});LN.displayName=Sv;var IN="AvatarImage",DN=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,l=AN(IN,n),d=S5(r,o),u=Mn(h=>{i(h),l.onImageLoadingStatusChange(h)});return Tt(()=>{d!=="idle"&&u(d)},[d,u]),d==="loaded"?s.jsx(Ne.img,{...o,ref:t,src:r}):null});DN.displayName=IN;var zN="AvatarFallback",$N=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=AN(zN,n),[l,d]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&o.imageLoadingStatus!=="loaded"?s.jsx(Ne.span,{...i,ref:t}):null});$N.displayName=zN;function uw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function S5(e,{referrerPolicy:t,crossOrigin:n}){const r=_5(),i=v.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[l,d]=v.useState(()=>uw(o,e));return Tt(()=>{d(uw(o,e))},[o,e]),Tt(()=>{const u=p=>()=>{d(p)};if(!o)return;const h=u("loaded"),m=u("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,n,t]),l}var FN=LN,BN=DN,UN=$N;const Io=v.forwardRef(({className:e,...t},n)=>s.jsx(FN,{ref:n,className:Te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Io.displayName=FN.displayName;const WN=v.forwardRef(({className:e,...t},n)=>s.jsx(BN,{ref:n,className:Te("aspect-square h-full w-full",e),...t}));WN.displayName=BN.displayName;const HN=v.forwardRef(({className:e,...t},n)=>s.jsx(UN,{ref:n,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));HN.displayName=UN.displayName;const k5=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState({name:"Ahmed Al-Balushi",email:"ahmed@ecpool360.om",mobile:"+968 9123 4567",vehicleModel:"Toyota Camry",licensePlate:"ABC-1234",licenseNumber:"DL123456789",schoolAffiliation:"Indian School",totalRides:47}),[i,o]=v.useState([]),[l,d]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const{data:{user:p}}=await me.auth.getUser();if(!p)return;const{data:x}=await me.from("drivers").select("id").eq("user_id",p.id).single();if(!x)return;const y=new Date().toISOString().split("T")[0],{data:k,error:_}=await me.from("attendance").select(`
            *,
            routes!inner(driver_id, route_name)
          `).eq("routes.driver_id",x.id).eq("date",y);if(_)throw _;o(k||[])}catch(p){console.error("Error fetching attendance:",p)}finally{d(!1)}})()},[]);const u=()=>{t({title:"Profile Updated",description:"Your information has been saved successfully "})},h=(m,p)=>{r(x=>({...x,[m]:p}))};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"container mx-auto max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Driver Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account & vehicle info"})]})]}),s.jsxs(z,{variant:"hero",onClick:u,children:[s.jsx(Xg,{className:"mr-2"}),"Save Changes"]})]}),s.jsxs(ne,{className:"glass-card p-8 mb-6 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-8 pb-8 border-b border-border",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"w-24 h-24 bg-gradient-primary",children:s.jsx("div",{className:"text-4xl",children:""})}),s.jsx(z,{size:"icon",variant:"glass",className:"absolute -bottom-2 -right-2",children:s.jsx(_u,{className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n.name}),s.jsx("p",{className:"text-primary font-semibold",children:"ECpool Verified Driver "}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.totalRides," Total Rides Offered"]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ia,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",value:n.name,onChange:m=>h("name",m.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(oh,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"email",type:"email",className:"pl-10",value:n.email,onChange:m=>h("email",m.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"mobile",type:"tel",className:"pl-10",value:n.mobile,onChange:m=>h("mobile",m.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"school",children:"School Affiliation"}),s.jsxs("div",{className:"relative",children:[s.jsx(z1,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"school",className:"pl-10",value:n.schoolAffiliation,onChange:m=>h("schoolAffiliation",m.target.value)})]})]})]})]}),s.jsxs("div",{className:"space-y-6 mt-8 pt-8 border-t border-border",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(xc,{className:"w-5 h-5 text-secondary"}),"Vehicle Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"vehicle",children:"Vehicle Model"}),s.jsx(ye,{id:"vehicle",value:n.vehicleModel,onChange:m=>h("vehicleModel",m.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"plate",children:"License Plate"}),s.jsx(ye,{id:"plate",value:n.licensePlate,onChange:m=>h("licensePlate",m.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"license",children:"License Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"license",className:"pl-10",value:n.licenseNumber,onChange:m=>h("licenseNumber",m.target.value)})]})]})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-6 animate-scale-in",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(wt,{className:"w-5 h-5 text-accent"}),"Today's Student Attendance"]}),l?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading attendance..."}):i.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No attendance marked today"}):s.jsx("div",{className:"space-y-3",children:i.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m.status==="present"?s.jsx(Vn,{className:"w-5 h-5 text-green-500"}):s.jsx(yc,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Student ID: ",m.student_id.slice(0,8),"..."]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marked at ",new Date(m.marked_at).toLocaleTimeString()]})]})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.status==="present"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:m.status==="present"?"Present":"Absent"})]},m.id))})]}),s.jsx(ne,{className:"glass-card p-6 bg-primary/10 border-primary/20 animate-scale-in",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-1",children:"Verification Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your account is fully verified and active"})]}),s.jsx(z,{variant:"outline",onClick:()=>e("/driver-verification"),children:"View Details"})]})})]})})},C5=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState({name:"Sara Al-Rashid",email:"sara@ecpool360.om",mobile:"+968 9234 5678",school:"Indian School",grade:"Grade 10",parentContact:"+968 9100 0000",emergencyContact:"+968 9200 0000",totalRides:32}),i=()=>{t({title:"Profile Updated",description:"Your information has been saved successfully "})},o=(l,d)=>{r(u=>({...u,[l]:d}))};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"container mx-auto max-w-4xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/student"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Student Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information"})]})]}),s.jsxs(z,{variant:"hero",onClick:i,children:[s.jsx(Xg,{className:"mr-2"}),"Save Changes"]})]}),s.jsxs(ne,{className:"glass-card p-8 mb-6 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-8 pb-8 border-b border-border",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"w-24 h-24 bg-gradient-primary",children:s.jsx("div",{className:"text-4xl",children:""})}),s.jsx(z,{size:"icon",variant:"glass",className:"absolute -bottom-2 -right-2",children:s.jsx(_u,{className:"w-4 h-4"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:n.name}),s.jsx("p",{className:"text-primary font-semibold",children:n.school}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[n.totalRides," Total Rides  ",n.grade]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ia,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",value:n.name,onChange:l=>o("name",l.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(oh,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"email",type:"email",className:"pl-10",value:n.email,onChange:l=>o("email",l.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"mobile",children:"Mobile Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"mobile",type:"tel",className:"pl-10",value:n.mobile,onChange:l=>o("mobile",l.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"grade",children:"Grade"}),s.jsxs("div",{className:"relative",children:[s.jsx(L1,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"grade",className:"pl-10",value:n.grade,onChange:l=>o("grade",l.target.value)})]})]})]})]}),s.jsxs("div",{className:"space-y-6 mt-8 pt-8 border-t border-border",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(z1,{className:"w-5 h-5 text-secondary"}),"School Information"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Be,{htmlFor:"school",children:"School Name"}),s.jsx(ye,{id:"school",value:n.school,onChange:l=>o("school",l.target.value)})]})})]}),s.jsxs("div",{className:"space-y-6 mt-8 pt-8 border-t border-border",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(B1,{className:"w-5 h-5 text-accent"}),"Emergency Contacts"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"parent",children:"Parent Contact"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"parent",type:"tel",className:"pl-10",value:n.parentContact,onChange:l=>o("parentContact",l.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"emergency",children:"Emergency Contact"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"emergency",type:"tel",className:"pl-10",value:n.emergencyContact,onChange:l=>o("emergencyContact",l.target.value)})]})]})]})]})]}),s.jsx(ne,{className:"glass-card p-6 bg-secondary/10 border-secondary/20 animate-scale-in",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-1",children:"Account Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile is complete and verified "})]})})})]})})},E5=(e,t)=>(e.pickup_time??t.start_time??t.created_at??new Date().toISOString()).split("T")[0],P5=(e,t)=>{const n=e.pickup_time??t.start_time;if(!n)return"TBD";const r=new Date(n);return Number.isNaN(r.getTime())?"TBD":r.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})},T5=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(null),[i,o]=v.useState([]),[l,d]=v.useState({}),[u,h]=v.useState(!0),[m,p]=v.useState(null),[x,y]=v.useState(null);v.useEffect(()=>{let w=!0;return(async()=>{h(!0),y(null);try{const{data:C,error:P}=await me.auth.getUser();if(P)throw P;if(!(C!=null&&C.user)){e("/auth",{state:{role:"student"}});return}if(!w)return;const I=C.user.id;r(I);const M=new Date;M.setHours(0,0,0,0);const $=M.toISOString(),{data:H,error:G}=await me.from("bookings").select("*, routes(*)").eq("student_id",I).or(`pickup_time.gte.${$},pickup_time.is.null`).order("pickup_time",{ascending:!0});if(G)throw G;const X=(H??[]).filter(Z=>Z&&Z.routes).map(Z=>{const V=Z.routes,B=E5(Z,V);return{booking:Z,route:V,date:B,timeLabel:P5(Z,V)}}),J=Array.from(new Set(X.map(Z=>Z.route.id)));let O={};if(J.length>0){const{data:Z,error:V}=await me.from("attendance").select("*").eq("student_id",I).in("route_id",J).order("date",{ascending:!0});if(V)throw V;O=(Z??[]).reduce((B,T)=>{const K=`${T.route_id}_${T.date}`;return B[K]=T,B},{})}if(!w)return;o(X),d(O)}catch(C){console.error("Failed to load attendance data",C),w&&y("We could not load your attendance schedule. Please try again.")}finally{w&&h(!1)}})(),()=>{w=!1}},[e]);const k=v.useMemo(()=>i.reduce((w,b)=>(w[b.date]||(w[b.date]=[]),w[b.date].push(b),w),{}),[i]),_=v.useMemo(()=>Object.keys(k).sort(),[k]),N=async(w,b)=>{if(!n){t({title:"Sign in required",description:"Please sign in to update your attendance.",variant:"destructive"});return}const C=`${w.route.id}_${w.date}`;p(C);try{const P=l[C],I={student_id:n,route_id:w.route.id,date:w.date,status:b,marked_at:new Date().toISOString(),location:(P==null?void 0:P.location)??null};let M=null;if(P){const{data:H,error:G}=await me.from("attendance").update(I).eq("id",P.id).select("*").maybeSingle();if(G)throw G;M=H??null}else{const{data:H,error:G}=await me.from("attendance").insert(I).select("*").maybeSingle();if(G)throw G;M=H??null}M&&d(H=>({...H,[C]:M})),t({title:b==="present"?"Marked present":"Marked absent",description:"We will keep your driver updated."});const{data:$}=await me.from("attendance").select("*").eq("route_id",w.route.id).eq("date",w.date);if($&&$.length>0){const{data:H,error:G}=await me.functions.invoke("ai-reroute",{body:{routeId:w.route.id,attendance:$}});!G&&H&&t({title:"Route optimized",description:`Time saved: ${H.timeSaved}, Distance saved: ${H.distanceSaved}`})}}catch(P){console.error("Failed to update attendance",P),t({title:"Could not update",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{p(null)}},S=w=>{const b=l[`${w.route.id}_${w.date}`];return b!=null&&b.status?b.status:null};return u?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(At,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your attendance schedule..."})]}):x?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4 text-center px-6",children:[s.jsx(Yt,{className:"w-12 h-12 text-destructive"}),s.jsx("p",{className:"text-muted-foreground",children:x}),s.jsx(z,{variant:"outline",onClick:()=>e(-1),children:"Go back"})]}):s.jsx("div",{className:"min-h-screen bg-background p-6 pb-24 md:pb-8",children:s.jsxs("div",{className:"container mx-auto max-w-5xl space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Wr,{className:"w-7 h-7 text-primary"}),"Plan Your Attendance"]}),s.jsx("p",{className:"text-muted-foreground",children:"Let your driver know which days you will be riding. AI will adapt the route to save time and CO."})]}),s.jsx(z,{variant:"outline",onClick:()=>e("/student"),children:"Back to dashboard"})]}),_.length===0?s.jsxs(ne,{className:"glass-card p-8 text-center",children:[s.jsx(Yt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No upcoming rides found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Once you book a ride it will show up here for attendance planning."}),s.jsx(z,{variant:"hero",onClick:()=>e("/request-ride"),children:"Find rides"})]}):_.map(w=>s.jsxs(ne,{className:"glass-card p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:new Date(w).toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tap a ride to set your attendance for this day."})]})]}),s.jsxs(Pe,{variant:"secondary",children:[k[w].length," rides"]})]}),s.jsx("div",{className:"space-y-4",children:k[w].map(b=>{const C=S(b),P=m===`${b.route.id}_${b.date}`;return s.jsx(ne,{className:"glass-card border border-border/50",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(wt,{className:"w-4 h-4"}),s.jsx("span",{children:b.timeLabel})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(at,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:b.route.start_location}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium",children:b.route.end_location})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[C==="present"&&s.jsxs(Pe,{variant:"default",className:"bg-green-500/10 text-green-500 border-green-500/20 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," Riding"]}),C==="absent"&&s.jsxs(Pe,{variant:"secondary",className:"bg-red-500/10 text-red-500 border-red-500/20 flex items-center gap-1",children:[s.jsx(yc,{className:"w-4 h-4"})," Not riding"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:C==="present"?"hero":"default",onClick:()=>N(b,"present"),disabled:P,children:[P&&C!=="present"?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):null,"I'm riding"]}),s.jsxs(z,{variant:C==="absent"?"outline":"secondary",onClick:()=>N(b,"absent"),disabled:P,children:[P&&C!=="absent"?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Not today"]})]})]})]})},b.booking.id)})})]},w)),s.jsx(ne,{className:"glass-card p-6 bg-gradient-glow",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(os,{className:"w-6 h-6 text-accent"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Why attendance matters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Drivers use your attendance to reroute buses, avoid empty stops, and reduce CO."})]})]}),s.jsx(z,{variant:"hero",onClick:()=>e("/live-tracking"),children:"View live bus map"})]})})]})})},O5=()=>{const e=Ke(),t=[{rank:1,name:"Ahmed Al-Balushi",rides:156,co2:428,credits:4850},{rank:2,name:"Fatima Al-Harthy",rides:143,co2:392,credits:4320},{rank:3,name:"Mohammed Al-Lawati",rides:128,co2:351,credits:3890},{rank:4,name:"Sara Ibrahim",rides:115,co2:315,credits:3450},{rank:5,name:"Khalid Al-Hinai",rides:98,co2:268,credits:2980}],n=[{icon:"",name:"Eco Champion",desc:"100+ rides completed"},{icon:"",name:"Carbon Warrior",desc:"500kg CO saved"},{icon:"",name:"Early Adopter",desc:"First 100 users"},{icon:"",name:"Top Driver",desc:"Monthly leader"}];return s.jsxs("div",{className:"min-h-screen bg-background p-6 pb-24 md:pb-8",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8 animate-fade-in",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(sa,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Analytics & Leaderboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Community impact & achievements"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(ne,{className:"glass-card p-6 glow-primary animate-scale-in",children:[s.jsx(Wr,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold",children:"2,547"}),s.jsx("p",{className:"text-sm text-primary mt-2",children:" 12% this month"})]}),s.jsxs(ne,{className:"glass-card p-6 glow-cyan animate-scale-in",style:{animationDelay:"0.1s"},children:[s.jsx(fi,{className:"w-8 h-8 text-secondary mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rides"}),s.jsx("p",{className:"text-3xl font-bold",children:"8,342"}),s.jsx("p",{className:"text-sm text-secondary mt-2",children:" 18% this month"})]}),s.jsxs(ne,{className:"glass-card p-6 glow-primary animate-scale-in",style:{animationDelay:"0.2s"},children:[s.jsx(bn,{className:"w-8 h-8 text-primary mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"CO Saved"}),s.jsx("p",{className:"text-3xl font-bold",children:"23.4T"}),s.jsx("p",{className:"text-sm text-primary mt-2",children:" 24% this month"})]}),s.jsxs(ne,{className:"glass-card p-6 glow-accent animate-scale-in",style:{animationDelay:"0.3s"},children:[s.jsx(Gg,{className:"w-8 h-8 text-accent mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"EcoCredits"}),s.jsx("p",{className:"text-3xl font-bold",children:"94.2K"}),s.jsx("p",{className:"text-sm text-accent mt-2",children:" 15% this month"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Top Eco Warriors"}),s.jsx(z,{variant:"outline",size:"sm",children:"This Month"})]}),s.jsx("div",{className:"space-y-4",children:t.map((r,i)=>s.jsxs("div",{className:"glass-card p-4 flex items-center gap-4 hover-scale",style:{animationDelay:`${i*.1}s`},children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full font-bold text-xl ${r.rank===1?"bg-accent/20 text-accent":r.rank===2?"bg-muted text-muted-foreground":r.rank===3?"bg-accent/10 text-accent/70":"bg-card text-foreground"}`,children:r.rank===1?"":r.rank===2?"":r.rank===3?"":r.rank}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:r.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.rides," rides completed"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx(bn,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-bold",children:[r.co2," kg"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.credits," credits"]})]})]},r.rank))})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Achievements"}),s.jsx("div",{className:"space-y-4",children:n.map((r,i)=>s.jsx("div",{className:"glass-card p-4 hover-scale",style:{animationDelay:`${i*.1}s`},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-3xl",children:r.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:r.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.desc})]})]})},i))})]}),s.jsxs(ne,{className:"glass-card p-6 animate-scale-in",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Monthly Impact"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Ride Goal"}),s.jsx("span",{className:"text-sm font-semibold",children:"842/1000"})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-primary w-[84%]"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"CO Goal"}),s.jsx("span",{className:"text-sm font-semibold",children:"2.3T/3T"})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-primary w-[76%]"})})]})]})]})]})]})]}),s.jsx(ms,{})]})},R5=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(1),[i,o]=v.useState(!1),l=v.useRef(null),[d,u]=v.useState({fullName:"",email:"",phone:"",licenseNumber:"",vehicleNumber:"",vehicleType:"",capacity:""}),h=n/3*100;v.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const m=async()=>{var M,$,H,G;const x=new Date().toISOString();let y=!1,k=null;const _=Number.parseInt(d.capacity,10),N=`DEMO-${String(Date.now()).slice(-6)}`,S=`OM-${String(Math.floor(Math.random()*9e3)+1e3)}`,w=d.licenseNumber||N,b=d.vehicleNumber||S,C=d.vehicleType||"Eco Shuttle",P=Number.isNaN(_)?8:_;sessionStorage.setItem("driver-demo-license",w),sessionStorage.setItem("driver-demo-vehicle",b),sessionStorage.setItem("driver-demo-model",C),sessionStorage.setItem("driver-demo-capacity",String(P));const I=Y=>{y||(y=!0,k&&clearTimeout(k),Y&&t(Y),o(!1),e("/driver"))};k=setTimeout(()=>{sessionStorage.setItem("driver-demo-verified","true"),d.fullName.trim()&&sessionStorage.setItem("driver-demo-name",d.fullName.trim()),localStorage.setItem("userRole","driver"),I({title:"Demo verification complete",description:"Connectivity is taking a bit long, so we fast-tracked your demo access."})},1200);try{const{data:Y,error:X}=await me.auth.getUser();if(X)throw X;const J=(M=Y==null?void 0:Y.user)==null?void 0:M.id;if(!J)throw new Error("You're not signed in. Please log in as a driver again.");const O=d.fullName.trim()||((H=($=Y==null?void 0:Y.user)==null?void 0:$.email)==null?void 0:H.split("@")[0])||"Eco Driver",Z=d.email||((G=Y==null?void 0:Y.user)==null?void 0:G.email)||null,V=d.phone||null,{error:B}=await me.from("profiles").upsert({id:J,name:O,email:Z,phone:V,updated_at:x},{onConflict:"id"});if(B)throw B;const T={user_id:J,license_number:w,vehicle_number:b,vehicle_model:C,vehicle_capacity:P,status:"verified",eco_credits:320,total_trips:0,total_earnings:0,credits_earned_today:0,updated_at:x},{error:K}=await me.from("drivers").upsert(T,{onConflict:"user_id"});if(K)throw K;const{error:U}=await me.from("user_roles").upsert({user_id:J,role:"driver"},{onConflict:"user_id"});if(U)throw U;localStorage.setItem("userRole","driver"),sessionStorage.setItem("driver-demo-verified","true"),sessionStorage.setItem("driver-demo-name",O),I({title:"Driver verified",description:"You're ready to offer eco rides. Let's go!"})}catch(Y){console.error("Fast-track verification failed",Y),sessionStorage.setItem("driver-demo-verified","true"),d.fullName.trim()&&sessionStorage.setItem("driver-demo-name",d.fullName.trim()),localStorage.setItem("userRole","driver"),I({title:"Demo verification complete",description:"We couldn't sync with Supabase, but we'll keep the demo moving."})}},p=()=>{if(!i){if(n<3){r(n+1);return}o(!0),t({title:"Verification Submitted",description:"Your application is under review. We usually respond within 24 hours..."}),l.current=setTimeout(()=>{t({title:"Turbo fast-tracking",description:"For the demo, we're verifying your documents instantly."}),m()},450)}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"container mx-auto max-w-3xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8 animate-fade-in",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(sa,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Driver Verification"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your profile to start offering rides"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",n," of 3"]}),s.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(h),"% Complete"]})]}),s.jsx(Sc,{value:h,className:"h-2"})]}),s.jsxs(ne,{className:"glass-card p-8 animate-scale-in",children:[n===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/20",children:s.jsx(ia,{className:"w-6 h-6 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Personal Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Full Name"}),s.jsx(ye,{placeholder:"Enter your full name",value:d.fullName,onChange:x=>u({...d,fullName:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email Address"}),s.jsx(ye,{type:"email",placeholder:"your@email.com",value:d.email,onChange:x=>u({...d,email:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Phone Number"}),s.jsx(ye,{type:"tel",placeholder:"+968 XXXX XXXX",value:d.phone,onChange:x=>u({...d,phone:x.target.value})})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 rounded-full bg-secondary/20",children:s.jsx(ai,{className:"w-6 h-6 text-secondary"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"License Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Driving License Number"}),s.jsx(ye,{placeholder:"Enter license number",value:d.licenseNumber,onChange:x=>u({...d,licenseNumber:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Upload License (Front)"}),s.jsxs("div",{className:"glass-card p-8 border-2 border-dashed border-border rounded-lg text-center hover:border-primary transition-colors cursor-pointer",children:[s.jsx(qd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG up to 10MB"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Upload License (Back)"}),s.jsxs("div",{className:"glass-card p-8 border-2 border-dashed border-border rounded-lg text-center hover:border-primary transition-colors cursor-pointer",children:[s.jsx(qd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"})]})]})]})]}),n===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 rounded-full bg-accent/20",children:s.jsx(xc,{className:"w-6 h-6 text-accent"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Vehicle Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Vehicle Number"}),s.jsx(ye,{placeholder:"e.g., ABC-1234",value:d.vehicleNumber,onChange:x=>u({...d,vehicleNumber:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Vehicle Type"}),s.jsx(ye,{placeholder:"e.g., Sedan, SUV, Van",value:d.vehicleType,onChange:x=>u({...d,vehicleType:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Seating Capacity"}),s.jsx(ye,{type:"number",placeholder:"e.g., 4, 7, 10",value:d.capacity,onChange:x=>u({...d,capacity:x.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Upload Vehicle Photo"}),s.jsxs("div",{className:"glass-card p-8 border-2 border-dashed border-border rounded-lg text-center hover:border-primary transition-colors cursor-pointer",children:[s.jsx(qd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload vehicle photo"})]})]})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:`glass-card p-4 text-center ${n>=1?"border-primary":""}`,children:[n>1?s.jsx(Vn,{className:"w-8 h-8 text-primary mx-auto mb-2"}):s.jsx(lr,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"Personal Info"})]}),s.jsxs("div",{className:`glass-card p-4 text-center ${n>=2?"border-primary":""}`,children:[n>2?s.jsx(Vn,{className:"w-8 h-8 text-primary mx-auto mb-2"}):s.jsx(lr,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"License"})]}),s.jsxs("div",{className:`glass-card p-4 text-center ${n>=3?"border-primary":""}`,children:[n>3?s.jsx(Vn,{className:"w-8 h-8 text-primary mx-auto mb-2"}):s.jsx(lr,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"Vehicle"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[n>1&&s.jsx(z,{variant:"outline",size:"lg",onClick:()=>r(n-1),className:"flex-1",disabled:i,children:"Back"}),s.jsx(z,{variant:"hero",size:"lg",onClick:p,className:"flex-1",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):n===3?"Submit for Verification":"Continue"})]})]})]})})},M5=()=>{const e=Ke();return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"relative h-[60vh] bg-gradient-to-br from-muted to-background border-b border-border overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('https://api.mapbox.com/styles/v1/mapbox/dark-v10/static/58.3829,23.5861,11,0/600x400?access_token=pk.map')] bg-cover bg-center opacity-30"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center shadow-glow animate-glow-pulse",children:s.jsx(Gi,{className:"w-8 h-8 text-foreground"})}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-primary animate-ping opacity-75"})]})}),s.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:s.jsx("path",{d:"M 100,400 Q 200,300 300,250 T 500,150",stroke:"hsl(var(--primary))",strokeWidth:"3",fill:"none",strokeDasharray:"5,5",className:"animate-pulse"})}),s.jsx("div",{className:"absolute bottom-32 left-24 animate-bounce",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center shadow-glow",children:s.jsx(at,{className:"w-6 h-6 text-foreground"})}),s.jsx("div",{className:"mt-2 bg-card px-3 py-1 rounded-lg text-sm font-semibold",children:"Seeb"})]})}),s.jsx("div",{className:"absolute top-24 right-32 animate-bounce",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-destructive rounded-full flex items-center justify-center shadow-glow",children:""}),s.jsx("div",{className:"mt-2 bg-card px-3 py-1 rounded-lg text-sm font-semibold",children:"Indian School"})]})}),s.jsx(z,{variant:"glass",size:"icon",className:"absolute top-6 left-6 z-10",onClick:()=>e(-1),children:s.jsx(sa,{className:"w-5 h-5"})}),s.jsx(ne,{className:"glass-card absolute top-6 right-6 p-4 z-10 animate-slide-up",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated Arrival"}),s.jsx("p",{className:"text-2xl font-bold",children:"5 mins"})]})]})})]}),s.jsxs("div",{className:"container mx-auto max-w-4xl p-6",children:[s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"w-20 h-20 bg-gradient-primary",children:s.jsx("div",{className:"text-3xl",children:""})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary rounded-full border-2 border-background animate-pulse"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold",children:"Ahmed Al-Balushi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Toyota Camry  ABC-1234"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-accent text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"4.9 (156 trips)"})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full",children:" License Verified"}),s.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full",children:" Background Check"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{size:"icon",variant:"outline",children:s.jsx(ur,{className:"w-5 h-5"})}),s.jsx(z,{size:"icon",variant:"outline",children:s.jsx(rO,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"glass-card p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(at,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup"}),s.jsx("p",{className:"font-semibold",children:"Seeb, Muscat"})]})]})}),s.jsx("div",{className:"glass-card p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gi,{className:"w-6 h-6 text-secondary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Destination"}),s.jsx("p",{className:"font-semibold",children:"Indian School"})]})]})}),s.jsx("div",{className:"glass-card p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{className:"w-6 h-6 text-accent"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-semibold",children:"7:30 AM"})]})]})})]}),s.jsx("div",{className:"glass-card p-4 bg-primary/10 border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),s.jsx("p",{className:"font-semibold",children:"Driver is on the way"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Updated just now"})]})}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx(z,{variant:"outline",className:"flex-1",children:"Share Trip"}),s.jsx(z,{variant:"destructive",className:"flex-1",children:"Cancel Trip"})]})]}),s.jsxs(ne,{className:"glass-card p-6 mt-6 animate-fade-in",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Trip Progress"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Trip Confirmed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"7:15 AM"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary animate-pulse flex items-center justify-center",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Driver En Route"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"7:20 AM - 5 mins away"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-muted-foreground",children:"Trip In Progress"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-muted-foreground",children:"Arrived"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})]})]})]})]})};function VN(e,t){const r=Cd(t.lat-e.lat),i=Cd(t.lng-e.lng),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(Cd(e.lat))*Math.cos(Cd(t.lat))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function Cd(e){return e*Math.PI/180}function A5(e,t=40){return Math.round(e/t*60)}function L5(e){if(e<60)return`${e} mins`;const t=Math.floor(e/60),n=e%60;return`${t}h ${n}m`}const I5=800,D5=.35,z5=35,$5=()=>{const e=Ke(),t=gs(),{toast:n}=vt(),[r,i]=v.useState(null),[o,l]=v.useState(!0),[d,u]=v.useState(null),[h,m]=v.useState([]),[p,x]=v.useState([]),[y,k]=v.useState("Calculating..."),[_,N]=v.useState([]),[S,w]=v.useState([]),[b,C]=v.useState([]),[P,I]=v.useState(null),[M,$]=v.useState([]),[H,G]=v.useState([]),[Y,X]=v.useState("Loading..."),[J,O]=v.useState(0),[Z,V]=v.useState(0),[B,T]=v.useState(0),[K,U]=v.useState(null),[W,D]=v.useState("Loading route..."),[se,Q]=v.useState(""),[ie,te]=v.useState(""),[A,ae]=v.useState("Bus Driver"),[de,pe]=v.useState(!1),fe=v.useRef(null),oe=v.useRef(null),ve=v.useMemo(()=>{var ke,We;const _e=(We=(ke=oe.current)==null?void 0:ke.driver)==null?void 0:We.user_id;return _e&&b.find(Fe=>Fe.user_id===_e)||null},[b]),Ue=v.useMemo(()=>{if(!oe.current)return[];const _e=oe.current.route.start_location,ke=oe.current.route.end_location,We=M.length>0?M:S.map(Fe=>Fe.pickup_location);return[_e,...We,ke].filter(Boolean)},[M,S]);v.useEffect(()=>{const ke=new URLSearchParams(t.search).get("routeId");if(ke){i(ke);return}let We=!0;return(async()=>{try{const{data:{user:xe},error:Ie}=await me.auth.getUser();if(Ie)throw Ie;if(!xe){u("You need to sign in to view live tracking."),l(!1);return}const{data:jt}=await me.from("bookings").select("route_id").eq("student_id",xe.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!We)return;if(jt!=null&&jt.route_id){i(jt.route_id);return}const{data:vs}=await me.from("routes").select("id").order("created_at",{ascending:!0}).limit(1).maybeSingle();vs!=null&&vs.id?i(vs.id):(u("No active routes available."),l(!1))}catch(xe){console.error("Failed to resolve route:",xe),We&&(u("Unable to determine route for live tracking."),l(!1))}})(),()=>{We=!1}},[t.search]);const Je=v.useCallback((_e,ke,We)=>{if(!oe.current)return;I(_e);const Fe=new Set(ke.filter(jt=>jt.status==="present").map(jt=>jt.student_id)),xe=We.filter(jt=>Fe.has(jt.student_id)).map(jt=>jt.pickup_location),Ie=_e!=null&&_e.optimizedRoute&&_e.optimizedRoute.length>0?_e.optimizedRoute:xe;$(Ie)},[]),ht=v.useCallback(async(_e,ke)=>{if(!r)return;pe(!0);const We=ke.reduce((xe,Ie)=>(xe[Ie.student_id]=Ie,xe),{}),Fe=_e.map(xe=>{var Ie;return{id:xe.id,student_id:xe.student_id,status:xe.status,pickup_location:((Ie=We[xe.student_id])==null?void 0:Ie.pickup_location)??null}});try{const{data:xe,error:Ie}=await me.functions.invoke("ai-reroute",{body:{routeId:r,attendance:Fe}});if(Ie)throw Ie;Je(xe??null,_e,ke),xe!=null&&xe.timeSaved&&n({title:"Route optimized",description:`Time saved: ${xe.timeSaved}${xe.distanceSaved?`  Distance saved: ${xe.distanceSaved}`:""}`})}catch(xe){console.error("AI reroute failed:",xe),n({title:"AI reroute failed",description:"Showing fallback route order.",variant:"destructive"}),Je(null,_e,ke)}finally{pe(!1)}},[Je,r,n]),tt=v.useCallback((_e,ke)=>{fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{ht(_e,ke)},I5)},[ht]);return v.useEffect(()=>{if(!r)return;let _e=!0;return(async()=>{var We,Fe;l(!0),u(null);try{const xe=await bh(r);if(!_e)return;oe.current=xe,D(xe.route.route_name),Q(xe.route.start_location),te(xe.route.end_location),ae(((Fe=xe.profileMap[((We=xe.driver)==null?void 0:We.user_id)??""])==null?void 0:Fe.name)??"Bus Driver"),N(xe.attendance),w(xe.bookings),C(xe.liveLocations),O(xe.attendance.filter(Ie=>Ie.status==="present").length),V(xe.attendance.filter(Ie=>Ie.status==="absent").length),T(Math.max(xe.attendance.filter(Ie=>Ie.status==="present").length*.2,0)),U(new Date().toISOString()),tt(xe.attendance,xe.bookings)}catch(xe){console.error("Failed to load route context:",xe),_e&&u("Unable to load live tracking data.")}finally{_e&&l(!1)}})(),()=>{_e=!1}},[r,tt]),v.useEffect(()=>()=>{fe.current&&clearTimeout(fe.current)},[]),v.useEffect(()=>{if(!r)return;const _e=me.channel(`live-tracking-${r}`).on("postgres_changes",{event:"*",schema:"public",table:"live_locations",filter:`route_id=eq.${r}`},ke=>{C(We=>{if(ke.eventType==="DELETE"){const Ie=ke.old??null;return Ie?We.filter(jt=>jt.id!==Ie.id):We}const Fe=ke.new??null;if(!Fe)return We;const xe=We.filter(Ie=>Ie.id!==Fe.id);return[Fe,...xe]}),U(new Date().toISOString())}).on("postgres_changes",{event:"*",schema:"public",table:"attendance",filter:`route_id=eq.${r}`},ke=>{N(We=>{let Fe=We;if(ke.eventType==="DELETE"){const xe=ke.old??null;xe&&(Fe=We.filter(Ie=>Ie.id!==xe.id))}else{const xe=ke.new??null;if(!xe)return We;const Ie=We.filter(jt=>jt.id!==xe.id);Fe=[xe,...Ie]}return O(Fe.filter(xe=>xe.status==="present").length),V(Fe.filter(xe=>xe.status==="absent").length),T(Math.max(Fe.filter(xe=>xe.status==="present").length*.2,0)),tt(Fe,S),Fe})}).subscribe();return()=>{me.removeChannel(_e)}},[r,S,tt]),v.useEffect(()=>{var ke;if(!oe.current)return;const _e=(ke=oe.current.driver)==null?void 0:ke.user_id;m(F5(b,_e,oe.current.profileMap,_,S))},[b,_,S]),v.useEffect(()=>{var Fe;if(!oe.current)return;(Fe=oe.current.driver)==null||Fe.user_id;const _e=B5(oe.current.route,M,ve);x(_e);const ke=W5(ve,_e);k(ke);const We=H5(Ue,ve);G(We),X(We[0]??Ue[1]??oe.current.route.end_location)},[M,ve,Ue]),o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading live tracking data..."})]})}):d?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(hr,{className:"w-12 h-12 text-destructive"}),s.jsx("p",{className:"text-muted-foreground",children:d}),s.jsx(z,{variant:"outline",onClick:()=>e("/student"),children:"Back to dashboard"})]}):s.jsx("div",{className:"min-h-screen bg-background pb-24",children:s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/student"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:W}),s.jsxs("p",{className:"text-muted-foreground",children:["Tracking live location for ",A,K?`  Updated ${new Date(K).toLocaleTimeString()}`:""]})]})]}),s.jsxs(Pe,{variant:"default",className:"text-lg px-4 py-2",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"ETA: ",y]})]}),s.jsx(ne,{className:"glass-card p-6 mb-8",children:s.jsx(ca,{className:"h-[500px] w-full rounded-xl overflow-hidden",markers:h,route:p})}),P&&s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Reroute Insights"}),s.jsx("h2",{className:"text-2xl font-bold mt-1",children:"Smarter path in progress"})]}),s.jsxs("div",{className:"flex flex-col text-right",children:[P.timeSaved&&s.jsxs("span",{className:"font-semibold",children:[" ",P.timeSaved," saved"]}),P.distanceSaved&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",P.distanceSaved," shorter"]}),de&&s.jsx("span",{className:"text-sm text-primary",children:"Re-running optimization..."})]})]}),P.recommendations&&P.recommendations.length>0&&s.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:P.recommendations.map((_e,ke)=>s.jsx("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20 text-sm",children:_e},ke))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:s.jsx(at,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current stop"}),s.jsx("p",{className:"text-xl font-bold",children:vl(Y)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:H.length>1?`${H.length-1} stops remaining`:"Final stop"})]})]})}),s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-secondary/10 rounded-xl",children:s.jsx(Wr,{className:"w-6 h-6 text-secondary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Passengers checked in"}),s.jsx("p",{className:"text-xl font-bold",children:J}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Z," marked absent"]})]})]})}),s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-500/10 rounded-xl",children:s.jsx(bn,{className:"w-6 h-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"CO saved today"}),s.jsxs("p",{className:"text-xl font-bold",children:[B.toFixed(1)," kg"]}),s.jsx("p",{className:"text-xs text-green-500 mt-1",children:"AI route keeps footprint low"})]})]})})]}),s.jsxs(ne,{className:"glass-card p-6 mt-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Upcoming Stops"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Start: ",vl(se),"  Destination: ",vl(ie)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),de?"Updating with AI suggestions...":"Live route in sync"]})]}),H.length===0?s.jsx("div",{className:"p-6 text-center text-muted-foreground bg-background/50 rounded-lg",children:"All stops completed. Heading to final destination."}):s.jsx("div",{className:"space-y-4",children:H.map((_e,ke)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-background/60 rounded-lg border border-border/40",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center font-semibold",children:ke+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:vl(_e)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ke===0?"Next pickup":`${ke} stop${ke>1?"s":""} away`})]})]}),s.jsx(Pe,{variant:ke===0?"default":"secondary",children:ke===0?"Next":"Upcoming"})]},`${_e}-${ke}`))})]})]})})};function F5(e,t,n,r,i){const o=r.reduce((d,u)=>(d[u.student_id]=u,d),{}),l=i.reduce((d,u)=>(d[u.student_id]=u,d),{});return e.map(d=>{var y;const u=t===d.user_id,h=n[d.user_id]??null,m=l[d.user_id],p=(m==null?void 0:m.student_id)??d.user_id,x=((y=o[p])==null?void 0:y.status)??"unknown";return{lat:d.latitude,lng:d.longitude,label:u?`${(h==null?void 0:h.name)??"Bus"}  Driver`:`${(h==null?void 0:h.name)??"Student"}${m!=null&&m.pickup_location?`  ${vl(m.pickup_location)}`:""}`,icon:u?"":x==="present"?"":"",color:u?"green":x==="present"?"blue":"orange"}})}function B5(e,t,n){const r=n?{lat:n.latitude,lng:n.longitude}:mn(e.start_location)??void 0,i=ac([e.start_location,...t,e.end_location],r),o=oc(i),l=n?[[n.latitude,n.longitude],...o]:o;return U5(l)}function U5(e){if(e.length<=1)return e;const t=[e[0]];for(let n=1;n<e.length;n++){const[r,i]=e[n],[o,l]=t[t.length-1];(Math.abs(r-o)>1e-4||Math.abs(i-l)>1e-4)&&t.push(e[n])}return t}function W5(e,t){if(!e||t.length<2)return"Calculating...";let r={lat:e.latitude,lng:e.longitude},i=0;for(let l=1;l<t.length;l++){const[d,u]=t[l],h={lat:d,lng:u};i+=VN(r,h),r=h}if(i<=0)return"Arriving";const o=A5(i,z5);return L5(o)}function H5(e,t){if(!e||e.length===0)return[];if(!t)return e.slice(1);const n={lat:t.latitude,lng:t.longitude},r=[],i=e.slice(1);for(const o of i){const l=mn(o);if(!l){r.push(o);continue}VN(n,l)>D5&&r.push(o)}return r}function kv(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jh="Switch",[V5,zF]=Zn(jh),[q5,K5]=V5(jh),qN=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:l,disabled:d,value:u="on",onCheckedChange:h,form:m,...p}=e,[x,y]=v.useState(null),k=Qe(t,b=>y(b)),_=v.useRef(!1),N=x?m||!!x.closest("form"):!0,[S,w]=ii({prop:i,defaultProp:o??!1,onChange:h,caller:jh});return s.jsxs(q5,{scope:n,checked:S,disabled:d,children:[s.jsx(Ne.button,{type:"button",role:"switch","aria-checked":S,"aria-required":l,"data-state":YN(S),"data-disabled":d?"":void 0,disabled:d,value:u,...p,ref:k,onClick:be(e.onClick,b=>{w(C=>!C),N&&(_.current=b.isPropagationStopped(),_.current||b.stopPropagation())})}),N&&s.jsx(GN,{control:x,bubbles:!_.current,name:r,value:u,checked:S,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});qN.displayName=jh;var KN="SwitchThumb",ZN=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=K5(KN,n);return s.jsx(Ne.span,{"data-state":YN(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});ZN.displayName=KN;var Z5="SwitchBubbleInput",GN=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},o)=>{const l=v.useRef(null),d=Qe(l,o),u=kv(n),h=dv(t);return v.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&y){const k=new Event("click",{bubbles:r});y.call(m,n),m.dispatchEvent(k)}},[u,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GN.displayName=Z5;function YN(e){return e?"checked":"unchecked"}var QN=qN,G5=ZN;const sn=v.forwardRef(({className:e,...t},n)=>s.jsx(QN,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:s.jsx(G5,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));sn.displayName=QN.displayName;const Y5=()=>{const e=Ke(),{toast:t}=vt(),n=()=>{localStorage.clear(),t({title:"Logged Out",description:"You have been successfully logged out"}),e("/")};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"container mx-auto max-w-4xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8 animate-fade-in",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your preferences"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(Yg,{className:"w-5 h-5 text-primary"}),"Notifications"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"ride-alerts",children:"Ride Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about ride updates"})]}),s.jsx(sn,{id:"ride-alerts",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"eco-updates",children:"Eco Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive CO savings updates"})]}),s.jsx(sn,{id:"eco-updates",defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"promotions",children:"Promotions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get offers and rewards"})]}),s.jsx(sn,{id:"promotions"})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(sO,{className:"w-5 h-5 text-secondary"}),"Appearance"]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{htmlFor:"dark-mode",children:"Dark Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use dark theme"})]}),s.jsx(sn,{id:"dark-mode",defaultChecked:!0})]})})]}),s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(A1,{className:"w-5 h-5 text-accent"}),"Language"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Be,{children:"Preferred Language"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"English (EN)"})]}),s.jsx(z,{variant:"outline",size:"sm",children:"Change"})]})]}),s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(Xs,{className:"w-5 h-5 text-primary"}),"Privacy & Security"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"Change Password"}),s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"Privacy Policy"}),s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"Terms of Service"})]})]}),s.jsxs(ne,{className:"glass-card p-6 animate-slide-up",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4",children:[s.jsx(M1,{className:"w-5 h-5 text-secondary"}),"Help & Support"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"Help Center"}),s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"Contact Support"}),s.jsx(z,{variant:"outline",className:"w-full justify-start",children:"About ECpool360"})]})]}),s.jsx(ne,{className:"glass-card p-6 bg-destructive/10 border-destructive/20 animate-scale-in",children:s.jsxs(z,{variant:"destructive",className:"w-full",onClick:n,children:[s.jsx(I1,{className:"mr-2"}),"Logout"]})})]})]})})},Q5=()=>{const e=gs();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},J5=()=>{const e=Ke(),[t,n]=v.useState(null),r=i=>{n(i),localStorage.setItem("userMode",i),setTimeout(()=>{e("/role-selection",{state:{mode:i}})},300)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),s.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-12 min-h-screen flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[s.jsx("div",{className:"flex items-center justify-center gap-3 mb-6",children:s.jsx("div",{className:"p-4 rounded-full bg-gradient-primary animate-glow-pulse",children:s.jsx(bn,{className:"w-10 h-10 text-foreground"})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Choose Your Mode"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Select how you want to use ECpool360"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl w-full mb-12",children:[s.jsx(ne,{className:`glass-card p-8 hover-scale cursor-pointer group transition-all duration-300 ${t==="school"?"ring-2 ring-primary shadow-glow":""}`,onClick:()=>r("school"),children:s.jsxs("div",{className:"flex flex-col items-center text-center gap-6 h-full",children:[s.jsx("div",{className:"p-6 rounded-full bg-gradient-primary animate-glow-pulse",children:s.jsx(L1,{className:"w-16 h-16 text-foreground"})}),s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"School Mode"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Safe verified rides for students with parents and trusted drivers"}),s.jsxs("div",{className:"mt-6 space-y-3 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"Parent-verified drivers"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"Real-time tracking"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"Women-only ride option"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"School route optimization"})]})]})]}),s.jsx(z,{variant:"hero",className:"w-full",size:"lg",children:"Continue as School User"})]})}),s.jsx(ne,{className:`glass-card p-8 hover-scale cursor-pointer group transition-all duration-300 ${t==="community"?"ring-2 ring-secondary shadow-cyan-glow":""}`,onClick:()=>r("community"),children:s.jsxs("div",{className:"flex flex-col items-center text-center gap-6 h-full",children:[s.jsx("div",{className:"p-6 rounded-full bg-secondary/30 animate-glow-pulse",children:s.jsx(xc,{className:"w-16 h-16 text-secondary"})}),s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Community Mode"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Eco-friendly rides for work, errands, and daily commutes"}),s.jsxs("div",{className:"mt-6 space-y-3 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-secondary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"Verified community drivers"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-secondary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"Flexible routes"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-secondary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"CO tracking"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-secondary text-sm",children:""})}),s.jsx("span",{className:"text-sm",children:"EcoCredit rewards"})]})]})]}),s.jsx(z,{variant:"secondary",className:"w-full",size:"lg",children:"Continue as Community User"})]})})]})]})]})},X5=()=>{var i;const[e,t]=v.useState("week");v.useState("all");const n=[{rank:2,name:"Fatima Al-Zaabi",avatar:"",credits:892,co2:45.2,rides:156,medal:"",glow:"shadow-[0_0_30px_rgba(192,192,192,0.5)]"},{rank:1,name:"Ahmed Al-Balushi",avatar:"",credits:1247,co2:78.5,rides:234,medal:"",badges:[" Eco Legend"," Hot Streak"],glow:"shadow-[0_0_40px_rgba(255,215,0,0.6)]"},{rank:3,name:"Sara Mohammed",avatar:"",credits:756,co2:38.9,rides:142,medal:"",glow:"shadow-[0_0_30px_rgba(205,127,50,0.5)]"}],r=[{rank:4,name:"Mohammed Ali",avatar:"",role:"Driver",credits:654,co2:32.1,badges:[""]},{rank:5,name:"Layla Hassan",avatar:"",role:"Student",credits:598,co2:29.8,badges:[]},{rank:6,name:"Omar Khalid",avatar:"",role:"Driver",credits:543,co2:27.6,badges:[""]},{rank:7,name:"Zainab Rashid",avatar:"",role:"Parent",credits:487,co2:24.3,badges:[]},{rank:8,name:"Rashid Ahmed",avatar:"",role:"Driver",credits:432,co2:21.7,badges:[""]},{rank:9,name:"Aisha Salem",avatar:"",role:"Student",credits:398,co2:19.9,badges:[""]},{rank:10,name:"Yusuf Ibrahim",avatar:"",role:"Driver",credits:365,co2:18.4,badges:[]}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24 md:pb-8",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-primary bg-clip-text text-transparent",children:" EcoChampions"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Top eco-warriors in Oman"})]}),s.jsxs("div",{className:"flex justify-center gap-3 mb-8 flex-wrap",children:[s.jsx(z,{variant:e==="week"?"hero":"outline",onClick:()=>t("week"),className:"rounded-full",children:"This Week"}),s.jsx(z,{variant:e==="month"?"hero":"outline",onClick:()=>t("month"),className:"rounded-full",children:"This Month"}),s.jsx(z,{variant:e==="alltime"?"hero":"outline",onClick:()=>t("alltime"),className:"rounded-full",children:"All Time"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-5xl mx-auto",children:[s.jsx("div",{className:"md:order-1 order-2",children:s.jsxs(ne,{className:`glass-card p-6 text-center relative ${n[0].glow} animate-fade-in`,children:[s.jsx("div",{className:"text-4xl mb-2",children:n[0].medal}),s.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center text-4xl mb-3",children:n[0].avatar}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:n[0].name}),s.jsx("p",{className:"text-3xl font-bold text-primary mb-2",children:n[0].credits}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["CO saved: ",n[0].co2," kg"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n[0].rides," trips"]})]})}),s.jsx("div",{className:"md:order-2 order-1 md:scale-110",children:s.jsxs(ne,{className:`glass-card p-6 text-center relative ${n[1].glow} animate-scale-in`,children:[s.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-4xl animate-bounce",children:s.jsx(XT,{className:"w-12 h-12 text-accent"})}),s.jsx("div",{className:"text-5xl mb-2 mt-4",children:n[1].medal}),s.jsx("div",{className:"w-28 h-28 mx-auto rounded-full bg-gradient-to-br from-yellow-300 to-yellow-600 flex items-center justify-center text-5xl mb-3 animate-glow-pulse",children:n[1].avatar}),s.jsx("h3",{className:"text-2xl font-bold mb-1 bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent",children:n[1].name}),s.jsx("p",{className:"text-4xl font-bold text-primary mb-2",children:n[1].credits}),s.jsxs("p",{className:"text-sm text-primary font-bold",children:["CO saved: ",n[1].co2," kg"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n[1].rides," trips"]}),s.jsx("div",{className:"flex gap-2 justify-center mt-3 flex-wrap",children:(i=n[1].badges)==null?void 0:i.map((o,l)=>s.jsx("span",{className:"text-xs bg-primary/20 px-2 py-1 rounded-full",children:o},l))})]})}),s.jsx("div",{className:"md:order-3 order-3",children:s.jsxs(ne,{className:`glass-card p-6 text-center relative ${n[2].glow} animate-fade-in`,children:[s.jsx("div",{className:"text-4xl mb-2",children:n[2].medal}),s.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-orange-300 to-orange-600 flex items-center justify-center text-4xl mb-3",children:n[2].avatar}),s.jsx("h3",{className:"text-xl font-bold mb-1",children:n[2].name}),s.jsx("p",{className:"text-3xl font-bold text-primary mb-2",children:n[2].credits}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["CO saved: ",n[2].co2," kg"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n[2].rides," trips"]})]})})]}),s.jsxs(ne,{className:"glass-card p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Rankings"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{className:"bg-card border border-border rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{children:"By EcoCredits"}),s.jsx("option",{children:"By CO Saved"}),s.jsx("option",{children:"By Rides"})]}),s.jsxs("select",{className:"bg-card border border-border rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{children:"All Roles"}),s.jsx("option",{children:"Drivers Only"}),s.jsx("option",{children:"Students Only"})]})]})]}),s.jsx("div",{className:"space-y-3",children:r.map(o=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl hover:bg-primary/5 border border-transparent hover:border-primary transition-all cursor-pointer",children:[s.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",o.rank]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center text-2xl",children:o.avatar}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:o.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.role==="Driver"?"bg-primary/20 text-primary":o.role==="Student"?"bg-secondary/20 text-secondary":"bg-accent/20 text-accent"}`,children:o.role})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-primary",children:[" ",o.credits]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",o.co2," kg"]})]}),s.jsx("div",{className:"flex gap-1",children:o.badges.map((l,d)=>s.jsx("span",{className:"text-xl",children:l},d))})]},o.rank))})]}),s.jsxs(ne,{className:"glass-card p-6 max-w-4xl mx-auto mt-6 border-2 border-primary",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:"Your Position: #23"}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-primary flex items-center justify-center text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Your EcoCredits: 156"}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary w-3/4"})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"15 from #20"})]})})]})]}),s.jsx("p",{className:"text-center mt-4 text-primary font-semibold",children:"Keep riding to climb! "})]})]}),s.jsx(ms,{})]})},eD=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"});function Is(e){return(e??"").trim().toLowerCase()}function tD(e,t){const n=new Date;if(!e)return{startIso:n.toISOString(),endIso:null};const r=new Date(e);if(Number.isNaN(r.getTime()))return{startIso:n.toISOString(),endIso:null};if(t){const[l,d]=t.split(":").map(h=>Number(h));Number.isNaN(l)||r.setHours(l,Number.isNaN(d)?0:d,0,0);const u=new Date(r.getTime()+2*60*60*1e3);return{startIso:r.toISOString(),endIso:u.toISOString()}}const i=new Date(r);i.setHours(0,0,0,0);const o=new Date(r);return o.setHours(23,59,59,999),{startIso:i.toISOString(),endIso:o.toISOString()}}function nD(e,t){let n=100;if(t.from){const r=Is(t.from);Is(e.start_location).includes(r)||(n-=25)}if(t.to){const r=Is(t.to);Is(e.end_location).includes(r)||(n-=25)}return t.schoolRoutesOnly&&(Is(e.end_location).includes("school")||(n-=20)),Math.max(40,n)}function rD(e,t,n){const r=Is(e==null?void 0:e.status),i=Is(t.route_name),o=Is(t.end_location);return!(n.womenOnly&&!(r.includes("women")||i.includes("women"))||n.studentsOnly&&!(i.includes("student")||o.includes("school"))||n.parentsOnly&&!r.includes("parent")||n.verifiedOnly&&!(r.includes("verified")||((e==null?void 0:e.rating)??0)>=4.5)||n.schoolRoutesOnly&&!o.includes("school"))}function sD(e,t){return e.estimated_earnings&&t>0?Math.max(1,Math.round(e.estimated_earnings/t)):2}async function JN(){const{data:e,error:t}=await me.from("routes").select("start_location, end_location").order("created_at",{ascending:!1}).limit(100);if(t)throw t;const n=new Set,r=new Set;(e??[]).forEach(l=>{l.start_location&&n.add(l.start_location),l.end_location&&r.add(l.end_location)});const i=Array.from(n).sort((l,d)=>l.localeCompare(d)),o=Array.from(r).sort((l,d)=>l.localeCompare(d));return{startLocations:i,endLocations:o}}async function XN(e){const{startIso:t,endIso:n}=tD(e.date,e.time);let r=me.from("routes").select("*, bookings(*)").gte("start_time",t).order("start_time",{ascending:!0});n&&(r=r.lte("start_time",n)),e.from&&(r=r.ilike("start_location",`%${e.from}%`)),e.to&&(r=r.ilike("end_location",`%${e.to}%`));const{data:i,error:o}=await r;if(o)throw o;const l=i??[];if(l.length===0)return[];const d=Array.from(new Set(l.map(y=>y.driver_id).filter(Boolean)));let u=[];if(d.length>0){const{data:y,error:k}=await me.from("drivers").select("*").in("id",d);if(k)throw k;u=y??[]}const h=Array.from(new Set(u.map(y=>y.user_id).filter(Boolean)));let m=[];if(h.length>0){const{data:y,error:k}=await me.from("profiles").select("id, name, avatar_url").in("id",h);if(k)throw k;m=y??[]}const p=new Map;u.forEach(y=>{p.set(y.id,y)});const x=new Map;return m.forEach(y=>{x.set(y.id,y)}),l.map(y=>{if(y.status==="completed")return null;const k=p.get(y.driver_id)??null,_=k?x.get(k.user_id)??null:null,N=y.bookings??[],S=Math.max(y.passenger_count??(k==null?void 0:k.vehicle_capacity)??6,0),w=N.length,b=Math.max(S-w,0);if(e.riders&&b<e.riders||!rD(k,y,e)||b===0)return null;const C=sD(y,S||1);return{route:y,bookings:N,driver:k,driverName:(_==null?void 0:_.name)??"Driver",driverAvatar:(_==null?void 0:_.avatar_url)??null,driverRating:(k==null?void 0:k.rating)??null,vehicleLabel:k&&[k.vehicle_model,k.vehicle_number].filter(Boolean).join("  ")||"Vehicle",routeMatchScore:nD(y,e),availableSeats:b,totalSeats:S,pickupTimeDisplay:eD.format(new Date(y.start_time)),pricePerSeat:C}}).filter(Boolean)}const iD=new Date().toISOString().split("T")[0],aD=()=>{const{toast:e}=vt(),[t,n]=v.useState(""),[r,i]=v.useState(""),[o,l]=v.useState(iD),[d,u]=v.useState("07:00"),[h,m]=v.useState(1),[p,x]=v.useState(!1),[y,k]=v.useState(!1),[_,N]=v.useState(!1),[S,w]=v.useState(!1),[b,C]=v.useState(!1),[P,I]=v.useState(!0),[M,$]=v.useState(null),[H,G]=v.useState(!1),[Y,X]=v.useState(!1),[J,O]=v.useState([]),[Z,V]=v.useState(null),[B,T]=v.useState(null),[K,U]=v.useState([]),[W,D]=v.useState([]);v.useEffect(()=>{let A=!0;return(async()=>{const{data:de,error:pe}=await me.auth.getUser();if(A){if(pe){console.error("Auth check failed",pe);return}de!=null&&de.user&&$(de.user.id)}})(),()=>{A=!1}},[]),v.useEffect(()=>{let A=!0;return(async()=>{try{const de=await JN();if(!A)return;U(de.startLocations),D(de.endLocations)}catch(de){console.error("Failed to load ride options",de)}})(),()=>{A=!1}},[]);const se=async A=>{A==null||A.preventDefault(),G(!0),X(!0),V(null);try{const ae=await XN({from:t||void 0,to:r||void 0,date:o,time:d,riders:h,womenOnly:y,studentsOnly:_,parentsOnly:S,verifiedOnly:b,schoolRoutesOnly:P});O(ae),ae.length===0&&V("No rides found for your search. Adjust the filters and try again.")}catch(ae){console.error("Ride search failed",ae),V("We could not load rides right now. Please try again in a moment.")}finally{X(!1)}},Q=async A=>{if(!M){e({title:"Sign in required",description:"Please sign in as a student to request a ride.",variant:"destructive"});return}T(A.route.id);try{const ae=t||A.route.start_location,{error:de}=await me.from("bookings").insert({student_id:M,route_id:A.route.id,pickup_location:ae,dropoff_location:A.route.end_location,pickup_time:A.route.start_time,status:"pending"});if(de)throw de;e({title:"Ride requested",description:`We'll notify ${A.driverName} of your request.`}),O(pe=>pe.map(fe=>fe.route.id===A.route.id?{...fe,availableSeats:Math.max(fe.availableSeats-h,0)}:fe).filter(fe=>fe.availableSeats>0))}catch(ae){console.error("Ride request failed",ae),e({title:"Could not request ride",description:"Please try again shortly.",variant:"destructive"})}finally{T(null)}},ie=v.useMemo(()=>[...J].sort((A,ae)=>ae.routeMatchScore===A.routeMatchScore?new Date(A.route.start_time).getTime()-new Date(ae.route.start_time).getTime():ae.routeMatchScore-A.routeMatchScore),[J]),te=v.useMemo(()=>h===1?"1 person":`${h} people`,[h]);return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"bg-gradient-primary p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Find Your Ride"}),s.jsx("p",{className:"text-muted-foreground",children:"Search for verified school carpools"})]}),s.jsxs("div",{className:"container mx-auto px-4 -mt-8",children:[s.jsx(ne,{className:"glass-card p-6 space-y-4",children:s.jsxs("form",{onSubmit:se,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4 text-primary"}),"From"]}),s.jsx(ye,{value:t,onChange:A=>n(A.target.value),placeholder:"Enter pickup location",className:"bg-background/50",list:"from-locations"}),s.jsx("datalist",{id:"from-locations",children:K.map(A=>s.jsx("option",{value:A},A))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4 text-secondary"}),"To"]}),s.jsx(ye,{value:r,onChange:A=>i(A.target.value),placeholder:"Enter destination",className:"bg-background/50",list:"to-locations"}),s.jsx("datalist",{id:"to-locations",children:W.map(A=>s.jsx("option",{value:A},A))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-accent"}),"Date"]}),s.jsx(ye,{type:"date",value:o,onChange:A=>l(A.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4 text-accent"}),"Time"]}),s.jsx(ye,{type:"time",value:d,onChange:A=>u(A.target.value),className:"bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-primary"}),"Riders"]}),s.jsxs("select",{value:h,onChange:A=>m(Number(A.target.value)||1),className:"w-full px-3 py-2 rounded-md bg-background/50 border border-input",children:[s.jsx("option",{value:1,children:"1 person"}),s.jsx("option",{value:2,children:"2 people"}),s.jsx("option",{value:3,children:"3 people"}),s.jsx("option",{value:4,children:"4 people"})]})]}),s.jsxs(z,{variant:"ghost",className:"w-full justify-between",type:"button",onClick:()=>x(A=>!A),children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(eO,{className:"w-4 h-4"}),"Filters"]}),s.jsx("span",{children:p?"":"+"})]}),p&&s.jsxs("div",{className:"space-y-3 pt-4 border-t border-border animate-fade-in",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:A=>k(A.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Women-only rides"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:""})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:_,onChange:A=>N(A.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Students only"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:""})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:S,onChange:A=>w(A.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Parents only"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:""})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:A=>C(A.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Verified drivers only"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:""})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:P,onChange:A=>I(A.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"School routes only"}),s.jsx(Pe,{variant:"secondary",className:"ml-auto",children:""})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 text-xs text-muted-foreground",children:["Showing ",P?"school":"all"," routes for ",te,"."]})]}),s.jsxs(z,{variant:"hero",size:"lg",className:"w-full",type:"submit",disabled:Y,children:[Y?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(bu,{className:"w-4 h-4 mr-2"}),Y?"Searching...":"Search Rides"]})]})}),Z&&H&&!Y&&s.jsxs(ne,{className:"glass-card p-4 mt-6 flex items-start gap-3 text-sm text-muted-foreground",children:[s.jsx(lr,{className:"w-5 h-5 text-destructive"}),s.jsx("p",{children:Z})]}),H&&s.jsxs("div",{className:"mt-6 space-y-4 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Available Rides"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[ie.length," routes"]})]}),Y&&s.jsxs(ne,{className:"glass-card p-6 flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Looking for rides near you..."})]}),!Y&&ie.length===0&&s.jsxs(ne,{className:"glass-card p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"No rides found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters or expand the search window."}),s.jsx(z,{variant:"outline",onClick:()=>x(!0),children:"Adjust Filters"})]}),ie.map(A=>{var fe;const ae=[],de=(((fe=A.driver)==null?void 0:fe.status)??"").toLowerCase(),pe=A.driverName?A.driverName.slice(0,2).toUpperCase():"DR";return((A.driverRating??0)>=4.5||de.includes("verified"))&&ae.push("Verified"),de.includes("women")&&ae.push("Women-only"),de.includes("parent")&&ae.push("Parents"),A.route.end_location.toLowerCase().includes("school")&&ae.push("School Route"),s.jsx(ne,{className:"glass-card p-4 hover-scale",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[s.jsxs(Io,{className:"w-16 h-16",children:[A.driverAvatar?s.jsx(WN,{src:A.driverAvatar}):null,s.jsx(HN,{children:pe})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:A.driverName}),A.driverRating&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",A.driverRating.toFixed(1)]}),s.jsxs(Pe,{className:"bg-primary/10 text-primary",children:[A.routeMatchScore,"% match"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.vehicleLabel}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4 text-primary"}),A.route.start_location,"  ",A.route.end_location]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4 text-secondary"}),A.pickupTimeDisplay]}),s.jsxs("span",{className:"text-muted-foreground",children:[A.availableSeats,"/",A.totalSeats," seats free"]})]}),ae.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map(oe=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:oe},oe))})]}),s.jsxs("div",{className:"flex items-end md:items-center gap-4 md:flex-col md:text-right",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:A.pricePerSeat}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"EcoCredits / seat"})]}),s.jsxs(z,{variant:"default",size:"sm",onClick:()=>Q(A),disabled:B===A.route.id,children:[B===A.route.id?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):null,B===A.route.id?"Requesting":"Request"]})]})]})},A.route.id)})]})]}),s.jsx(ms,{})]})},oD=new Date().toISOString().split("T")[0];function em(e){const t=sessionStorage.getItem("driver-demo-license")||"DEMO-000000",n=sessionStorage.getItem("driver-demo-vehicle")||"OM-0000",r=sessionStorage.getItem("driver-demo-model")||"Eco Shuttle",i=Number.parseInt(sessionStorage.getItem("driver-demo-capacity")??"8",10)||8,o=new Date().toISOString();return{id:`demo-${e}`,user_id:e,license_number:t,vehicle_number:n,vehicle_model:r,vehicle_capacity:i,rating:null,total_trips:0,total_earnings:0,status:"verified",created_at:o,updated_at:o,eco_credits:320,credits_earned_today:0}}function hw(e,t){const n=new Date(`${e}T${t||"00:00"}`);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function lD(e,t){const n=[];let r=new Date(e);for(;n.length<t;){r=new Date(r.getTime()+24*60*60*1e3);const i=r.getDay();i===5||i===6||n.push(r.toISOString())}return n}const cD=()=>{const{toast:e}=vt(),[t,n]=v.useState(""),[r,i]=v.useState(""),[o,l]=v.useState(oD),[d,u]=v.useState("07:00"),[h,m]=v.useState(4),[p,x]=v.useState(2),[y,k]=v.useState(!1),[_,N]=v.useState(!1),[S,w]=v.useState(!1),[b,C]=v.useState(!1),[P,I]=v.useState(null),[M,$]=v.useState(!1),[H,G]=v.useState(null),[Y,X]=v.useState(!0),[J,O]=v.useState(null),[Z,V]=v.useState([]),[B,T]=v.useState([]);v.useEffect(()=>{let Q=!0;return(async()=>{var fe;const{data:te,error:A}=await me.auth.getUser();if(!Q)return;const ae=sessionStorage.getItem("driver-demo-verified")==="true";if(A||!(te!=null&&te.user)){console.error("Driver auth lookup failed",A),ae?(G(em(((fe=te==null?void 0:te.user)==null?void 0:fe.id)??"demo-user")),O(null)):O("Unable to verify your session. Please sign in again."),X(!1);return}const{data:de,error:pe}=await me.from("drivers").select("*").eq("user_id",te.user.id).maybeSingle();Q&&(pe?(console.error("Driver profile lookup failed",pe),ae?(G(em(te.user.id)),O(null)):O("Could not load your driver profile. Please try again.")):de?(G(de),O(null)):ae?(G(em(te.user.id)),O(null)):O("Driver profile not found. Complete verification before offering rides."),X(!1))})(),()=>{Q=!1}},[]),v.useEffect(()=>{let Q=!0;return(async()=>{try{const te=await JN();if(!Q)return;V(te.startLocations),T(te.endLocations)}catch(te){console.error("Failed to load ride options",te)}})(),()=>{Q=!1}},[]);const K=v.useMemo(()=>h*p,[h,p]),U=Y||!!J,W=async()=>{if(!H){e({title:"Driver profile required",description:J??"Complete driver verification to offer rides.",variant:"destructive"});return}if(H.id.startsWith("demo-")){$(!0);const ae=hw(o,d),de=`demo-route-${Date.now()}`,pe=sessionStorage.getItem("driver-demo-name")||"Demo Driver";W3({id:de,driverId:H.id,driverName:pe,startLocation:t.trim()||"Eco Hub",endLocation:r.trim()||"Knowledge Oasis",startTimeIso:ae,seats:h,createdAt:new Date().toISOString()}),await new Promise(fe=>setTimeout(fe,400)),e({title:"Ride published (demo)",description:"Your demo ride is visible in this session."}),w(!1),I(null),n(""),i(""),$(!1);return}if(!t.trim()||!r.trim()){e({title:"Missing route details",description:"Enter both pickup and drop-off locations before publishing.",variant:"destructive"});return}$(!0);const Q=`${t.trim()}  ${r.trim()}`,ie=y?`${Q} (Women-only)`:Q,te=hw(o,d),A={driver_id:H.id,start_location:t.trim(),end_location:r.trim(),start_time:te,passenger_count:h,route_name:ie,estimated_earnings:K,status:"pending"};try{const{error:ae}=await me.from("routes").insert({driver_id:A.driver_id,start_location:A.start_location,end_location:A.end_location,start_time:A.start_time,passenger_count:A.passenger_count,route_name:A.route_name,estimated_earnings:A.estimated_earnings,status:A.status});if(ae)throw ae;if(_){const de=lD(te,4);if(de.length>0){const pe=de.map(oe=>({driver_id:A.driver_id,start_location:A.start_location,end_location:A.end_location,start_time:oe,passenger_count:A.passenger_count,route_name:A.route_name,estimated_earnings:A.estimated_earnings,status:A.status})),{error:fe}=await me.from("routes").insert(pe);if(fe)throw fe}}e({title:"Ride published",description:_?"Your ride and recurring schedule are now visible to students.":"Your ride is now visible to students."}),w(!1),I(null)}catch(ae){console.error("Publish ride failed",ae),e({title:"Could not publish ride",description:"Please review the details and try again.",variant:"destructive"})}finally{$(!1)}},D=async Q=>{Q==null||Q.preventDefault(),await W()},se=async()=>{if(!t.trim()||!r.trim()){e({title:"Add route details",description:"Enter both pickup and drop-off locations to analyse the route.",variant:"destructive"});return}w(!0),C(!0);try{const ie=(await XN({from:t.trim(),to:r.trim(),date:o,time:d,schoolRoutesOnly:!0})).reduce((de,pe)=>de+Math.min(pe.availableSeats,h),0),te=p*Math.min(ie,h),A=Number((ie*.45).toFixed(1)),ae=ie>h?"~7 mins":"~5 mins";I({potentialRiders:ie,estimatedEarnings:te,co2Saved:A,timeImpact:ae})}catch(Q){console.error("AI route suggestion failed",Q),e({title:"Could not analyse route",description:"Please try again after adjusting your details.",variant:"destructive"})}finally{C(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"bg-gradient-primary p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Offer a Ride"}),s.jsx("p",{className:"text-muted-foreground",children:"Share your commute and earn EcoCredits"})]}),s.jsxs("div",{className:"container mx-auto px-4 -mt-8 space-y-6",children:[Y&&!J&&s.jsxs(ne,{className:"glass-card p-4 flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx(At,{className:"w-5 h-5 animate-spin text-primary"}),s.jsx("p",{children:"Loading your driver profile..."})]}),J&&s.jsxs(ne,{className:"glass-card p-4 flex items-start gap-3 text-sm text-muted-foreground",children:[s.jsx(lr,{className:"w-5 h-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-destructive",children:"Driver profile issue"}),s.jsx("p",{children:J})]})]}),s.jsx(ne,{className:"glass-card p-6 space-y-4",children:s.jsxs("form",{className:"space-y-4",onSubmit:D,children:[s.jsx("h2",{className:"text-xl font-bold",children:"Ride Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4 text-primary"}),"From"]}),s.jsx(ye,{value:t,onChange:Q=>n(Q.target.value),placeholder:"Enter pickup location",className:"bg-background/50",list:"offer-from-locations",disabled:U}),s.jsx("datalist",{id:"offer-from-locations",children:Z.map(Q=>s.jsx("option",{value:Q},Q))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4 text-secondary"}),"To"]}),s.jsx(ye,{value:r,onChange:Q=>i(Q.target.value),placeholder:"Enter destination",className:"bg-background/50",list:"offer-to-locations",disabled:U}),s.jsx("datalist",{id:"offer-to-locations",children:B.map(Q=>s.jsx("option",{value:Q},Q))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-accent"}),"Date"]}),s.jsx(ye,{type:"date",value:o,onChange:Q=>l(Q.target.value),className:"bg-background/50",disabled:U})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4 text-accent"}),"Time"]}),s.jsx(ye,{type:"time",value:d,onChange:Q=>u(Q.target.value),className:"bg-background/50",disabled:U})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-primary"}),"Available Seats"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>m(Q=>Math.max(1,Q-1)),disabled:U,children:""}),s.jsx("span",{className:"text-2xl font-bold w-12 text-center",children:h}),s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>m(Q=>Math.min(7,Q+1)),disabled:U,children:"+"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-auto",children:Array.from({length:h}).map((Q,ie)=>s.jsx("span",{children:""},ie))})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Women-only Ride"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Only female passengers"})]})]}),s.jsx(sn,{checked:y,onCheckedChange:k,disabled:U})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Recurring Ride"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Repeat on school days"})]})]}),s.jsx(sn,{checked:_,onCheckedChange:N,disabled:U})]}),s.jsxs(z,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:U||M,children:[M?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(os,{className:"w-4 h-4 mr-2"}),M?"Publishing...":"Publish Ride"]})]})}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Route Preview"}),s.jsx("div",{className:"bg-muted/50 h-[200px] rounded-lg flex items-center justify-center mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(at,{className:"w-12 h-12 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Live map preview coming soon"})]})}),s.jsxs(z,{variant:"outline",className:"w-full",type:"button",disabled:!0,children:[s.jsx(_o,{className:"w-4 h-4 mr-2"}),"Add Intermediate Stops (soon)"]})]}),s.jsx(ne,{className:"glass-card p-6 border-primary/50",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"text-4xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[s.jsx(os,{className:"w-5 h-5 text-accent"}),"AI Suggest Optimal Route"]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Let AI find riders on your path"}),S?s.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Potential Riders"}),s.jsx("span",{className:"text-lg font-bold text-primary",children:(P==null?void 0:P.potentialRiders)??0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Estimated Earnings"}),s.jsxs("span",{className:"text-lg font-bold text-primary",children:[(P==null?void 0:P.estimatedEarnings)??0," EcoCredits"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"CO Savings"}),s.jsxs("span",{className:"text-lg font-bold text-primary",children:[(P==null?void 0:P.co2Saved)??0," kg"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Time Impact"}),s.jsx("span",{className:"text-sm text-accent",children:(P==null?void 0:P.timeImpact)??"~5 mins"})]})]}),s.jsx(z,{variant:"hero",className:"w-full",type:"button",onClick:W,disabled:M||U,children:"Use AI Recommendations"})]}):s.jsxs(z,{variant:"secondary",className:"w-full",type:"button",onClick:se,disabled:b||U,children:[b?s.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(os,{className:"w-4 h-4 mr-2"}),b?"Analysing...":"Calculate Optimal Route"]})]})]})}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(wo,{className:"w-5 h-5 text-accent"}),"Pricing"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Price per seat (EcoCredits)"}),s.jsx(ye,{type:"number",value:p,onChange:Q=>x(Math.max(1,Number(Q.target.value)||1)),className:"bg-background/50",disabled:U}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested price: 2-3 EcoCredits"})]}),s.jsxs("div",{className:"p-4 bg-accent/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Total Potential Earnings"}),s.jsx("span",{className:"text-2xl font-bold text-accent",children:K})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Based on ",h," seats  ",p," credits"]})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 bg-gradient-glow",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Ride Preview"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Route"}),s.jsx("span",{className:"font-medium",children:t&&r?`${t}  ${r}`:"Add route details"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date & Time"}),s.jsxs("span",{className:"font-medium",children:[o," @ ",d]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Available Seats"}),s.jsxs("span",{className:"font-medium",children:[h," seats"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-medium",children:[p," EcoCredits/seat"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Visibility"}),s.jsx("span",{className:"font-medium text-primary",children:P?`${P.potentialRiders} interested riders`:"Run AI suggestion"})]})]})]})]}),s.jsx(ms,{})]})};var tm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",fw={bubbles:!1,cancelable:!0},dD="FocusScope",Cv=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[d,u]=v.useState(null),h=Mn(i),m=Mn(o),p=v.useRef(null),x=Qe(t,_=>u(_)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let _=function(b){if(y.paused||!d)return;const C=b.target;d.contains(C)?p.current=C:Ps(p.current,{select:!0})},N=function(b){if(y.paused||!d)return;const C=b.relatedTarget;C!==null&&(d.contains(C)||Ps(p.current,{select:!0}))},S=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&Ps(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const w=new MutationObserver(S);return d&&w.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),w.disconnect()}}},[r,d,y.paused]),v.useEffect(()=>{if(d){pw.add(y);const _=document.activeElement;if(!d.contains(_)){const S=new CustomEvent(tm,fw);d.addEventListener(tm,h),d.dispatchEvent(S),S.defaultPrevented||(uD(gD(eS(d)),{select:!0}),document.activeElement===_&&Ps(d))}return()=>{d.removeEventListener(tm,h),setTimeout(()=>{const S=new CustomEvent(nm,fw);d.addEventListener(nm,m),d.dispatchEvent(S),S.defaultPrevented||Ps(_??document.body,{select:!0}),d.removeEventListener(nm,m),pw.remove(y)},0)}}},[d,h,m,y]);const k=v.useCallback(_=>{if(!n&&!r||y.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,S=document.activeElement;if(N&&S){const w=_.currentTarget,[b,C]=hD(w);b&&C?!_.shiftKey&&S===C?(_.preventDefault(),n&&Ps(b,{select:!0})):_.shiftKey&&S===b&&(_.preventDefault(),n&&Ps(C,{select:!0})):S===w&&_.preventDefault()}},[n,r,y.paused]);return s.jsx(Ne.div,{tabIndex:-1,...l,ref:x,onKeyDown:k})});Cv.displayName=dD;function uD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ps(r,{select:t}),document.activeElement!==n)return}function hD(e){const t=eS(e),n=mw(t,e),r=mw(t.reverse(),e);return[n,r]}function eS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mw(e,t){for(const n of e)if(!fD(n,{upTo:t}))return n}function fD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mD(e){return e instanceof HTMLInputElement&&"select"in e}function Ps(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mD(e)&&t&&e.select()}}var pw=pD();function pD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=gw(e,t),e.unshift(t)},remove(t){var n;e=gw(e,t),(n=e[0])==null||n.resume()}}}function gw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gD(e){return e.filter(t=>t.tagName!=="A")}var rm=0;function tS(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vw()),document.body.insertAdjacentElement("beforeend",e[1]??vw()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rm--}},[])}function vw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lr=function(){return Lr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Lr.apply(this,arguments)};function nS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vD(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Zd="right-scroll-bar-position",Gd="width-before-scroll-bar",xD="with-scroll-bars-hidden",yD="--removed-body-scroll-bar-size";function sm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wD(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var _D=typeof window<"u"?v.useLayoutEffect:v.useEffect,xw=new WeakMap;function bD(e,t){var n=wD(null,function(r){return e.forEach(function(i){return sm(i,r)})});return _D(function(){var r=xw.get(n);if(r){var i=new Set(r),o=new Set(e),l=n.current;i.forEach(function(d){o.has(d)||sm(d,null)}),o.forEach(function(d){i.has(d)||sm(d,l)})}xw.set(n,e)},[e]),n}function jD(e){return e}function ND(e,t){t===void 0&&(t=jD);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var u=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return i}function SD(e){e===void 0&&(e={});var t=ND(null);return t.options=Lr({async:!0,ssr:!1},e),t}var rS=function(e){var t=e.sideCar,n=nS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Lr({},n))};rS.isSideCarExport=!0;function kD(e,t){return e.useMedium(t),rS}var sS=SD(),im=function(){},Nh=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:im,onWheelCapture:im,onTouchMoveCapture:im}),i=r[0],o=r[1],l=e.forwardProps,d=e.children,u=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,y=e.noRelative,k=e.noIsolation,_=e.inert,N=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,b=e.gapMode,C=nS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,I=bD([n,t]),M=Lr(Lr({},C),i);return v.createElement(v.Fragment,null,m&&v.createElement(P,{sideCar:sS,removeScrollBar:h,shards:p,noRelative:y,noIsolation:k,inert:_,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:b}),l?v.cloneElement(v.Children.only(d),Lr(Lr({},M),{ref:I})):v.createElement(w,Lr({},M,{className:u,ref:I}),d))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:Gd,zeroRight:Zd};var CD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ED(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CD();return t&&e.setAttribute("nonce",t),e}function PD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ED())&&(PD(t,n),TD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RD=function(){var e=OD();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iS=function(){var e=RD(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},MD={left:0,top:0,right:0,gap:0},am=function(e){return parseInt(e||"",10)||0},AD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[am(n),am(r),am(i)]},LD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MD;var t=AD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ID=iS(),no="data-scroll-locked",DD=function(e,t,n,r){var i=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zd,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Gd,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(yD,": ").concat(d,`px;
  }
`)},yw=function(){var e=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(e)?e:0},zD=function(){v.useEffect(function(){return document.body.setAttribute(no,(yw()+1).toString()),function(){var e=yw()-1;e<=0?document.body.removeAttribute(no):document.body.setAttribute(no,e.toString())}},[])},$D=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;zD();var o=v.useMemo(function(){return LD(i)},[i]);return v.createElement(ID,{styles:DD(o,!t,i,n?"":"!important")})},Fp=!1;if(typeof window<"u")try{var Ed=Object.defineProperty({},"passive",{get:function(){return Fp=!0,!0}});window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Fp=!1}var Pa=Fp?{passive:!1}:!1,FD=function(e){return e.tagName==="TEXTAREA"},aS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FD(e)&&n[t]==="visible")},BD=function(e){return aS(e,"overflowY")},UD=function(e){return aS(e,"overflowX")},ww=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=oS(e,r);if(i){var o=lS(e,r),l=o[1],d=o[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WD=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},HD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},oS=function(e,t){return e==="v"?BD(t):UD(t)},lS=function(e,t){return e==="v"?WD(t):HD(t)},VD=function(e,t){return e==="h"&&t==="rtl"?-1:1},qD=function(e,t,n,r,i){var o=VD(e,window.getComputedStyle(t).direction),l=o*r,d=n.target,u=t.contains(d),h=!1,m=l>0,p=0,x=0;do{if(!d)break;var y=lS(e,d),k=y[0],_=y[1],N=y[2],S=_-N-o*k;(k||S)&&oS(e,d)&&(p+=S,x+=k);var w=d.parentNode;d=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&d!==document.body||u&&(t.contains(d)||t===d));return(m&&(Math.abs(p)<1||!i)||!m&&(Math.abs(x)<1||!i))&&(h=!0),h},Pd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_w=function(e){return[e.deltaX,e.deltaY]},bw=function(e){return e&&"current"in e?e.current:e},KD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GD=0,Ta=[];function YD(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(GD++)[0],o=v.useState(iS)[0],l=v.useRef(e);v.useEffect(function(){l.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=vD([e.lockRef.current],(e.shards||[]).map(bw),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var S=Pd(_),w=n.current,b="deltaX"in _?_.deltaX:w[0]-S[0],C="deltaY"in _?_.deltaY:w[1]-S[1],P,I=_.target,M=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in _&&M==="h"&&I.type==="range")return!1;var $=ww(M,I);if(!$)return!0;if($?P=M:(P=M==="v"?"h":"v",$=ww(M,I)),!$)return!1;if(!r.current&&"changedTouches"in _&&(b||C)&&(r.current=P),!P)return!0;var H=r.current||P;return qD(H,N,_,H==="h"?b:C,!0)},[]),u=v.useCallback(function(_){var N=_;if(!(!Ta.length||Ta[Ta.length-1]!==o)){var S="deltaY"in N?_w(N):Pd(N),w=t.current.filter(function(P){return P.name===N.type&&(P.target===N.target||N.target===P.shadowParent)&&KD(P.delta,S)})[0];if(w&&w.should){N.cancelable&&N.preventDefault();return}if(!w){var b=(l.current.shards||[]).map(bw).filter(Boolean).filter(function(P){return P.contains(N.target)}),C=b.length>0?d(N,b[0]):!l.current.noIsolation;C&&N.cancelable&&N.preventDefault()}}},[]),h=v.useCallback(function(_,N,S,w){var b={name:_,delta:N,target:S,should:w,shadowParent:QD(S)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),m=v.useCallback(function(_){n.current=Pd(_),r.current=void 0},[]),p=v.useCallback(function(_){h(_.type,_w(_),_.target,d(_,e.lockRef.current))},[]),x=v.useCallback(function(_){h(_.type,Pd(_),_.target,d(_,e.lockRef.current))},[]);v.useEffect(function(){return Ta.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",u,Pa),document.addEventListener("touchmove",u,Pa),document.addEventListener("touchstart",m,Pa),function(){Ta=Ta.filter(function(_){return _!==o}),document.removeEventListener("wheel",u,Pa),document.removeEventListener("touchmove",u,Pa),document.removeEventListener("touchstart",m,Pa)}},[]);var y=e.removeScrollBar,k=e.inert;return v.createElement(v.Fragment,null,k?v.createElement(o,{styles:ZD(i)}):null,y?v.createElement($D,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JD=kD(sS,YD);var Ev=v.forwardRef(function(e,t){return v.createElement(Nh,Lr({},e,{ref:t,sideCar:JD}))});Ev.classNames=Nh.classNames;var XD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oa=new WeakMap,Td=new WeakMap,Od={},om=0,cS=function(e){return e&&(e.host||cS(e.parentNode))},e6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},t6=function(e,t,n,r){var i=e6(t,Array.isArray(e)?e:[e]);Od[n]||(Od[n]=new WeakMap);var o=Od[n],l=[],d=new Set,u=new Set(i),h=function(p){!p||d.has(p)||(d.add(p),h(p.parentNode))};i.forEach(h);var m=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))m(x);else try{var y=x.getAttribute(r),k=y!==null&&y!=="false",_=(Oa.get(x)||0)+1,N=(o.get(x)||0)+1;Oa.set(x,_),o.set(x,N),l.push(x),_===1&&k&&Td.set(x,!0),N===1&&x.setAttribute(n,"true"),k||x.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",x,S)}})};return m(t),d.clear(),om++,function(){l.forEach(function(p){var x=Oa.get(p)-1,y=o.get(p)-1;Oa.set(p,x),o.set(p,y),x||(Td.has(p)||p.removeAttribute(r),Td.delete(p)),y||p.removeAttribute(n)}),om--,om||(Oa=new WeakMap,Oa=new WeakMap,Td=new WeakMap,Od={})}},dS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=XD(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),t6(r,i,n,"aria-hidden")):function(){return null}},Sh="Dialog",[uS,$F]=Zn(Sh),[n6,xr]=uS(Sh),hS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=v.useRef(null),u=v.useRef(null),[h,m]=ii({prop:r,defaultProp:i??!1,onChange:o,caller:Sh});return s.jsx(n6,{scope:t,triggerRef:d,contentRef:u,contentId:ei(),titleId:ei(),descriptionId:ei(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};hS.displayName=Sh;var fS="DialogTrigger",mS=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(fS,n),o=Qe(t,i.triggerRef);return s.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ov(i.open),...r,ref:o,onClick:be(e.onClick,i.onOpenToggle)})});mS.displayName=fS;var Pv="DialogPortal",[r6,pS]=uS(Pv,{forceMount:void 0}),gS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=xr(Pv,t);return s.jsx(r6,{scope:t,forceMount:n,children:v.Children.map(r,l=>s.jsx(hi,{present:n||o.open,children:s.jsx(nh,{asChild:!0,container:i,children:l})}))})};gS.displayName=Pv;var Iu="DialogOverlay",vS=v.forwardRef((e,t)=>{const n=pS(Iu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=xr(Iu,e.__scopeDialog);return o.modal?s.jsx(hi,{present:r||o.open,children:s.jsx(i6,{...i,ref:t})}):null});vS.displayName=Iu;var s6=yo("DialogOverlay.RemoveScroll"),i6=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(Iu,n);return s.jsx(Ev,{as:s6,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ne.div,{"data-state":Ov(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",xS=v.forwardRef((e,t)=>{const n=pS(Qi,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=xr(Qi,e.__scopeDialog);return s.jsx(hi,{present:r||o.open,children:o.modal?s.jsx(a6,{...i,ref:t}):s.jsx(o6,{...i,ref:t})})});xS.displayName=Qi;var a6=v.forwardRef((e,t)=>{const n=xr(Qi,e.__scopeDialog),r=v.useRef(null),i=Qe(t,n.contentRef,r);return v.useEffect(()=>{const o=r.current;if(o)return dS(o)},[]),s.jsx(yS,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:be(e.onFocusOutside,o=>o.preventDefault())})}),o6=v.forwardRef((e,t)=>{const n=xr(Qi,e.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return s.jsx(yS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),yS=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,d=xr(Qi,n),u=v.useRef(null),h=Qe(t,u);return tS(),s.jsxs(s.Fragment,{children:[s.jsx(Cv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(gc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ov(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(l6,{titleId:d.titleId}),s.jsx(d6,{contentRef:u,descriptionId:d.descriptionId})]})]})}),Tv="DialogTitle",wS=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(Tv,n);return s.jsx(Ne.h2,{id:i.titleId,...r,ref:t})});wS.displayName=Tv;var _S="DialogDescription",bS=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(_S,n);return s.jsx(Ne.p,{id:i.descriptionId,...r,ref:t})});bS.displayName=_S;var jS="DialogClose",NS=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=xr(jS,n);return s.jsx(Ne.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>i.onOpenChange(!1))})});NS.displayName=jS;function Ov(e){return e?"open":"closed"}var SS="DialogTitleWarning",[FF,kS]=JP(SS,{contentName:Qi,titleName:Tv,docsSlug:"dialog"}),l6=({titleId:e})=>{const t=kS(SS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},c6="DialogDescriptionWarning",d6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kS(c6).contentName}}.`;return v.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},u6=hS,h6=mS,f6=gS,CS=vS,ES=xS,PS=wS,TS=bS,m6=NS;const p6=u6,g6=h6,v6=f6,OS=v.forwardRef(({className:e,...t},n)=>s.jsx(CS,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OS.displayName=CS.displayName;const RS=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(v6,{children:[s.jsx(OS,{}),s.jsxs(ES,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(m6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(H1,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));RS.displayName=ES.displayName;const MS=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});MS.displayName="DialogHeader";const AS=v.forwardRef(({className:e,...t},n)=>s.jsx(PS,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));AS.displayName=PS.displayName;const LS=v.forwardRef(({className:e,...t},n)=>s.jsx(TS,{ref:n,className:Te("text-sm text-muted-foreground",e),...t}));LS.displayName=TS.displayName;const x6=()=>{const{toast:e}=vt(),[t,n]=v.useState(!1),[r,i]=v.useState(1),o=[{id:1,make:"Toyota",model:"Camry",year:2020,plate:"ABC-1234",color:"Silver",capacity:7,type:"Sedan",verified:!0,active:!0,documents:{registration:!0,insurance:!0,photos:!0}},{id:2,make:"Honda",model:"Accord",year:2019,plate:"XYZ-5678",color:"White",capacity:5,type:"Sedan",verified:!1,active:!1,documents:{registration:!0,insurance:!0,photos:!1}}],l=()=>{n(!0),i(1)},d=()=>{e({title:"Vehicle Submitted! ",description:"We'll verify within 24 hours"}),n(!1)};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsx("div",{className:"bg-gradient-primary p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"My Vehicles"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your registered vehicles"})]}),s.jsxs(p6,{open:t,onOpenChange:n,children:[s.jsx(g6,{asChild:!0,children:s.jsx(z,{variant:"hero",size:"lg",className:"rounded-full",onClick:l,children:s.jsx(_o,{className:"w-5 h-5"})})}),s.jsxs(RS,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(MS,{children:[s.jsx(AS,{children:"Add New Vehicle"}),s.jsxs(LS,{children:["Step ",r," of 3"]})]}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:[1,2,3].map(u=>s.jsx("div",{className:`flex-1 h-2 rounded-full ${u<=r?"bg-primary":"bg-muted"}`},u))}),r===1&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Vehicle Type"}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-md bg-background border border-input",children:[s.jsx("option",{children:"Sedan"}),s.jsx("option",{children:"SUV"}),s.jsx("option",{children:"Van"}),s.jsx("option",{children:"Bus"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Make"}),s.jsxs("select",{className:"w-full px-3 py-2 rounded-md bg-background border border-input",children:[s.jsx("option",{children:"Toyota"}),s.jsx("option",{children:"Honda"}),s.jsx("option",{children:"Nissan"}),s.jsx("option",{children:"Ford"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Model"}),s.jsx(ye,{placeholder:"Camry"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Year"}),s.jsx("select",{className:"w-full px-3 py-2 rounded-md bg-background border border-input",children:Array.from({length:11},(u,h)=>2025-h).map(u=>s.jsx("option",{children:u},u))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Color"}),s.jsx(ye,{placeholder:"Silver"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"License Plate"}),s.jsx(ye,{placeholder:"ABC-1234"})]}),s.jsx(z,{className:"w-full",onClick:()=>i(2),children:"Next"})]}),r===2&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Passenger Capacity"}),s.jsx(ye,{type:"number",min:"1",max:"15",defaultValue:"4"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Air Conditioning"}),s.jsx(sn,{defaultChecked:!0})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Women-only Rides"}),s.jsx(sn,{})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Wheelchair Accessible"}),s.jsx(sn,{})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Child Seats Available"}),s.jsx(sn,{})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>i(1),children:"Back"}),s.jsx(z,{className:"flex-1",onClick:()=>i(3),children:"Next"})]})]}),r===3&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Vehicle Registration"}),s.jsx(ye,{type:"file",accept:".pdf,.jpg,.png"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Insurance Certificate"}),s.jsx(ye,{type:"file",accept:".pdf,.jpg,.png"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Vehicle Photos"}),s.jsx(ye,{type:"file",accept:"image/*",multiple:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload 4 photos: front, back, side, interior"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>i(2),children:"Back"}),s.jsx(z,{variant:"hero",className:"flex-1",onClick:d,children:"Submit for Verification"})]})]})]})]})]})}),s.jsx("div",{className:"container mx-auto px-4 -mt-8",children:o.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(u=>s.jsxs(ne,{className:`glass-card p-6 hover-scale ${u.active?"ring-2 ring-primary shadow-glow":""}`,children:[s.jsx("div",{className:"bg-muted/50 h-48 rounded-lg flex items-center justify-center mb-4",children:s.jsx(xc,{className:"w-24 h-24 text-muted-foreground"})}),u.active&&s.jsx(Pe,{className:"mb-4 animate-glow-pulse",children:"ACTIVE"}),s.jsxs("h3",{className:"text-2xl font-bold mb-2",children:[u.make," ",u.model," ",u.year]}),s.jsxs("div",{className:"bg-gradient-primary text-foreground px-4 py-2 rounded-lg inline-flex items-center gap-2 mb-4 font-mono font-bold",children:[" ",u.plate]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border-2",style:{backgroundColor:u.color.toLowerCase()}}),s.jsx("span",{className:"text-sm",children:u.color})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{children:[u.capacity," passengers"]}),s.jsx("span",{className:"text-muted-foreground",children:Array.from({length:u.capacity}).map((h,m)=>s.jsx("span",{children:""},m))})]}),s.jsx(Pe,{variant:"secondary",children:u.type})]}),s.jsx("div",{className:"mb-4",children:u.verified?s.jsx(Pe,{className:"bg-primary/20 text-primary text-lg px-4 py-2",children:" Verified"}):s.jsx(Pe,{variant:"secondary",className:"bg-accent/20 text-accent text-lg px-4 py-2",children:" Pending Verification"})}),s.jsxs("div",{className:"space-y-1 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:u.documents.registration?"":""}),s.jsx("span",{children:"Registration"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:u.documents.insurance?"":""}),s.jsx("span",{children:"Insurance"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:u.documents.photos?"":""}),s.jsx("span",{children:"Photos"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary/10 rounded-lg mb-4",children:[s.jsx("span",{className:"font-medium",children:"Set as Active Vehicle"}),s.jsx(sn,{checked:u.active})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(cO,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(ai,{className:"w-4 h-4 mr-2"}),"Documents"]}),s.jsx(z,{variant:"outline",size:"sm",children:s.jsx($1,{className:"w-4 h-4 text-destructive"})})]})]},u.id))}):s.jsxs(ne,{className:"glass-card p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"No vehicles registered yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first vehicle to start offering rides"}),s.jsxs(z,{variant:"hero",size:"lg",onClick:l,children:[s.jsx(_o,{className:"w-5 h-5 mr-2"}),"Add Vehicle"]})]})}),s.jsx(ms,{})]})};var y6=v.createContext(void 0);function Rv(e){const t=v.useContext(y6);return e||t||"ltr"}var lm="rovingFocusGroup.onEntryFocus",w6={bubbles:!1,cancelable:!0},kc="RovingFocusGroup",[Bp,IS,_6]=Vg(kc),[b6,DS]=Zn(kc,[_6]),[j6,N6]=b6(kc),zS=v.forwardRef((e,t)=>s.jsx(Bp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Bp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(S6,{...e,ref:t})})}));zS.displayName=kc;var S6=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=v.useRef(null),y=Qe(t,x),k=Rv(o),[_,N]=ii({prop:l,defaultProp:d??null,onChange:u,caller:kc}),[S,w]=v.useState(!1),b=Mn(h),C=IS(n),P=v.useRef(!1),[I,M]=v.useState(0);return v.useEffect(()=>{const $=x.current;if($)return $.addEventListener(lm,b),()=>$.removeEventListener(lm,b)},[b]),s.jsx(j6,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:_,onItemFocus:v.useCallback($=>N($),[N]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>M($=>$+1),[]),onFocusableItemRemove:v.useCallback(()=>M($=>$-1),[]),children:s.jsx(Ne.div,{tabIndex:S||I===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{P.current=!0}),onFocus:be(e.onFocus,$=>{const H=!P.current;if($.target===$.currentTarget&&H&&!S){const G=new CustomEvent(lm,w6);if($.currentTarget.dispatchEvent(G),!G.defaultPrevented){const Y=C().filter(V=>V.focusable),X=Y.find(V=>V.active),J=Y.find(V=>V.id===_),Z=[X,J,...Y].filter(Boolean).map(V=>V.ref.current);BS(Z,m)}}P.current=!1}),onBlur:be(e.onBlur,()=>w(!1))})})}),$S="RovingFocusGroupItem",FS=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...d}=e,u=ei(),h=o||u,m=N6($S,n),p=m.currentTabStopId===h,x=IS(n),{onFocusableItemAdd:y,onFocusableItemRemove:k,currentTabStopId:_}=m;return v.useEffect(()=>{if(r)return y(),()=>k()},[r,y,k]),s.jsx(Bp.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(Ne.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:be(e.onMouseDown,N=>{r?m.onItemFocus(h):N.preventDefault()}),onFocus:be(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:be(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){m.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const S=E6(N,m.orientation,m.dir);if(S!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let b=x().filter(C=>C.focusable).map(C=>C.ref.current);if(S==="last")b.reverse();else if(S==="prev"||S==="next"){S==="prev"&&b.reverse();const C=b.indexOf(N.currentTarget);b=m.loop?P6(b,C+1):b.slice(C+1)}setTimeout(()=>BS(b))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:_!=null}):l})})});FS.displayName=$S;var k6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function C6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function E6(e,t,n){const r=C6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k6[r]}function BS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function P6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var T6=zS,O6=FS,kh="Tabs",[R6,BF]=Zn(kh,[DS]),US=DS(),[M6,Mv]=R6(kh),WS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=e,m=Rv(d),[p,x]=ii({prop:r,onChange:i,defaultProp:o??"",caller:kh});return s.jsx(M6,{scope:n,baseId:ei(),value:p,onValueChange:x,orientation:l,dir:m,activationMode:u,children:s.jsx(Ne.div,{dir:m,"data-orientation":l,...h,ref:t})})});WS.displayName=kh;var HS="TabsList",VS=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=Mv(HS,n),l=US(n);return s.jsx(T6,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(Ne.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});VS.displayName=HS;var qS="TabsTrigger",KS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=Mv(qS,n),d=US(n),u=YS(l.baseId,r),h=QS(l.baseId,r),m=r===l.value;return s.jsx(O6,{asChild:!0,...d,focusable:!i,active:m,children:s.jsx(Ne.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:be(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:be(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!i&&p&&l.onValueChange(r)})})})});KS.displayName=qS;var ZS="TabsContent",GS=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,d=Mv(ZS,n),u=YS(d.baseId,r),h=QS(d.baseId,r),m=r===d.value,p=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(hi,{present:i||m,children:({present:x})=>s.jsx(Ne.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&o})})});GS.displayName=ZS;function YS(e,t){return`${e}-trigger-${t}`}function QS(e,t){return`${e}-content-${t}`}var A6=WS,JS=VS,XS=KS,e2=GS;const Cc=A6,Do=v.forwardRef(({className:e,...t},n)=>s.jsx(JS,{ref:n,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Do.displayName=JS.displayName;const Bt=v.forwardRef(({className:e,...t},n)=>s.jsx(XS,{ref:n,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Bt.displayName=XS.displayName;const Al=v.forwardRef(({className:e,...t},n)=>s.jsx(e2,{ref:n,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Al.displayName=e2.displayName;const L6=()=>{const[e]=v.useState(156),t=23,n=[{icon:"",title:"As Passenger",rate:"0.3 credits per km",example:"10 km ride = 3 credits",average:"12 km/day = 36 credits/month"},{icon:"",title:"As Driver",rate:"0.5 credits per km",example:"10 km ride with 4 passengers = 5 credits",bonus:"+1 credit per passenger"},{icon:"",title:"Referral Bonus",rate:"10 credits per friend",example:"Refer friends and earn!",earned:"3 friends = 30 credits earned"},{icon:"",title:"Bonus Activities",items:["Daily login: +1 credit","Complete profile: +5 credits","First ride: +10 credits","10 rides milestone: +20 credits"]}],r=[{id:1,type:"earned",description:"Completed ride to Indian School",details:"12 km  As passenger",amount:3.6,date:"Oct 14, 7:30 AM",balance:156},{id:2,type:"earned",description:"Driver bonus - Full carpool",details:"4 passengers",amount:2,date:"Oct 13, 3:00 PM",balance:152.4},{id:3,type:"spent",description:"Redeemed for fuel voucher",details:"Shell station",amount:-20,date:"Oct 12, 10:15 AM",balance:150.4},{id:4,type:"earned",description:"Referral bonus",details:"Friend Sara joined",amount:10,date:"Oct 11, 9:00 AM",balance:170.4},{id:5,type:"earned",description:"Completed ride from Seeb",details:"8 km  As passenger",amount:2.4,date:"Oct 10, 7:45 AM",balance:160.4}],i=[{icon:"",title:"Fuel Vouchers",description:"20 credits = 1 OMR fuel",minimum:"Minimum: 40 credits",popular:!0},{icon:"",title:"Coffee/Food",description:"10 credits = Free coffee",extra:"50 credits = Meal voucher"},{icon:"",title:"Plant Trees",description:"25 credits = Plant 1 tree in Oman",impact:"Offset 10kg CO/year"},{icon:"",title:"Charity Donation",description:"Donate to Oman Charity",custom:"Custom amount"},{icon:"",title:"Premium Upgrade",description:"100 credits = 1 month Premium",features:"Unlimited rides, 2x earning rate"}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"bg-gradient-primary p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:" EcoWallet"}),s.jsx("p",{className:"text-muted-foreground",children:"Your sustainable savings"})]}),s.jsxs("div",{className:"container mx-auto px-4 -mt-8",children:[s.jsxs(ne,{className:"glass-card p-8 text-center mb-6 animate-scale-in",children:[s.jsx("div",{className:"mb-4",children:s.jsx(QT,{className:"w-12 h-12 mx-auto text-accent animate-glow-pulse"})}),s.jsx("div",{className:"text-6xl font-bold text-accent mb-2",children:e}),s.jsx("div",{className:"text-lg text-muted-foreground mb-4",children:"EcoCredits"}),s.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["= ",(e*.05).toFixed(2)," OMR"]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:[" +",t," this week"]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(z,{variant:"hero",className:"flex-1",children:"Redeem Credits"}),s.jsx(z,{variant:"secondary",className:"flex-1",children:"Earn More"})]})]}),s.jsxs(Cc,{defaultValue:"earn",className:"w-full",children:[s.jsxs(Do,{className:"grid w-full grid-cols-3 mb-6",children:[s.jsx(Bt,{value:"earn",children:" Earn"}),s.jsx(Bt,{value:"history",children:" History"}),s.jsx(Bt,{value:"redeem",children:" Redeem"})]}),s.jsxs(Al,{value:"earn",className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How to Earn"}),n.map((o,l)=>s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:o.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:o.title}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"text-primary font-medium",children:o.rate}),s.jsx("p",{className:"text-muted-foreground",children:o.example}),o.average&&s.jsx("p",{className:"text-muted-foreground",children:o.average}),o.bonus&&s.jsx("p",{className:"text-secondary",children:o.bonus}),o.earned&&s.jsx("p",{className:"text-primary",children:o.earned}),o.items&&s.jsx("ul",{className:"space-y-1 mt-2",children:o.items.map((d,u)=>s.jsxs("li",{className:"text-muted-foreground",children:[" ",d]},u))})]})]})]})},l))]}),s.jsxs(Al,{value:"history",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Recent Transactions"}),s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx(Jg,{className:"w-4 h-4 mr-2"}),"Export"]})]}),r.map(o=>s.jsx(ne,{className:"glass-card p-4 hover-scale",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-full ${o.type==="earned"?"bg-primary/20":"bg-destructive/20"}`,children:o.type==="earned"?s.jsx(qT,{className:"w-5 h-5 text-primary"}):s.jsx(KT,{className:"w-5 h-5 text-destructive"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:o.description}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.details}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.date,"  Balance: ",o.balance]})]}),s.jsxs("div",{className:`text-xl font-bold ${o.type==="earned"?"text-primary":"text-destructive"}`,children:[o.amount>0?"+":"",o.amount]})]})},o.id))]}),s.jsxs(Al,{value:"redeem",className:"space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Redeem Your Credits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"1 credit = 0.05 OMR value"})]}),i.map((o,l)=>s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:o.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:o.title}),o.popular&&s.jsx(Pe,{className:"bg-accent text-accent-foreground",children:"Popular"})]}),s.jsx("p",{className:"text-sm font-medium text-primary mb-1",children:o.description}),o.minimum&&s.jsx("p",{className:"text-xs text-muted-foreground",children:o.minimum}),o.extra&&s.jsx("p",{className:"text-xs text-muted-foreground",children:o.extra}),o.impact&&s.jsx("p",{className:"text-xs text-secondary",children:o.impact}),o.custom&&s.jsx("p",{className:"text-xs text-muted-foreground",children:o.custom}),o.features&&s.jsx("p",{className:"text-xs text-muted-foreground",children:o.features})]}),s.jsx(z,{variant:"default",size:"sm",children:"Redeem"})]})},l))]})]}),s.jsxs(ne,{className:"glass-card p-6 mt-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:" Your Earnings Stats"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earned"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:"456"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:"300"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earning Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:"15/week"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Projected Monthly"}),s.jsx("p",{className:"text-2xl font-bold text-secondary",children:"60"})]})]})]})]}),s.jsx(ms,{})]})},I6=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(""),[i,o]=v.useState(""),[l,d]=v.useState(""),[u,h]=v.useState(""),[m,p]=v.useState(""),[x,y]=v.useState(!1),[k,_]=v.useState(!1),N=async w=>{try{const{data:b}=await me.from("drivers").select("status").eq("user_id",w).maybeSingle();sessionStorage.removeItem("driver-demo-verified"),sessionStorage.removeItem("driver-demo-name"),(b==null?void 0:b.status)==="verified"?e("/driver"):(t({title:"Next Step",description:"Finish your vehicle verification to unlock routes."}),e("/driver-verification"))}catch(b){console.error("Failed to resolve driver redirect",b),e("/driver")}},S=async w=>{if(w.preventDefault(),!k){if(!n||!i){t({title:"Missing details",description:"Email and password are required",variant:"destructive"});return}if(x&&i!==l){t({title:"Passwords do not match",description:"Please make sure both password fields match",variant:"destructive"});return}_(!0);try{if(x){const I=u.trim()||n.split("@")[0],{data:M,error:$}=await me.auth.signUp({email:n,password:i,options:{data:{full_name:u.trim()||n.split("@")[0],phone:m.trim()||void 0}}});if($)throw $;const H=(M==null?void 0:M.user)??null,G=(M==null?void 0:M.session)??null;if(sessionStorage.setItem("driver-demo-name",I),H&&G){localStorage.setItem("userRole","driver"),t({title:"Account ready",description:"Let's finish your driver verification."}),await N(H.id);return}const{data:Y,error:X}=await me.auth.signInWithPassword({email:n,password:i});if(!X&&Y.user){localStorage.setItem("userRole","driver"),t({title:"Account ready",description:"Let's finish your driver verification."}),await N(Y.user.id);return}localStorage.setItem("userRole","driver"),sessionStorage.setItem("driver-demo-verified","false"),t({title:"Demo account created",description:"We'll keep you in instant verification mode for the demo."}),e("/driver-verification");return}const{data:b,error:C}=await me.auth.signInWithPassword({email:n,password:i});if(C)throw C;const P=b.user??(await me.auth.getUser()).data.user;if(!P)throw new Error("We couldn't find your driver account.");localStorage.setItem("userRole","driver"),t({title:"Login Successful!",description:"Welcome back, driver!"}),await N(P.id)}catch(b){console.error("Driver auth failed",b),t({title:"Authentication failed",description:b.message||"Unable to sign you in right now",variant:"destructive"})}finally{_(!1)}}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(z,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[s.jsx(zt,{className:"mr-2 w-4 h-4"}),"Back to Home"]}),s.jsxs(ne,{className:"glass-card p-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4",children:s.jsx(_n,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Driver Portal"}),s.jsx("p",{className:"text-muted-foreground",children:"Login to manage your routes and earnings"})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Driver Email"}),s.jsx(ye,{id:"email",type:"email",placeholder:"driver@ecpool360.com",value:n,onChange:w=>r(w.target.value),disabled:k,required:!0})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"fullName",children:"Full Name"}),s.jsx(ye,{id:"fullName",type:"text",placeholder:"Enter your full name",value:u,onChange:w=>h(w.target.value),disabled:k})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ye,{id:"phone",type:"tel",placeholder:"e.g., +968 9XXXXXXX",value:m,onChange:w=>p(w.target.value),disabled:k})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"password",children:"Password"}),s.jsx(ye,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:w=>o(w.target.value),disabled:k,required:!0})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(ye,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:l,onChange:w=>d(w.target.value),disabled:k,required:!0})]}),!x&&s.jsx("div",{className:"flex justify-end text-sm",children:s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>{t({title:"Reset link sent",description:"Check your email to reset your password."})},children:"Forgot password?"})}),s.jsx(z,{type:"submit",className:"w-full",variant:"hero",size:"lg",disabled:k,children:k?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"mr-2 w-4 h-4 animate-spin"}),x?"Creating driver account":"Signing in"]}):s.jsxs(s.Fragment,{children:[x?s.jsx(B1,{className:"mr-2 w-4 h-4"}):s.jsx(Xs,{className:"mr-2 w-4 h-4"}),x?"Create driver account":"Login as driver"]})}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>y(!x),disabled:k,children:x?"Have an account? Sign in":"Need an account? Become a driver"})}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx(zA,{to:"/auth",className:"text-primary hover:underline",children:"Switch to Student Portal"})})]}),s.jsx("div",{className:"mt-6 p-4 bg-primary/10 rounded-lg",children:s.jsxs("p",{className:"text-sm text-center",children:[s.jsx(Xs,{className:"inline w-4 h-4 mr-1"}),"All drivers are verified for safety"]})})]})]})})},yr=()=>{const e=Ke(),t=gs(),n=i=>t.pathname===i,r=[{path:"/driver/dashboard",icon:sa,label:"Home"},{path:"/driver/routes",icon:at,label:"Routes"},{path:"/driver/earnings",icon:wo,label:"Earnings"},{path:"/driver/attendance",icon:Yt,label:"Attendance"},{path:"/driver/profile",icon:ia,label:"Profile"}];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 glass-card border-t border-border rounded-t-3xl shadow-card",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"flex items-center justify-around h-[70px]",children:r.map(i=>{const o=i.icon,l=n(i.path);return s.jsxs("button",{onClick:()=>e(i.path),className:`flex flex-col items-center justify-center gap-1 px-4 py-2 rounded-xl transition-all duration-300 hover:scale-110 relative group ${l?"text-primary":"text-muted-foreground"}`,children:[l&&s.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-xl animate-glow-pulse"}),s.jsx("div",{className:"relative",children:s.jsx(o,{className:`w-6 h-6 transition-all duration-300 ${l?"scale-110":""}`,strokeWidth:l?2.5:2})}),s.jsx("span",{className:`text-xs font-medium transition-all duration-300 ${l?"text-primary font-semibold":""}`,children:i.label}),l&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-full"})]},i.path)})})})})},D6=[{id:"demo-green",name:"Green Route",from:"Al Mouj",to:"Knowledge Oasis",depart:"6:40 AM",seats:9,co2Saved:6.8},{id:"demo-coast",name:"Coastal Loop",from:"Qurum Heights",to:"Madinat Al Irfan",depart:"7:05 AM",seats:7,co2Saved:5.4},{id:"demo-campus",name:"Campus Shuttle",from:"Sultan Qaboos University",to:"Eco Hub",depart:"7:30 AM",seats:8,co2Saved:5.9}],jw=e=>{if(!e)return"Just now";const t=new Date(e);if(Number.isNaN(t.getTime()))return"Just now";const n=Date.now()-t.getTime(),r=Math.floor(n/6e4);if(r<1)return"Just now";if(r<60)return`${r} min${r===1?"":"s"} ago`;const i=Math.floor(r/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`},z6=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(!1),[i,o]=v.useState(!1),[l,d]=v.useState(!0),[u,h]=v.useState(null),[m,p]=v.useState("Driver"),[x,y]=v.useState({ridesOffered:0,ecoCredits:0,ecoTrend:"",co2SavedKg:0,rating:null}),[k,_]=v.useState([]),[N,S]=v.useState([]),[w,b]=v.useState(null),[C,P]=v.useState(null),[I,M]=v.useState(!1),[$,H]=v.useState(null),G=W=>{r(W),t({title:W?"You're Online!":"You're Offline",description:W?"You can now receive ride requests":"You won't receive new requests"})},Y=()=>{o(!0),t({title:"Trip Started!",description:"Navigate to live tracking..."})},X=()=>{o(!1),t({title:"Trip Completed!",description:"Great job! Earnings updated."})};v.useEffect(()=>{let W=!0;return(async()=>{d(!0),h(null);const{data:se,error:Q}=await me.auth.getUser();if(Q){console.error("Failed to load driver auth state",Q),W&&(h("Unable to verify your session. Please sign in again."),d(!1));return}if(!(se!=null&&se.user)){W&&(h("Please sign in to access the driver dashboard."),d(!1));return}try{const ie=await jN(se.user.id);if(!W)return;p(ie.profileName),y(ie.stats),_(ie.activeRoutes),S(ie.upcomingRoutes)}catch(ie){console.error("Failed to load driver dashboard",ie),W&&h("Could not load driver data. Please try again shortly.")}finally{W&&d(!1)}})(),()=>{W=!1}},[]);const J=v.useMemo(()=>[...k,...N],[k,N]);v.useEffect(()=>{if(J.length===0){w!==null&&b(null);return}w&&J.some(W=>W.id===w)||b(J[0].id)},[J,w]),v.useEffect(()=>{if(!w){P(null),H(null),M(!1);return}let W=!0;return M(!0),H(null),bh(w).then(D=>{W&&P(D)}).catch(D=>{console.error("Failed to load driver route context",D),W&&H("Could not load live route details. Try again in a moment.")}).finally(()=>{W&&M(!1)}),()=>{W=!1}},[w]);const O=v.useMemo(()=>w?J.find(W=>W.id===w)??null:null,[J,w]);v.useEffect(()=>{o((O==null?void 0:O.status)==="active")},[w]);const Z=v.useMemo(()=>{if(!O||!C)return null;const W=[],D=[],se=[],Q=C.route.start_time||O.route.start_time||O.route.created_at||null,ie=Q?Q.split("T")[0]:null,te=new Map;ie&&C.attendance.forEach(oe=>{oe.student_id&&oe.date===ie&&te.set(oe.student_id,(oe.status??"pending").toLowerCase())}),te.size===0&&C.attendance.forEach(oe=>{oe.student_id&&te.set(oe.student_id,(oe.status??"pending").toLowerCase())});const A=C.route.start_location||O.from;if(A){const oe=mn(A,0);oe&&(W.push({lat:oe.lat,lng:oe.lng,icon:"",color:"blue",label:`Route start  ${A}`}),se.push(A))}C.bookings.forEach((oe,ve)=>{const Ue=oe.pickup_location??`Stop ${ve+1}`,Je=mn(Ue,ve+1),ht=oe.student_id??`${oe.id}`,tt=(te.get(ht)??"pending").toLowerCase();Je&&W.push({lat:Je.lat,lng:Je.lng,icon:tt==="absent"?"":`${ve+1}`,color:tt==="absent"?"gray":tt==="present"?"green":"orange",label:`${Ue}  ${tt==="present"?"Present":tt==="absent"?"Marked absent":"Awaiting"}`}),se.push(Ue),D.push({name:Ue,status:tt})});const ae=C.route.end_location||O.to;if(ae){const oe=mn(ae,C.bookings.length+1);oe&&(W.push({lat:oe.lat,lng:oe.lng,icon:"",color:"orange",label:`Destination  ${ae}`}),se.push(ae))}let de=null;if(C.liveLocations.length>0){const oe=C.liveLocations.reduce((ve,Ue)=>{if(!ve)return Ue;const Je=new Date(ve.updated_at??"").getTime();return new Date(Ue.updated_at??"").getTime()>Je?Ue:ve},C.liveLocations[0]);oe&&(de=oe.updated_at??null,W.push({lat:oe.latitude,lng:oe.longitude,icon:"",color:"blue",label:`Live bus  ${jw(de)}`}))}const pe=D.filter(oe=>oe.status==="present").length,fe=D.filter(oe=>oe.status!=="present").length;return{markers:W,routeCoordinates:se.length>0?oc(ac(se)):[],stopSummaries:D,lastBusPing:de,presentCount:pe,pendingCount:fe}},[O,C]),V=v.useMemo(()=>C?C.bookings.map((W,D)=>{var Q;if(!W.student_id)return null;const se=((Q=C.attendance.find(ie=>ie.student_id===W.student_id))==null?void 0:Q.status)??"pending";return{id:W.id,student_id:W.student_id,status:(se??"pending").toLowerCase(),pickup_location:W.pickup_location??`Stop ${D+1}`}}).filter(Boolean):[],[C]),B=J.length>0,T=v.useMemo(()=>{if(!O)return[];const W=[],D=mn(O.from,0);D&&W.push({lat:D.lat,lng:D.lng,icon:"",color:"blue",label:O.from});const se=mn(O.to,1);return se&&W.push({lat:se.lat,lng:se.lng,icon:"",color:"orange",label:O.to}),W},[O]),K=v.useMemo(()=>O?oc(ac([O.from,O.to])):[],[O]),U=v.useMemo(()=>Z!=null&&Z.stopSummaries.length?Z.stopSummaries.find(W=>W.status!=="absent")??Z.stopSummaries[0]:null,[Z]);return l?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[s.jsx(At,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your driver dashboard..."})]}):u?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4 text-center px-6",children:[s.jsx(hr,{className:"w-12 h-12 text-destructive"}),s.jsx("p",{className:"text-muted-foreground max-w-sm",children:u}),s.jsx(z,{variant:"outline",onClick:()=>e("/"),children:"Go Home"})]}):s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",m,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Keep routes efficient and students on time"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/settings"),children:s.jsx(ev,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center gap-3 glass-card px-4 py-2 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:n?"Online":"Offline"}),s.jsx(sn,{checked:n,onCheckedChange:G})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"EcoCredits"}),s.jsx("p",{className:"text-3xl font-bold text-primary mt-2",children:x.ecoCredits}),s.jsx("p",{className:"text-xs text-green-500 mt-1",children:x.ecoTrend||"Stay consistent for bonuses"})]}),s.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:s.jsx(wo,{className:"w-6 h-6 text-primary"})})]})}),s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Routes Live"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:k.length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N.length," upcoming"]})]}),s.jsx("div",{className:"p-3 bg-secondary/10 rounded-xl",children:s.jsx(_n,{className:"w-6 h-6 text-secondary"})})]})}),s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rating"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:x.rating?x.rating.toFixed(1):"New"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Community feedback"})]}),s.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl",children:s.jsx(tv,{className:"w-6 h-6 text-yellow-500"})})]})}),s.jsx(ne,{className:"glass-card p-6 hover-scale",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"CO Saved"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:[x.co2SavedKg," kg"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Across active routes"})]}),s.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-xl",children:s.jsx(wt,{className:"w-6 h-6 text-cyan-500"})})]})})]}),s.jsx(ne,{className:"glass-card p-6 mb-8 animate-slide-up",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:B?J.map(W=>s.jsxs(z,{variant:W.id===w?"hero":"outline",size:"sm",onClick:()=>b(W.id),children:[s.jsx("span",{className:"font-semibold",children:W.routeName||"Route"}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[W.from,"  ",W.to]})]},W.id)):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Offer a ride to unlock real-time tracking and AI rerouting."})}),B&&O?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold",children:[O.from,"  ",O.to]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Departs ",O.startTimeDisplay,"  ",O.seatsBooked," passengers booked"]})]}),s.jsx(Pe,{variant:i?"default":"secondary",children:O.status==="completed"?"Completed":i?"In Progress":"Ready"})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[I?s.jsxs("div",{className:"flex h-72 items-center justify-center gap-3 text-muted-foreground rounded-xl border border-dashed border-border",children:[s.jsx(At,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Loading live map"})]}):$?s.jsx("div",{className:"flex h-72 items-center justify-center text-sm text-muted-foreground rounded-xl border border-dashed border-border text-center px-4",children:$}):s.jsx(ca,{className:"h-72 w-full rounded-xl overflow-hidden",markers:(Z==null?void 0:Z.markers)??T,route:(Z==null?void 0:Z.routeCoordinates)??K,darkMode:!0}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border px-3 py-2",children:[s.jsx(at,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Next pickup"}),s.jsx("p",{className:"font-semibold",children:U?U.name:"Pending"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border px-3 py-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-secondary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Passengers"}),s.jsxs("p",{className:"font-semibold",children:[O.seatsBooked," students"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border px-3 py-2",children:[s.jsx(wt,{className:"w-5 h-5 text-accent"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Depart"}),s.jsx("p",{className:"font-semibold",children:O.startTimeDisplay})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[i?s.jsxs(z,{onClick:X,className:"flex-1",size:"lg",variant:"destructive",children:[s.jsx(dO,{className:"mr-2 w-4 h-4"}),"End Trip"]}):s.jsxs(z,{onClick:Y,className:"flex-1",size:"lg",variant:"hero",children:[s.jsx(iO,{className:"mr-2 w-4 h-4"}),"Start Trip"]}),s.jsxs(z,{size:"lg",variant:"outline",className:"flex-1",onClick:()=>e(`/live-tracking?routeId=${O.id}`),children:[s.jsx(Gi,{className:"mr-2 w-4 h-4"}),"Live Tracking"]}),s.jsxs(z,{size:"lg",variant:"outline",children:[s.jsx(hr,{className:"mr-2 w-4 h-4"}),"SOS"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg border border-border p-4",children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Passenger readiness"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"rounded-lg bg-green-500/10 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Checked-in"}),s.jsx("p",{className:"text-xl font-semibold text-green-500",children:(Z==null?void 0:Z.presentCount)??0})]}),s.jsxs("div",{className:"rounded-lg bg-amber-500/10 p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting"}),s.jsx("p",{className:"text-xl font-semibold text-amber-500",children:(Z==null?void 0:Z.pendingCount)??0})]})]}),s.jsx("p",{className:"mt-3 text-xs text-muted-foreground",children:Z!=null&&Z.lastBusPing?`Last GPS ping ${jw(Z.lastBusPing)}`:"Share the driver app to broadcast live GPS updates."})]}),s.jsx("div",{className:"space-y-2 max-h-52 overflow-y-auto pr-1",children:Z!=null&&Z.stopSummaries.length?Z.stopSummaries.map((W,D)=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:W.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stop ",D+1]})]}),s.jsx("span",{className:`text-xs font-semibold uppercase ${W.status==="present"?"text-green-500":W.status==="absent"?"text-gray-400":"text-amber-500"}`,children:W.status==="present"?"Present":W.status==="absent"?"Absent":"Pending"})]},`${W.name}-${D}`)):s.jsx("div",{className:"rounded-lg border border-dashed border-border px-3 py-6 text-sm text-muted-foreground text-center",children:"No passengers assigned yet. New bookings will appear here instantly."})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(bv,{routeId:O.id,attendance:V}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI rerouting balances attendance, CO savings, and live GPS to keep your trip on schedule."})]})]})]})]}):s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"No routes yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Offer your first ride to unlock live tracking, AI rerouting, and real-time CO insights."}),s.jsxs(z,{variant:"hero",size:"lg",className:"w-full",onClick:()=>e("/offer-ride"),children:[s.jsx(os,{className:"mr-2"}),"Offer a Route"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Popular ideas"}),s.jsx("div",{className:"space-y-2",children:D6.map(W=>s.jsxs("div",{className:"rounded-lg border border-border px-4 py-3",children:[s.jsx("p",{className:"text-sm font-semibold",children:W.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[W.from,"  ",W.to]}),s.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{children:W.depart}),s.jsxs("span",{children:[W.seats," seats"]}),s.jsxs("span",{children:[W.co2Saved," kg CO"]})]})]},W.id))})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(z,{variant:"outline",size:"lg",className:"h-24",onClick:()=>e("/driver/routes"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(at,{className:"w-8 h-8"}),s.jsx("span",{children:"View Today's Routes"})]})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-24",onClick:()=>e("/driver/earnings"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(wo,{className:"w-8 h-8"}),s.jsx("span",{children:"Check Earnings"})]})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-24",onClick:()=>e("/driver/stats"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(ah,{className:"w-8 h-8"}),s.jsx("span",{children:"Performance Stats"})]})})]})]}),s.jsx(yr,{})]})},$6=()=>{const e=Ke(),[t,n]=v.useState("today"),r=[{id:1,name:"Seeb - Indian School",time:"7:00 AM - 8:30 AM",start:"Seeb Bus Terminal",end:"Indian School",passengers:18,earnings:18.5,status:"completed",distance:"12 km"},{id:2,name:"Qurum - Sultan Qaboos University",time:"8:45 AM - 10:00 AM",start:"Qurum Commercial Area",end:"Sultan Qaboos University",passengers:12,earnings:15,status:"in-progress",distance:"8 km"},{id:3,name:"Al Khuwair - Muscat Grand Mall",time:"2:00 PM - 3:30 PM",start:"Al Khuwair",end:"Muscat Grand Mall",passengers:15,earnings:12,status:"upcoming",distance:"10 km"}],i=o=>{switch(o){case"completed":return s.jsx(Pe,{className:"bg-green-500",children:"Completed"});case"in-progress":return s.jsx(Pe,{className:"bg-blue-500",children:"In Progress"});case"upcoming":return s.jsx(Pe,{variant:"secondary",children:"Upcoming"});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"My Routes"}),s.jsx("p",{className:"text-muted-foreground",children:"Today's Schedule - Oct 15, 2025"})]})]}),s.jsxs(z,{variant:"outline",onClick:()=>e("/driver/navigation"),children:[s.jsx(Yt,{className:"mr-2 w-4 h-4"}),"View Calendar"]})]}),s.jsx(Cc,{value:t,onValueChange:n,className:"mb-8",children:s.jsxs(Do,{className:"grid w-full grid-cols-3 max-w-md",children:[s.jsx(Bt,{value:"today",children:"Today"}),s.jsx(Bt,{value:"week",children:"This Week"}),s.jsx(Bt,{value:"next",children:"Next Week"})]})}),s.jsx("div",{className:"space-y-6",children:r.map((o,l)=>s.jsxs(ne,{className:"glass-card p-6 hover-scale animate-slide-up",style:{animationDelay:`${l*.1}s`},children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:o.name}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(wt,{className:"w-4 h-4"}),s.jsx("span",{children:o.time})]})]}),i(o.status)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(at,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Start"}),s.jsx("p",{className:"font-semibold text-sm",children:o.start})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-secondary/10 rounded-lg",children:s.jsx(at,{className:"w-5 h-5 text-secondary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"End"}),s.jsx("p",{className:"font-semibold text-sm",children:o.end})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:s.jsx(Wr,{className:"w-5 h-5 text-accent"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Passengers"}),s.jsxs("p",{className:"font-semibold text-sm",children:[o.passengers," students"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsx(wo,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Earnings"}),s.jsxs("p",{className:"font-semibold text-sm",children:["OMR ",o.earnings]})]})]})]}),s.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:s.jsx(ca,{className:"h-[200px] w-full",markers:[{lat:23.588,lng:58.3829,label:o.start,icon:"",color:"green"},{lat:23.615,lng:58.43,label:o.end,icon:"",color:"red"}],route:[[23.588,58.3829],[23.615,58.43]]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{variant:"hero",className:"flex-1",onClick:()=>e("/driver/navigation"),children:[s.jsx(Gi,{className:"mr-2 w-4 h-4"}),"Start Navigation"]}),s.jsx(z,{variant:"outline",className:"flex-1",onClick:()=>e(`/driver/routes/${o.id}`),children:"View Full Route Map"})]})]},o.id))})]}),s.jsx(yr,{})]})},F6=()=>{const e=Ke();v.useState("today");const t=[{date:"Oct 15, 7:00 AM",route:"Seeb - School",passengers:18,amount:18.5},{date:"Oct 15, 8:45 AM",route:"Qurum - University",passengers:12,amount:12},{date:"Oct 15, 2:00 PM",route:"Al Khuwair - Mall",passengers:8,amount:8},{date:"Oct 14, 7:15 AM",route:"Ruwi - School",passengers:15,amount:15}],n=[{day:"Monday",amount:42.3,trips:10},{day:"Tuesday",amount:38.9,trips:9},{day:"Wednesday",amount:45.5,trips:12},{day:"Thursday",amount:0,trips:0},{day:"Friday",amount:0,trips:0},{day:"Saturday",amount:0,trips:0},{day:"Sunday",amount:0,trips:0}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"EcoCredits"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your earnings"})]})]}),s.jsxs(z,{variant:"outline",children:[s.jsx(Jg,{className:"mr-2 w-4 h-4"}),"Export"]})]}),s.jsxs(ne,{className:"glass-card p-8 mb-8 animate-scale-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Today's Credits Earned"}),s.jsx("p",{className:"text-6xl font-bold text-primary mb-2",children:"+455 EC"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500",children:[s.jsx(fi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"+12% vs yesterday"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Trips"}),s.jsx("p",{className:"text-3xl font-bold",children:"12"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Credits per Trip"}),s.jsx("p",{className:"text-3xl font-bold",children:"38 EC"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"CO Saved"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500 flex items-center justify-center gap-2",children:[s.jsx(bn,{className:"w-6 h-6"}),"45 kg"]})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"This Week"}),s.jsx("div",{className:"space-y-4",children:n.map(r=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-secondary/5 hover:bg-secondary/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Yt,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-semibold",children:r.day})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trips"}),s.jsx("p",{className:"font-semibold",children:r.trips})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Credits"}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:[Math.floor(r.amount*10)," EC"]})]})]})]},r.day))}),s.jsx("div",{className:"mt-6 p-4 bg-primary/10 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Weekly Total"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:"1,267 EC"})]})})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Redeem Credits"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Available EcoCredits"}),s.jsx("p",{className:"text-4xl font-bold text-primary",children:"4,503 EC"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(z,{variant:"hero",size:"lg",children:[s.jsx(U1,{className:"mr-2 w-4 h-4"}),"Convert to Cash"]}),s.jsxs(z,{variant:"outline",size:"lg",children:[s.jsx(JT,{className:"mr-2 w-4 h-4"}),"Shop Rewards"]}),s.jsxs(z,{variant:"outline",size:"lg",children:[s.jsx(bn,{className:"mr-2 w-4 h-4"}),"Plant Trees"]})]})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Trip History"}),s.jsx("div",{className:"space-y-4",children:t.map((r,i)=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:bg-secondary/5 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold mb-1",children:r.route}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.date})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Passengers"}),s.jsx("p",{className:"font-semibold",children:r.passengers})]}),s.jsx("div",{className:"text-right",children:s.jsxs(Pe,{className:"text-lg font-bold",children:["+",Math.floor(r.amount*10)," EC"]})})]})]},i))})]})]}),s.jsx(yr,{})]})};var Ch="Checkbox",[B6,UF]=Zn(Ch),[U6,Av]=B6(Ch);function W6(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:l,name:d,onCheckedChange:u,required:h,value:m="on",internal_do_not_use_render:p}=e,[x,y]=ii({prop:n,defaultProp:i??!1,onChange:u,caller:Ch}),[k,_]=v.useState(null),[N,S]=v.useState(null),w=v.useRef(!1),b=k?!!l||!!k.closest("form"):!0,C={checked:x,disabled:o,setChecked:y,control:k,setControl:_,name:d,form:l,value:m,hasConsumerStoppedPropagationRef:w,required:h,defaultChecked:ni(i)?!1:i,isFormControl:b,bubbleInput:N,setBubbleInput:S};return s.jsx(U6,{scope:t,...C,children:H6(p)?p(C):r})}var t2="CheckboxTrigger",n2=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:l,disabled:d,checked:u,required:h,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:y,bubbleInput:k}=Av(t2,e),_=Qe(i,m),N=v.useRef(u);return v.useEffect(()=>{const S=o==null?void 0:o.form;if(S){const w=()=>p(N.current);return S.addEventListener("reset",w),()=>S.removeEventListener("reset",w)}},[o,p]),s.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":ni(u)?"mixed":u,"aria-required":h,"data-state":o2(u),"data-disabled":d?"":void 0,disabled:d,value:l,...r,ref:_,onKeyDown:be(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:be(n,S=>{p(w=>ni(w)?!0:!w),k&&y&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})});n2.displayName=t2;var Lv=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:l,disabled:d,value:u,onCheckedChange:h,form:m,...p}=e;return s.jsx(W6,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:d,required:l,onCheckedChange:h,name:r,form:m,value:u,internal_do_not_use_render:({isFormControl:x})=>s.jsxs(s.Fragment,{children:[s.jsx(n2,{...p,ref:t,__scopeCheckbox:n}),x&&s.jsx(a2,{__scopeCheckbox:n})]})})});Lv.displayName=Ch;var r2="CheckboxIndicator",s2=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=Av(r2,n);return s.jsx(hi,{present:r||ni(o.checked)||o.checked===!0,children:s.jsx(Ne.span,{"data-state":o2(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});s2.displayName=r2;var i2="CheckboxBubbleInput",a2=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:d,disabled:u,name:h,value:m,form:p,bubbleInput:x,setBubbleInput:y}=Av(i2,e),k=Qe(n,y),_=kv(o),N=dv(r);v.useEffect(()=>{const w=x;if(!w)return;const b=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(b,"checked").set,I=!i.current;if(_!==o&&P){const M=new Event("click",{bubbles:I});w.indeterminate=ni(o),P.call(w,ni(o)?!1:o),w.dispatchEvent(M)}},[x,_,o,i]);const S=v.useRef(ni(o)?!1:o);return s.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??S.current,required:d,disabled:u,name:h,value:m,form:p,...t,tabIndex:-1,ref:k,style:{...t.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});a2.displayName=i2;function H6(e){return typeof e=="function"}function ni(e){return e==="indeterminate"}function o2(e){return ni(e)?"indeterminate":e?"checked":"unchecked"}const l2=v.forwardRef(({className:e,...t},n)=>s.jsx(Lv,{ref:n,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(s2,{className:Te("flex items-center justify-center text-current"),children:s.jsx(Qg,{className:"h-4 w-4"})})}));l2.displayName=Lv.displayName;const V6=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(""),i=[{id:1,name:"Ahmed Al-Balushi",photo:"",pickupLocation:"Al Khuwair Street, Building 5",pickupTime:"7:15 AM",dropoff:"Indian School",paymentStatus:"paid",specialInstructions:"Wait at gate 2",pickedUp:!1,route:"Route 1 - Seeb to School"},{id:2,name:"Fatima Al-Zaabi",photo:"",pickupLocation:"Ruwi Commercial Center",pickupTime:"7:25 AM",dropoff:"Indian School",paymentStatus:"paid",specialInstructions:"",pickedUp:!1,route:"Route 1 - Seeb to School"},{id:3,name:"Mohammed Hassan",photo:"",pickupLocation:"Qurum Plaza",pickupTime:"8:50 AM",dropoff:"Sultan Qaboos University",paymentStatus:"pending",specialInstructions:"Call upon arrival",pickedUp:!1,route:"Route 2 - Qurum to University"}],[o,l]=v.useState(i.reduce((h,m)=>({...h,[m.id]:m.pickedUp}),{})),d=(h,m)=>{l(p=>({...p,[h]:!p[h]})),o[h]||t({title:"Passenger Picked Up ",description:`${m} marked as picked up`})},u=i.filter(h=>h.name.toLowerCase().includes(n.toLowerCase()));return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Passengers"}),s.jsx("p",{className:"text-muted-foreground",children:"Today's Pickup List"})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx(bv,{routeId:"route-123",attendance:i.map(h=>({id:h.id.toString(),student_id:h.id.toString(),status:o[h.id]||h.paymentStatus==="paid"?"present":"absent",pickup_location:h.pickupLocation}))})}),s.jsxs("div",{className:"mb-6 relative",children:[s.jsx(bu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search passengers...",value:n,onChange:h=>r(h.target.value),className:"pl-10"})]}),s.jsx(Cc,{defaultValue:"all",className:"mb-8",children:s.jsxs(Do,{className:"grid w-full grid-cols-4 max-w-2xl",children:[s.jsx(Bt,{value:"all",children:"All"}),s.jsx(Bt,{value:"picked",children:"Picked Up"}),s.jsx(Bt,{value:"pending",children:"Pending"}),s.jsx(Bt,{value:"route",children:"By Route"})]})}),s.jsx("div",{className:"space-y-6",children:u.map((h,m)=>s.jsx(ne,{className:"glass-card p-6 hover-scale animate-slide-up",style:{animationDelay:`${m*.1}s`},children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"pt-1",children:s.jsx(l2,{checked:o[h.id],onCheckedChange:()=>d(h.id,h.name)})}),s.jsx("div",{className:"text-6xl",children:h.photo}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold mb-1 flex items-center gap-3",children:[h.name,o[h.id]&&s.jsx(Pe,{variant:"default",className:"text-sm",children:" Picked Up"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.route})]}),s.jsx(Pe,{variant:h.paymentStatus==="paid"?"default":"secondary",children:h.paymentStatus==="paid"?" Paid":" Pending"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(at,{className:"w-5 h-5 text-primary mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pickup"}),s.jsx("p",{className:"font-semibold",children:h.pickupLocation})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wt,{className:"w-5 h-5 text-secondary mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time"}),s.jsx("p",{className:"font-semibold",children:h.pickupTime})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(at,{className:"w-5 h-5 text-accent mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop-off"}),s.jsx("p",{className:"font-semibold",children:h.dropoff})]})]}),h.specialInstructions&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Vn,{className:"w-5 h-5 text-yellow-500 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Special"}),s.jsx("p",{className:"font-semibold text-yellow-500",children:h.specialInstructions})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx(ur,{className:"mr-2 w-4 h-4"}),"Call"]}),s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx(nO,{className:"mr-2 w-4 h-4"}),"Message"]}),!o[h.id]&&s.jsxs(z,{variant:"hero",size:"sm",onClick:()=>d(h.id,h.name),children:[s.jsx(Vn,{className:"mr-2 w-4 h-4"}),"Mark as Picked Up"]})]})]})]})},h.id))})]}),s.jsx(yr,{})]})},q6=()=>{const e=Ke(),t=[{name:"Registration Certificate",expiry:"Dec 2025",status:"valid",icon:ai},{name:"Insurance Policy",expiry:"Feb 2026",status:"valid",icon:Xs},{name:"Road Tax",expiry:"Jan 2026",status:"valid",icon:ai},{name:"Fitness Certificate",expiry:"Mar 2026",status:"valid",icon:Vn}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"My Vehicle"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your bus details"})]})]})}),s.jsxs(ne,{className:"glass-card p-8 mb-8 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsx("div",{className:"text-8xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Toyota Coaster 2020"}),s.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"Bus Number: OM-1234"]}),s.jsx(Pe,{variant:"default",children:"30 Seats"}),s.jsx(Pe,{variant:"secondary",children:"White"})]})]})]}),s.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:s.jsx(ca,{className:"h-[300px] w-full",markers:[{lat:23.588,lng:58.3829,label:"Current Location",icon:""}]})})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Maintenance Status"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Next Service Due"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Oct 30, 2025"})]})]}),s.jsx(Pe,{variant:"secondary",children:"15 days"})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tO,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-semibold",children:"Fuel Level"})]}),s.jsx("span",{className:"text-green-500 font-bold",children:"75%"})]}),s.jsx(Sc,{value:75,className:"h-2"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/5 rounded-lg",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Tire Pressure"}),s.jsx(Pe,{variant:"default",className:"bg-green-500",children:" Normal"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/5 rounded-lg",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Warning Lights"}),s.jsx(Pe,{variant:"default",className:"bg-green-500",children:"None"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W1,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-semibold",children:"Last Service"})]}),s.jsx("span",{className:"text-muted-foreground",children:"Oct 1, 2025"})]}),s.jsxs(z,{variant:"hero",size:"lg",className:"w-full",children:[s.jsx(Yt,{className:"mr-2 w-4 h-4"}),"Schedule Maintenance"]})]})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Vehicle Documents"}),s.jsxs(z,{variant:"outline",children:[s.jsx(qd,{className:"mr-2 w-4 h-4"}),"Upload Document"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((n,r)=>{const i=n.icon;return s.jsx("div",{className:"p-4 border border-border rounded-lg hover:bg-secondary/5 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(i,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:n.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expiry: ",n.expiry]})]})]}),s.jsx(Pe,{variant:"default",className:"bg-green-500",children:" Valid"})]})},r)})})]})]}),s.jsx(yr,{})]})},K6=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(!0),[i,o]=v.useState(1),l=[{id:1,name:"Al Khuwair Plaza",passenger:"Ahmed",distance:"500m",eta:"2 mins",status:"current"},{id:2,name:"Ruwi Junction",passenger:"Sarah",distance:"2.1km",eta:"8 mins",status:"upcoming"},{id:3,name:"Qurum Center",passenger:"Hassan",distance:"3.5km",eta:"12 mins",status:"upcoming"}],d=()=>{t({title:"Arrived at Pickup",description:"Marked as arrived at Al Khuwair Plaza"}),o(i+1)},u=()=>{t({title:"Pickup Skipped",description:"Moving to next location",variant:"destructive"}),o(i+1)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex items-center justify-between",children:[s.jsx(z,{variant:"glass",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"glass",size:"icon",onClick:()=>r(!n),children:n?s.jsx(fO,{className:"w-5 h-5"}):s.jsx(mO,{className:"w-5 h-5"})}),s.jsxs(z,{variant:"glass",children:[s.jsx(hr,{className:"mr-2 w-4 h-4"}),"Report Traffic"]})]})]}),s.jsx(ca,{className:"h-screen w-full",markers:[{lat:23.588,lng:58.3829,label:"You are here",icon:"",color:"blue"},{lat:23.595,lng:58.395,label:"Pickup 1 - Ahmed",icon:"1",color:"green"},{lat:23.602,lng:58.41,label:"Pickup 2 - Sarah",icon:"2",color:"orange"},{lat:23.61,lng:58.425,label:"Pickup 3 - Hassan",icon:"3",color:"gray"}],route:[[23.588,58.3829],[23.595,58.395],[23.602,58.41],[23.61,58.425]]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10 p-4",children:s.jsxs(ne,{className:"glass-card p-6",children:[s.jsxs("div",{className:"mb-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Gi,{className:"w-6 h-6 text-primary"}),s.jsx("span",{className:"text-2xl font-bold",children:"Turn right in 200m"})]}),s.jsx("p",{className:"text-muted-foreground",children:"onto Al Khuwair Street"})]}),s.jsxs("div",{className:"mb-4 p-4 bg-primary/10 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Next Pickup"}),s.jsx(Pe,{className:"bg-blue-500",children:"In Progress"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-bold",children:"Ahmed - Al Khuwair"}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"text-sm flex items-center gap-1",children:[s.jsx(at,{className:"w-4 h-4"}),"500m"]}),s.jsxs("span",{className:"text-sm flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),"2 mins"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{size:"sm",variant:"outline",onClick:u,children:s.jsx(yc,{className:"w-4 h-4"})}),s.jsxs(z,{size:"sm",variant:"hero",onClick:d,children:[s.jsx(Vn,{className:"mr-2 w-4 h-4"}),"Arrived"]})]})]})]}),s.jsx("div",{className:"space-y-2",children:l.slice(1).map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:h.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.passenger})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsx("span",{children:h.distance}),s.jsx("span",{children:h.eta})]})]},h.id))})]})})]})},Z6=()=>{const e=Ke(),t=[{icon:"",name:"100 Trips Milestone",description:"Complete 100 trips",progress:100,reward:"+50 OMR bonus",unlocked:!0},{icon:"",name:"5-Star Master",description:"Get 10 perfect ratings",progress:100,reward:"Gold badge",unlocked:!0},{icon:"",name:"Always On Time",description:"95%+ punctuality",progress:94,reward:"Premium badge",unlocked:!1},{icon:"",name:"Eco Warrior",description:"Save 500kg CO",progress:100,reward:"Green badge",unlocked:!0}],n=[{rank:1,name:"Hassan Ali",trips:267,earnings:"OMR 2,450"},{rank:2,name:"Fatima Said",trips:245,earnings:"OMR 2,280"},{rank:3,name:"You (Ahmed)",trips:245,earnings:"OMR 1,450"},{rank:4,name:"Omar Khalid",trips:198,earnings:"OMR 1,890"}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Performance & Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your progress"})]})]}),s.jsxs(z,{variant:"outline",children:[s.jsx(Jg,{className:"mr-2 w-4 h-4"}),"Export Report"]})]}),s.jsxs(ne,{className:"glass-card p-8 mb-8 animate-scale-in",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"This Month Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(o0,{className:"w-8 h-8 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-3xl font-bold",children:"245"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Trips"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(fi,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-3xl font-bold text-primary",children:"OMR 1,450"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(Gg,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),s.jsx("p",{className:"text-3xl font-bold",children:"4.8"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(uO,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),s.jsx("p",{className:"text-3xl font-bold",children:"94%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time"})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Achievements Unlocked"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((r,i)=>s.jsxs("div",{className:`p-6 rounded-xl border ${r.unlocked?"border-primary bg-primary/5":"border-border bg-secondary/5"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"text-5xl",children:r.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:r.name}),r.unlocked&&s.jsx(Pe,{className:"bg-green-500",children:"Unlocked"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:r.description}),s.jsx("p",{className:"text-sm text-yellow-500 font-semibold",children:r.reward})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Progress"}),s.jsxs("span",{className:"text-sm font-bold",children:[r.progress,"%"]})]}),s.jsx(Sc,{value:r.progress,className:"h-2"})]})]},i))})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Top Drivers This Month"}),s.jsx(z,{variant:"outline",size:"sm",children:"View Full Leaderboard"})]}),s.jsx("div",{className:"space-y-4",children:n.map(r=>s.jsx("div",{className:`p-4 rounded-lg border ${r.name.includes("You")?"border-primary bg-primary/10":"border-border"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full ${r.rank===1?"bg-yellow-500":r.rank===2?"bg-gray-400":r.rank===3?"bg-orange-500":"bg-secondary"}`,children:s.jsxs("span",{className:"text-2xl font-bold",children:["#",r.rank]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:r.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.trips," trips"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-xl font-bold text-primary",children:r.earnings})})]})},r.rank))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx(Wr,{className:"w-8 h-8 mb-3 text-primary"}),s.jsx("p",{className:"text-3xl font-bold mb-1",children:"4,890"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Passengers Served"})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx(wt,{className:"w-8 h-8 mb-3 text-secondary"}),s.jsx("p",{className:"text-3xl font-bold mb-1",children:"22"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Days"})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx(o0,{className:"w-8 h-8 mb-3 text-accent"}),s.jsx("p",{className:"text-3xl font-bold mb-1",children:"1,850 km"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Distance"})]})]})]}),s.jsx(yr,{})]})},G6=()=>{const e=Ke(),t=[{id:1,type:"route",icon:at,title:"New route assigned",description:"Route for tomorrow 7:00 AM",time:"5 mins ago",read:!1},{id:2,type:"passenger",icon:Yg,title:"Ahmed is waiting",description:"At pickup point",time:"10 mins ago",read:!1},{id:3,type:"payment",icon:wo,title:"Payment received",description:"OMR 18.50 added to your wallet",time:"30 mins ago",read:!0},{id:4,type:"rating",icon:tv,title:"New 5-star rating",description:"From Sarah Mohammed",time:"1 hour ago",read:!0},{id:5,type:"alert",icon:hr,title:"Route changed",description:"Due to traffic on Al Khuwair",time:"2 hours ago",read:!0},{id:6,type:"maintenance",icon:W1,title:"Service reminder",description:"Vehicle service due in 15 days",time:"Today",read:!0},{id:7,type:"schedule",icon:Yt,title:"Schedule update",description:"New shift available Saturday",time:"Yesterday",read:!0}],n=r=>{switch(r){case"route":return"text-primary bg-primary/10";case"payment":return"text-green-500 bg-green-500/10";case"rating":return"text-yellow-500 bg-yellow-500/10";case"alert":return"text-red-500 bg-red-500/10";case"maintenance":return"text-orange-500 bg-orange-500/10";default:return"text-secondary bg-secondary/10"}};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-4xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Stay updated"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx(Qg,{className:"mr-2 w-4 h-4"}),"Mark All Read"]}),s.jsxs(z,{variant:"outline",size:"sm",children:[s.jsx($1,{className:"mr-2 w-4 h-4"}),"Clear All"]})]})]}),s.jsx(Cc,{defaultValue:"all",className:"mb-8",children:s.jsxs(Do,{className:"grid w-full grid-cols-5",children:[s.jsx(Bt,{value:"all",children:"All"}),s.jsx(Bt,{value:"routes",children:"Routes"}),s.jsx(Bt,{value:"payments",children:"Payments"}),s.jsx(Bt,{value:"ratings",children:"Ratings"}),s.jsx(Bt,{value:"alerts",children:"Alerts"})]})}),s.jsx("div",{className:"space-y-4",children:t.map((r,i)=>{const o=r.icon;return s.jsx(ne,{className:`glass-card p-4 hover-scale animate-slide-up cursor-pointer ${r.read?"":"border-primary"}`,style:{animationDelay:`${i*.05}s`},children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-full ${n(r.type)}`,children:s.jsx(o,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("h3",{className:"font-bold text-lg",children:r.title}),!r.read&&s.jsx(Pe,{variant:"default",className:"ml-2",children:"New"})]}),s.jsx("p",{className:"text-muted-foreground mb-2",children:r.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.time})]})]})},r.id)})})]}),s.jsx(yr,{})]})},Y6=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState({name:"Ahmed Al-Balushi",phone:"+968 9123 4567",email:"ahmed@ecpool360.om",dob:"1985-01-15",address:"Al Khuwair, Muscat",emergencyContact:"+968 9876 5432",licenseNumber:"DL123456789",licenseIssue:"2018-01",licenseExpiry:"2028-01",experience:"7",languages:"Arabic, English, Hindi",notifications:!0,language:"en",workingHours:"6:00 AM - 6:00 PM",available:!0}),i=()=>{t({title:"Profile Updated!",description:"Your changes have been saved successfully"})},o=()=>{localStorage.removeItem("userRole"),e("/driver-login")};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-4xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Driver Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account"})]})]}),s.jsxs(z,{variant:"hero",onClick:i,children:[s.jsx(Xg,{className:"mr-2 w-4 h-4"}),"Save Changes"]})]}),s.jsxs(ne,{className:"glass-card p-8 mb-8 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-8 pb-8 border-b border-border",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Io,{className:"w-24 h-24 bg-gradient-primary",children:s.jsx("div",{className:"text-5xl",children:""})}),s.jsx(z,{size:"icon",variant:"glass",className:"absolute -bottom-2 -right-2",children:s.jsx(_u,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:n.name}),s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsxs(Pe,{variant:"default",className:"bg-green-500",children:[s.jsx(Xs,{className:"mr-1 w-3 h-3"}),"Verified Driver"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tv,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"font-bold",children:"4.8"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"(156 reviews)"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"1,245 trips completed  Member since January 2023"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"name",children:"Full Name"}),s.jsx(ye,{id:"name",value:n.name,onChange:l=>r({...n,name:l.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"phone",className:"pl-10",value:n.phone,onChange:l=>r({...n,phone:l.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(oh,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"email",type:"email",className:"pl-10",value:n.email,onChange:l=>r({...n,email:l.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{htmlFor:"dob",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yt,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"dob",type:"date",className:"pl-10",value:n.dob,onChange:l=>r({...n,dob:l.target.value})})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Be,{htmlFor:"address",children:"Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),s.jsx(ye,{id:"address",className:"pl-10",value:n.address,onChange:l=>r({...n,address:l.target.value})})]})]})]})]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(Xs,{className:"w-5 h-5 text-primary"}),"Driver License"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"License Number"}),s.jsx(ye,{value:n.licenseNumber,readOnly:!0}),s.jsx(Pe,{variant:"default",className:"bg-green-500",children:" Verified"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"License Type"}),s.jsx(ye,{value:"Commercial",readOnly:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Issue Date"}),s.jsx(ye,{type:"month",value:n.licenseIssue,readOnly:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Expiry Date"}),s.jsx(ye,{type:"month",value:n.licenseExpiry,readOnly:!0})]})]}),s.jsxs(z,{variant:"outline",className:"mt-4",children:[s.jsx(_u,{className:"mr-2 w-4 h-4"}),"Upload New License"]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yg,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive ride updates and alerts"})]})]}),s.jsx(sn,{checked:n.notifications,onCheckedChange:l=>r({...n,notifications:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A1,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Language"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"English / "})]})]}),s.jsx(z,{variant:"outline",size:"sm",children:"Change"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Working Hours"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.workingHours})]})]}),s.jsx(z,{variant:"outline",size:"sm",children:"Edit"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xs,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Availability"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for rides"})]})]}),s.jsx(sn,{checked:n.available,onCheckedChange:l=>r({...n,available:l})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(z,{variant:"outline",className:"w-full",size:"lg",children:[s.jsx(hp,{className:"mr-2 w-4 h-4"}),"Change Password"]}),s.jsxs(z,{variant:"destructive",className:"w-full",size:"lg",onClick:o,children:[s.jsx(I1,{className:"mr-2 w-4 h-4"}),"Logout"]})]})]}),s.jsx(yr,{})]})},c2=v.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));c2.displayName="Textarea";function Nw(e,[t,n]){return Math.min(n,Math.max(t,e))}var Q6=[" ","Enter","ArrowUp","ArrowDown"],J6=[" ","Enter"],Ji="Select",[Eh,Ph,X6]=Vg(Ji),[zo,WF]=Zn(Ji,[X6,uh]),Th=uh(),[e8,pi]=zo(Ji),[t8,n8]=zo(Ji),d2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:d,onValueChange:u,dir:h,name:m,autoComplete:p,disabled:x,required:y,form:k}=e,_=Th(t),[N,S]=v.useState(null),[w,b]=v.useState(null),[C,P]=v.useState(!1),I=Rv(h),[M,$]=ii({prop:r,defaultProp:i??!1,onChange:o,caller:Ji}),[H,G]=ii({prop:l,defaultProp:d,onChange:u,caller:Ji}),Y=v.useRef(null),X=N?k||!!N.closest("form"):!0,[J,O]=v.useState(new Set),Z=Array.from(J).map(V=>V.props.value).join(";");return s.jsx(G4,{..._,children:s.jsxs(e8,{required:y,scope:t,trigger:N,onTriggerChange:S,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:ei(),value:H,onValueChange:G,open:M,onOpenChange:$,dir:I,triggerPointerDownPosRef:Y,disabled:x,children:[s.jsx(Eh.Provider,{scope:t,children:s.jsx(t8,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(V=>{O(B=>new Set(B).add(V))},[]),onNativeOptionRemove:v.useCallback(V=>{O(B=>{const T=new Set(B);return T.delete(V),T})},[]),children:n})}),X?s.jsxs(A2,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:H,onChange:V=>G(V.target.value),disabled:x,form:k,children:[H===void 0?s.jsx("option",{value:""}):null,Array.from(J)]},Z):null]})})};d2.displayName=Ji;var u2="SelectTrigger",h2=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Th(n),l=pi(u2,n),d=l.disabled||r,u=Qe(t,l.onTriggerChange),h=Ph(n),m=v.useRef("touch"),[p,x,y]=I2(_=>{const N=h().filter(b=>!b.disabled),S=N.find(b=>b.value===l.value),w=D2(N,_,S);w!==void 0&&l.onValueChange(w.value)}),k=_=>{d||(l.onOpenChange(!0),y()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return s.jsx(bj,{asChild:!0,...o,children:s.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":L2(l.value)?"":void 0,...i,ref:u,onClick:be(i.onClick,_=>{_.currentTarget.focus(),m.current!=="mouse"&&k(_)}),onPointerDown:be(i.onPointerDown,_=>{m.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(k(_),_.preventDefault())}),onKeyDown:be(i.onKeyDown,_=>{const N=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(N&&_.key===" ")&&Q6.includes(_.key)&&(k(),_.preventDefault())})})})});h2.displayName=u2;var f2="SelectValue",m2=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l="",...d}=e,u=pi(f2,n),{onValueNodeHasChildrenChange:h}=u,m=o!==void 0,p=Qe(t,u.onValueNodeChange);return Tt(()=>{h(m)},[h,m]),s.jsx(Ne.span,{...d,ref:p,style:{pointerEvents:"none"},children:L2(u.value)?s.jsx(s.Fragment,{children:l}):o})});m2.displayName=f2;var r8="SelectIcon",p2=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Ne.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});p2.displayName=r8;var s8="SelectPortal",g2=e=>s.jsx(nh,{asChild:!0,...e});g2.displayName=s8;var Xi="SelectContent",v2=v.forwardRef((e,t)=>{const n=pi(Xi,e.__scopeSelect),[r,i]=v.useState();if(Tt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?ra.createPortal(s.jsx(x2,{scope:e.__scopeSelect,children:s.jsx(Eh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(y2,{...e,ref:t})});v2.displayName=Xi;var er=10,[x2,gi]=zo(Xi),i8="SelectContentImpl",a8=yo("SelectContent.RemoveScroll"),y2=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:k,hideWhenDetached:_,avoidCollisions:N,...S}=e,w=pi(Xi,n),[b,C]=v.useState(null),[P,I]=v.useState(null),M=Qe(t,A=>C(A)),[$,H]=v.useState(null),[G,Y]=v.useState(null),X=Ph(n),[J,O]=v.useState(!1),Z=v.useRef(!1);v.useEffect(()=>{if(b)return dS(b)},[b]),tS();const V=v.useCallback(A=>{const[ae,...de]=X().map(oe=>oe.ref.current),[pe]=de.slice(-1),fe=document.activeElement;for(const oe of A)if(oe===fe||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ae&&P&&(P.scrollTop=0),oe===pe&&P&&(P.scrollTop=P.scrollHeight),oe==null||oe.focus(),document.activeElement!==fe))return},[X,P]),B=v.useCallback(()=>V([$,b]),[V,$,b]);v.useEffect(()=>{J&&B()},[J,B]);const{onOpenChange:T,triggerPointerDownPosRef:K}=w;v.useEffect(()=>{if(b){let A={x:0,y:0};const ae=pe=>{var fe,oe;A={x:Math.abs(Math.round(pe.pageX)-(((fe=K.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((oe=K.current)==null?void 0:oe.y)??0))}},de=pe=>{A.x<=10&&A.y<=10?pe.preventDefault():b.contains(pe.target)||T(!1),document.removeEventListener("pointermove",ae),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",de,{capture:!0})}}},[b,T,K]),v.useEffect(()=>{const A=()=>T(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[T]);const[U,W]=I2(A=>{const ae=X().filter(fe=>!fe.disabled),de=ae.find(fe=>fe.ref.current===document.activeElement),pe=D2(ae,A,de);pe&&setTimeout(()=>pe.ref.current.focus())}),D=v.useCallback((A,ae,de)=>{const pe=!Z.current&&!de;(w.value!==void 0&&w.value===ae||pe)&&(H(A),pe&&(Z.current=!0))},[w.value]),se=v.useCallback(()=>b==null?void 0:b.focus(),[b]),Q=v.useCallback((A,ae,de)=>{const pe=!Z.current&&!de;(w.value!==void 0&&w.value===ae||pe)&&Y(A)},[w.value]),ie=r==="popper"?Up:w2,te=ie===Up?{side:d,sideOffset:u,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:k,hideWhenDetached:_,avoidCollisions:N}:{};return s.jsx(x2,{scope:n,content:b,viewport:P,onViewportChange:I,itemRefCallback:D,selectedItem:$,onItemLeave:se,itemTextRefCallback:Q,focusSelectedItem:B,selectedItemText:G,position:r,isPositioned:J,searchRef:U,children:s.jsx(Ev,{as:a8,allowPinchZoom:!0,children:s.jsx(Cv,{asChild:!0,trapped:w.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:be(i,A=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),A.preventDefault()}),children:s.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:A=>A.preventDefault(),...S,...te,onPlaced:()=>O(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:be(S.onKeyDown,A=>{const ae=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!ae&&A.key.length===1&&W(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let pe=X().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(A.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const fe=A.target,oe=pe.indexOf(fe);pe=pe.slice(oe+1)}setTimeout(()=>V(pe)),A.preventDefault()}})})})})})})});y2.displayName=i8;var o8="SelectItemAlignedPosition",w2=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=pi(Xi,n),l=gi(Xi,n),[d,u]=v.useState(null),[h,m]=v.useState(null),p=Qe(t,M=>m(M)),x=Ph(n),y=v.useRef(!1),k=v.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:S,focusSelectedItem:w}=l,b=v.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&h&&_&&N&&S){const M=o.trigger.getBoundingClientRect(),$=h.getBoundingClientRect(),H=o.valueNode.getBoundingClientRect(),G=S.getBoundingClientRect();if(o.dir!=="rtl"){const fe=G.left-$.left,oe=H.left-fe,ve=M.left-oe,Ue=M.width+ve,Je=Math.max(Ue,$.width),ht=window.innerWidth-er,tt=Nw(oe,[er,Math.max(er,ht-Je)]);d.style.minWidth=Ue+"px",d.style.left=tt+"px"}else{const fe=$.right-G.right,oe=window.innerWidth-H.right-fe,ve=window.innerWidth-M.right-oe,Ue=M.width+ve,Je=Math.max(Ue,$.width),ht=window.innerWidth-er,tt=Nw(oe,[er,Math.max(er,ht-Je)]);d.style.minWidth=Ue+"px",d.style.right=tt+"px"}const Y=x(),X=window.innerHeight-er*2,J=_.scrollHeight,O=window.getComputedStyle(h),Z=parseInt(O.borderTopWidth,10),V=parseInt(O.paddingTop,10),B=parseInt(O.borderBottomWidth,10),T=parseInt(O.paddingBottom,10),K=Z+V+J+T+B,U=Math.min(N.offsetHeight*5,K),W=window.getComputedStyle(_),D=parseInt(W.paddingTop,10),se=parseInt(W.paddingBottom,10),Q=M.top+M.height/2-er,ie=X-Q,te=N.offsetHeight/2,A=N.offsetTop+te,ae=Z+V+A,de=K-ae;if(ae<=Q){const fe=Y.length>0&&N===Y[Y.length-1].ref.current;d.style.bottom="0px";const oe=h.clientHeight-_.offsetTop-_.offsetHeight,ve=Math.max(ie,te+(fe?se:0)+oe+B),Ue=ae+ve;d.style.height=Ue+"px"}else{const fe=Y.length>0&&N===Y[0].ref.current;d.style.top="0px";const ve=Math.max(Q,Z+_.offsetTop+(fe?D:0)+te)+de;d.style.height=ve+"px",_.scrollTop=ae-Q+_.offsetTop}d.style.margin=`${er}px 0`,d.style.minHeight=U+"px",d.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[x,o.trigger,o.valueNode,d,h,_,N,S,o.dir,r]);Tt(()=>b(),[b]);const[C,P]=v.useState();Tt(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const I=v.useCallback(M=>{M&&k.current===!0&&(b(),w==null||w(),k.current=!1)},[b,w]);return s.jsx(c8,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:I,children:s.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(Ne.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});w2.displayName=o8;var l8="SelectPopperPosition",Up=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=er,...o}=e,l=Th(n);return s.jsx(jj,{...l,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Up.displayName=l8;var[c8,Iv]=zo(Xi,{}),Wp="SelectViewport",_2=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=gi(Wp,n),l=Iv(Wp,n),d=Qe(t,o.onViewportChange),u=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Eh.Slot,{scope:n,children:s.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&p){const y=Math.abs(u.current-m.scrollTop);if(y>0){const k=window.innerHeight-er*2,_=parseFloat(p.style.minHeight),N=parseFloat(p.style.height),S=Math.max(_,N);if(S<k){const w=S+y,b=Math.min(k,w),C=w-b;p.style.height=b+"px",p.style.bottom==="0px"&&(m.scrollTop=C>0?C:0,p.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});_2.displayName=Wp;var b2="SelectGroup",[d8,u8]=zo(b2),h8=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ei();return s.jsx(d8,{scope:n,id:i,children:s.jsx(Ne.div,{role:"group","aria-labelledby":i,...r,ref:t})})});h8.displayName=b2;var j2="SelectLabel",N2=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=u8(j2,n);return s.jsx(Ne.div,{id:i.id,...r,ref:t})});N2.displayName=j2;var Du="SelectItem",[f8,S2]=zo(Du),k2=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=e,d=pi(Du,n),u=gi(Du,n),h=d.value===r,[m,p]=v.useState(o??""),[x,y]=v.useState(!1),k=Qe(t,w=>{var b;return(b=u.itemRefCallback)==null?void 0:b.call(u,w,r,i)}),_=ei(),N=v.useRef("touch"),S=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(f8,{scope:n,value:r,disabled:i,textId:_,isSelected:h,onItemTextChange:v.useCallback(w=>{p(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(Eh.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:s.jsx(Ne.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:k,onFocus:be(l.onFocus,()=>y(!0)),onBlur:be(l.onBlur,()=>y(!1)),onClick:be(l.onClick,()=>{N.current!=="mouse"&&S()}),onPointerUp:be(l.onPointerUp,()=>{N.current==="mouse"&&S()}),onPointerDown:be(l.onPointerDown,w=>{N.current=w.pointerType}),onPointerMove:be(l.onPointerMove,w=>{var b;N.current=w.pointerType,i?(b=u.onItemLeave)==null||b.call(u):N.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(l.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=u.onItemLeave)==null||b.call(u))}),onKeyDown:be(l.onKeyDown,w=>{var C;((C=u.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(J6.includes(w.key)&&S(),w.key===" "&&w.preventDefault())})})})})});k2.displayName=Du;var xl="SelectItemText",C2=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,l=pi(xl,n),d=gi(xl,n),u=S2(xl,n),h=n8(xl,n),[m,p]=v.useState(null),x=Qe(t,S=>p(S),u.onItemTextChange,S=>{var w;return(w=d.itemTextRefCallback)==null?void 0:w.call(d,S,u.value,u.disabled)}),y=m==null?void 0:m.textContent,k=v.useMemo(()=>s.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=h;return Tt(()=>(_(k),()=>N(k)),[_,N,k]),s.jsxs(s.Fragment,{children:[s.jsx(Ne.span,{id:u.textId,...o,ref:x}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ra.createPortal(o.children,l.valueNode):null]})});C2.displayName=xl;var E2="SelectItemIndicator",P2=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return S2(E2,n).isSelected?s.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});P2.displayName=E2;var Hp="SelectScrollUpButton",T2=v.forwardRef((e,t)=>{const n=gi(Hp,e.__scopeSelect),r=Iv(Hp,e.__scopeSelect),[i,o]=v.useState(!1),l=Qe(t,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollTop>0;o(h)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(R2,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});T2.displayName=Hp;var Vp="SelectScrollDownButton",O2=v.forwardRef((e,t)=>{const n=gi(Vp,e.__scopeSelect),r=Iv(Vp,e.__scopeSelect),[i,o]=v.useState(!1),l=Qe(t,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;o(m)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(R2,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});O2.displayName=Vp;var R2=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=gi("SelectScrollButton",n),l=v.useRef(null),d=Ph(n),u=v.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),Tt(()=>{var m;const h=d().find(p=>p.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[d]),s.jsx(Ne.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:be(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:be(i.onPointerLeave,()=>{u()})})}),m8="SelectSeparator",M2=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});M2.displayName=m8;var qp="SelectArrow",p8=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Th(n),o=pi(qp,n),l=gi(qp,n);return o.open&&l.position==="popper"?s.jsx(Nj,{...i,...r,ref:t}):null});p8.displayName=qp;var g8="SelectBubbleInput",A2=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=v.useRef(null),o=Qe(r,i),l=kv(t);return v.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&m){const p=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(p)}},[l,t]),s.jsx(Ne.select,{...n,style:{...l1,...n.style},ref:o,defaultValue:t})});A2.displayName=g8;function L2(e){return e===""||e===void 0}function I2(e){const t=Mn(e),n=v.useRef(""),r=v.useRef(0),i=v.useCallback(l=>{const d=n.current+l;t(d),function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(d)},[t]),o=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function D2(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=v8(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function v8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var x8=d2,z2=h2,y8=m2,w8=p2,_8=g2,$2=v2,b8=_2,F2=N2,B2=k2,j8=C2,N8=P2,U2=T2,W2=O2,H2=M2;const S8=x8,k8=y8,V2=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(z2,{ref:r,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(w8,{asChild:!0,children:s.jsx(R1,{className:"h-4 w-4 opacity-50"})})]}));V2.displayName=z2.displayName;const q2=v.forwardRef(({className:e,...t},n)=>s.jsx(U2,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(YT,{className:"h-4 w-4"})}));q2.displayName=U2.displayName;const K2=v.forwardRef(({className:e,...t},n)=>s.jsx(W2,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(R1,{className:"h-4 w-4"})}));K2.displayName=W2.displayName;const Z2=v.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(_8,{children:s.jsxs($2,{ref:i,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(q2,{}),s.jsx(b8,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(K2,{})]})}));Z2.displayName=$2.displayName;const C8=v.forwardRef(({className:e,...t},n)=>s.jsx(F2,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));C8.displayName=F2.displayName;const yl=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(B2,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N8,{children:s.jsx(Qg,{className:"h-4 w-4"})})}),s.jsx(j8,{children:t})]}));yl.displayName=B2.displayName;const E8=v.forwardRef(({className:e,...t},n)=>s.jsx(H2,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));E8.displayName=H2.displayName;const P8=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(!1),i=()=>{r(!0),t({title:" SOS ACTIVATED",description:"Emergency services and admin have been notified!",variant:"destructive"})},o=[{name:"Police",number:"9999"},{name:"Ambulance",number:"9999"},{name:"Fire",number:"9999"},{name:"Support Hotline",number:"+968 2456 7890"}];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-4xl p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Emergency & Safety"}),s.jsx("p",{className:"text-muted-foreground",children:"Get help when you need it"})]})]})}),s.jsxs(ne,{className:`glass-card p-12 mb-8 text-center animate-scale-in ${n?"border-red-500 bg-red-500/10":""}`,children:[s.jsx(z,{size:"lg",variant:n?"destructive":"outline",className:`w-64 h-64 rounded-full text-2xl font-bold ${!n&&"hover:bg-red-500 hover:text-white"}`,onClick:i,disabled:n,children:n?s.jsxs("div",{className:"animate-pulse",children:[s.jsx(hr,{className:"w-24 h-24 mb-4"}),s.jsx("p",{children:"SOS ACTIVE"})]}):s.jsxs("div",{children:[s.jsx(hr,{className:"w-24 h-24 mb-4"}),s.jsx("p",{children:"TAP FOR SOS"})]})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:"Tap to alert emergency services"})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Emergency Contacts"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((l,d)=>s.jsxs(z,{variant:"outline",size:"lg",className:"h-auto p-6 justify-start",onClick:()=>{t({title:`Calling ${l.name}`,description:l.number})},children:[s.jsx(ur,{className:"w-6 h-6 mr-4 text-red-500"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-bold text-lg",children:l.name}),s.jsx("p",{className:"text-muted-foreground",children:l.number})]})]},d))})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(z,{variant:"outline",size:"lg",className:"h-24",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(lO,{className:"w-8 h-8"}),s.jsx("span",{children:"Share Live Location"})]})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-24",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(ur,{className:"w-8 h-8"}),s.jsx("span",{children:"Call Support Team"})]})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-24",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(ai,{className:"w-8 h-8"}),s.jsx("span",{children:"Report Incident"})]})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-24",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(lr,{className:"w-8 h-8"}),s.jsx("span",{children:"Medical Emergency"})]})})]})]}),s.jsxs(ne,{className:"glass-card p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Report Incident"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Incident Type"}),s.jsxs(S8,{children:[s.jsx(V2,{children:s.jsx(k8,{placeholder:"Select type"})}),s.jsxs(Z2,{children:[s.jsx(yl,{value:"accident",children:"Accident"}),s.jsx(yl,{value:"breakdown",children:"Vehicle Breakdown"}),s.jsx(yl,{value:"passenger",children:"Passenger Issue"}),s.jsx(yl,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Be,{children:"Description"}),s.jsx(c2,{placeholder:"Describe what happened...",className:"min-h-[100px]"})]}),s.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg flex items-start gap-3",children:[s.jsx(at,{className:"w-5 h-5 text-primary mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Current Location"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Al Khuwair Street, Muscat"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"GPS: 23.5880N, 58.3829E"})]})]}),s.jsxs(z,{variant:"hero",size:"lg",className:"w-full",children:[s.jsx(hr,{className:"mr-2 w-4 h-4"}),"Submit Report"]})]})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Safety Tips"}),s.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(lr,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsx("span",{children:"Always verify passenger identity before starting trip"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(lr,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsx("span",{children:"Keep doors locked when alone in the vehicle"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(lr,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsx("span",{children:"Report suspicious activity immediately"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(lr,{className:"w-5 h-5 text-primary mt-0.5"}),s.jsx("span",{children:"Keep emergency contacts readily available"})]})]})]})]}),s.jsx(yr,{})]})},T8=()=>{const e=Ke(),[t,n]=v.useState(""),r=[{id:1,name:"Support Team",lastMessage:"Your issue is resolved",time:"10m ago",unread:0,avatar:""},{id:2,name:"Ahmed (Passenger)",lastMessage:"I'm running 5 mins late",time:"30m ago",unread:1,avatar:""},{id:3,name:"Sarah (Passenger)",lastMessage:"Thank you for the ride!",time:"1h ago",unread:0,avatar:""},{id:4,name:"Admin",lastMessage:"New route assigned",time:"2h ago",unread:0,avatar:""}],i=["On my way","Arrived","Running late","Thank you"];return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-6xl p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Messages & Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Chat and get help"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs(ne,{className:"glass-card p-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Chats"}),s.jsx("div",{className:"space-y-2",children:r.map(o=>s.jsx("button",{className:"w-full p-4 rounded-lg border border-border hover:bg-secondary/10 transition-colors text-left",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-4xl",children:o.avatar}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-semibold truncate",children:o.name}),o.unread>0&&s.jsx(Pe,{variant:"default",className:"ml-2",children:o.unread})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.lastMessage}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.time})]})]})},o.id))})]})}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs(ne,{className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-border mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:"Support Team"}),s.jsx("p",{className:"text-sm text-green-500",children:"Online"})]})]}),s.jsx(z,{variant:"outline",size:"sm",children:s.jsx(ur,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4 mb-4 min-h-[400px] max-h-[400px] overflow-y-auto",children:[s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"bg-secondary/20 rounded-lg p-3 max-w-[80%]",children:[s.jsx("p",{children:"Hello! How can we help you today?"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"2:30 PM"})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"bg-primary/20 rounded-lg p-3 max-w-[80%]",children:[s.jsx("p",{children:"I need help with my route schedule"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"2:32 PM"})]})}),s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"bg-secondary/20 rounded-lg p-3 max-w-[80%]",children:[s.jsx("p",{children:"I can help you with that! Let me check your current schedule."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"2:33 PM"})]})}),s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"bg-secondary/20 rounded-lg p-3 max-w-[80%]",children:[s.jsx("p",{children:"Your issue has been resolved. Is there anything else?"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"2:45 PM"})]})})]}),s.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:i.map((o,l)=>s.jsx(z,{variant:"outline",size:"sm",children:o},l))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{placeholder:"Type your message...",value:t,onChange:o=>n(o.target.value)}),s.jsx(z,{size:"icon",variant:"hero",children:s.jsx(oO,{className:"w-4 h-4"})})]})]}),s.jsxs(ne,{className:"glass-card p-6 mt-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Support"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(z,{variant:"outline",size:"lg",className:"h-auto p-4 justify-start",children:[s.jsx(M1,{className:"w-6 h-6 mr-3 text-primary"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:"FAQs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find quick answers"})]})]}),s.jsxs(z,{variant:"outline",size:"lg",className:"h-auto p-4 justify-start",children:[s.jsx(ai,{className:"w-6 h-6 mr-3 text-secondary"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:"Report a Problem"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Get technical help"})]})]}),s.jsxs(z,{variant:"outline",size:"lg",className:"h-auto p-4 justify-start",children:[s.jsx(wt,{className:"w-6 h-6 mr-3 text-accent"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:"Schedule Change"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request updates"})]})]}),s.jsxs(z,{variant:"outline",size:"lg",className:"h-auto p-4 justify-start",children:[s.jsx(lr,{className:"w-6 h-6 mr-3 text-orange-500"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:"Technical Issue"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Report bugs"})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-primary/10 rounded-lg text-center",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Need immediate help?"}),s.jsxs(z,{variant:"hero",children:[s.jsx(ur,{className:"mr-2 w-4 h-4"}),"Call Support: +968 2456 7890"]})]})]})]})]})]}),s.jsx(yr,{})]})};function qe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function An(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function nn(e,t){const n=qe(e);return isNaN(t)?An(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function gr(e,t){const n=qe(e);if(isNaN(t))return An(e,NaN);if(!t)return n;const r=n.getDate(),i=An(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Dv=6048e5,O8=864e5;let R8={};function Ec(){return R8}function Ur(e,t){var d,u,h,m;const n=Ec(),r=(t==null?void 0:t.weekStartsOn)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=qe(e),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ea(e){return Ur(e,{weekStartsOn:1})}function G2(e){const t=qe(e),n=t.getFullYear(),r=An(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ea(r),o=An(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=ea(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function ko(e){const t=qe(e);return t.setHours(0,0,0,0),t}function zu(e){const t=qe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Dr(e,t){const n=ko(e),r=ko(t),i=+n-zu(n),o=+r-zu(r);return Math.round((i-o)/O8)}function M8(e){const t=G2(e),n=An(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ea(n)}function Kp(e,t){const n=t*7;return nn(e,n)}function A8(e,t){return gr(e,t*12)}function L8(e){let t;return e.forEach(function(n){const r=qe(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function I8(e){let t;return e.forEach(n=>{const r=qe(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function gn(e,t){const n=ko(e),r=ko(t);return+n==+r}function zv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function D8(e){if(!zv(e)&&typeof e!="number")return!1;const t=qe(e);return!isNaN(Number(t))}function lc(e,t){const n=qe(e),r=qe(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function z8(e,t,n){const r=Ur(e,n),i=Ur(t,n),o=+r-zu(r),l=+i-zu(i);return Math.round((o-l)/Dv)}function $v(e){const t=qe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wn(e){const t=qe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Y2(e){const t=qe(e),n=An(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Fv(e,t){var d,u,h,m;const n=Ec(),r=(t==null?void 0:t.weekStartsOn)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=qe(e),o=i.getDay(),l=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function Q2(e){return Fv(e,{weekStartsOn:1})}const $8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F8=(e,t,n)=>{let r;const i=$8[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const B8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H8={date:cm({formats:B8,defaultWidth:"full"}),time:cm({formats:U8,defaultWidth:"full"}),dateTime:cm({formats:W8,defaultWidth:"full"})},V8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q8=(e,t,n,r)=>V8[e];function dl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):l;i=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const K8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X8=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ez={ordinalNumber:X8,era:dl({values:K8,defaultWidth:"wide"}),quarter:dl({values:Z8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dl({values:G8,defaultWidth:"wide"}),day:dl({values:Y8,defaultWidth:"wide"}),dayPeriod:dl({values:Q8,defaultWidth:"wide",formattingValues:J8,defaultFormattingWidth:"wide"})};function ul(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?nz(d,p=>p.test(l)):tz(d,p=>p.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}function tz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function nz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function rz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(i.length);return{value:l,rest:d}}}const sz=/^(\d+)(th|st|nd|rd)?/i,iz=/\d+/i,az={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oz={any:[/^b/i,/^(a|c)/i]},lz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cz={any:[/1/i,/2/i,/3/i,/4/i]},dz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gz={ordinalNumber:rz({matchPattern:sz,parsePattern:iz,valueCallback:e=>parseInt(e,10)}),era:ul({matchPatterns:az,defaultMatchWidth:"wide",parsePatterns:oz,defaultParseWidth:"any"}),quarter:ul({matchPatterns:lz,defaultMatchWidth:"wide",parsePatterns:cz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ul({matchPatterns:dz,defaultMatchWidth:"wide",parsePatterns:uz,defaultParseWidth:"any"}),day:ul({matchPatterns:hz,defaultMatchWidth:"wide",parsePatterns:fz,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:mz,defaultMatchWidth:"any",parsePatterns:pz,defaultParseWidth:"any"})},J2={code:"en-US",formatDistance:F8,formatLong:H8,formatRelative:q8,localize:ez,match:gz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vz(e){const t=qe(e);return Dr(t,Y2(t))+1}function X2(e){const t=qe(e),n=+ea(t)-+M8(t);return Math.round(n/Dv)+1}function ek(e,t){var m,p,x,y;const n=qe(e),r=n.getFullYear(),i=Ec(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(x=i.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,l=An(e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const d=Ur(l,t),u=An(e,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const h=Ur(u,t);return n.getTime()>=d.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function xz(e,t){var d,u,h,m;const n=Ec(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=ek(e,t),o=An(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ur(o,t)}function tk(e,t){const n=qe(e),r=+Ur(n,t)-+xz(n,t);return Math.round(r/Dv)+1}function Xe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ks={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xe(n+1,2)},d(e,t){return Xe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xe(e.getHours()%12||12,t.length)},H(e,t){return Xe(e.getHours(),t.length)},m(e,t){return Xe(e.getMinutes(),t.length)},s(e,t){return Xe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xe(i,t.length)}},Ra={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ks.y(e,t)},Y:function(e,t,n,r){const i=ek(e,r),o=i>0?i:1-i;if(t==="YY"){const l=o%100;return Xe(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Xe(o,t.length)},R:function(e,t){const n=G2(e);return Xe(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ks.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=tk(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Xe(i,t.length)},I:function(e,t,n){const r=X2(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Xe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ks.d(e,t)},D:function(e,t,n){const r=vz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Xe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Xe(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Xe(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ra.noon:r===0?i=Ra.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ra.evening:r>=12?i=Ra.afternoon:r>=4?i=Ra.morning:i=Ra.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ks.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ks.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ks.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ks.s(e,t)},S:function(e,t){return ks.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Cw(r);case"XXXX":case"XX":return Pi(r);case"XXXXX":case"XXX":default:return Pi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Cw(r);case"xxxx":case"xx":return Pi(r);case"xxxxx":case"xxx":default:return Pi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kw(r,":");case"OOOO":default:return"GMT"+Pi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kw(r,":");case"zzzz":default:return"GMT"+Pi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Xe(r,t.length)},T:function(e,t,n){const r=e.getTime();return Xe(r,t.length)}};function kw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Xe(o,2)}function Cw(e,t){return e%60===0?(e>0?"-":"+")+Xe(Math.abs(e)/60,2):Pi(e,t)}function Pi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Xe(Math.trunc(r/60),2),o=Xe(r%60,2);return n+i+t+o}const Ew=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Ew(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ew(r,t)).replace("{{time}}",nk(i,t))},wz={p:nk,P:yz},_z=/^D+$/,bz=/^Y+$/,jz=["D","DD","YY","YYYY"];function Nz(e){return _z.test(e)}function Sz(e){return bz.test(e)}function kz(e,t,n){const r=Cz(e,t,n);if(console.warn(r),jz.includes(e))throw new RangeError(r)}function Cz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ez=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tz=/^'([^]*?)'?$/,Oz=/''/g,Rz=/[a-zA-Z]/;function da(e,t,n){var m,p,x,y,k,_,N,S;const r=Ec(),i=(n==null?void 0:n.locale)??r.locale??J2,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((_=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((S=(N=r.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0,d=qe(e);if(!D8(d))throw new RangeError("Invalid time value");let u=t.match(Pz).map(w=>{const b=w[0];if(b==="p"||b==="P"){const C=wz[b];return C(w,i.formatLong)}return w}).join("").match(Ez).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Mz(w)};if(Sw[b])return{isToken:!0,value:w};if(b.match(Rz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(u=i.localize.preprocessor(d,u));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return u.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Sz(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nz(b))&&kz(b,t,String(e));const C=Sw[b[0]];return C(d,b,i.localize,h)}).join("")}function Mz(e){const t=e.match(Tz);return t?t[1].replace(Oz,"'"):e}function Az(e){const t=qe(e),n=t.getFullYear(),r=t.getMonth(),i=An(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Lz(e){return Math.trunc(+qe(e)/1e3)}function Iz(e){const t=qe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Dz(e,t){return z8(Iz(e),wn(e),t)+1}function Zp(e,t){const n=qe(e),r=qe(t);return n.getTime()>r.getTime()}function rk(e,t){const n=qe(e),r=qe(t);return+n<+r}function Bv(e,t){const n=qe(e),r=qe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function zz(e,t){const n=qe(e),r=qe(t);return n.getFullYear()===r.getFullYear()}function dm(e,t){return nn(e,-t)}function um(e,t){const n=qe(e),r=n.getFullYear(),i=n.getDate(),o=An(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const l=Az(o);return n.setMonth(t,Math.min(i,l)),n}function Pw(e,t){const n=qe(e);return isNaN(+n)?An(e,NaN):(n.setFullYear(t),n)}var Ce=function(){return Ce=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ce.apply(this,arguments)};function $z(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sk(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Pc(e){return e.mode==="multiple"}function Tc(e){return e.mode==="range"}function Oh(e){return e.mode==="single"}var Fz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bz(e,t){return da(e,"LLLL y",t)}function Uz(e,t){return da(e,"d",t)}function Wz(e,t){return da(e,"LLLL",t)}function Hz(e){return"".concat(e)}function Vz(e,t){return da(e,"cccccc",t)}function qz(e,t){return da(e,"yyyy",t)}var Kz=Object.freeze({__proto__:null,formatCaption:Bz,formatDay:Uz,formatMonthCaption:Wz,formatWeekNumber:Hz,formatWeekdayName:Vz,formatYearCaption:qz}),Zz=function(e,t,n){return da(e,"do MMMM (EEEE)",n)},Gz=function(){return"Month: "},Yz=function(){return"Go to next month"},Qz=function(){return"Go to previous month"},Jz=function(e,t){return da(e,"cccc",t)},Xz=function(e){return"Week n. ".concat(e)},e$=function(){return"Year: "},t$=Object.freeze({__proto__:null,labelDay:Zz,labelMonthDropdown:Gz,labelNext:Yz,labelPrevious:Qz,labelWeekNumber:Xz,labelWeekday:Jz,labelYearDropdown:e$});function n$(){var e="buttons",t=Fz,n=J2,r={},i={},o=1,l={},d=new Date;return{captionLayout:e,classNames:t,formatters:Kz,labels:t$,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:l,today:d,mode:"default"}}function r$(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,l=e.toDate;return r?o=wn(r):t&&(o=new Date(t,0,1)),i?l=$v(i):n&&(l=new Date(n,11,31)),{fromDate:o?ko(o):void 0,toDate:l?ko(l):void 0}}var ik=v.createContext(void 0);function s$(e){var t,n=e.initialProps,r=n$(),i=r$(n),o=i.fromDate,l=i.toDate,d=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;d!=="buttons"&&(!o||!l)&&(d="buttons");var u;(Oh(n)||Pc(n)||Tc(n))&&(u=n.onSelect);var h=Ce(Ce(Ce({},r),n),{captionLayout:d,classNames:Ce(Ce({},r.classNames),n.classNames),components:Ce({},n.components),formatters:Ce(Ce({},r.formatters),n.formatters),fromDate:o,labels:Ce(Ce({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ce(Ce({},r.modifiers),n.modifiers),modifiersClassNames:Ce(Ce({},r.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:Ce(Ce({},r.styles),n.styles),toDate:l});return s.jsx(ik.Provider,{value:h,children:e.children})}function ot(){var e=v.useContext(ik);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ak(e){var t=ot(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function i$(e){return s.jsx("svg",Ce({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ok(e){var t,n,r=e.onChange,i=e.value,o=e.children,l=e.caption,d=e.className,u=e.style,h=ot(),m=(n=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:i$;return s.jsxs("div",{className:d,style:u,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:r,children:o}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function a$(e){var t,n=ot(),r=n.fromDate,i=n.toDate,o=n.styles,l=n.locale,d=n.formatters.formatMonthCaption,u=n.classNames,h=n.components,m=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var p=[];if(zz(r,i))for(var x=wn(r),y=r.getMonth();y<=i.getMonth();y++)p.push(um(x,y));else for(var x=wn(new Date),y=0;y<=11;y++)p.push(um(x,y));var k=function(N){var S=Number(N.target.value),w=um(wn(e.displayMonth),S);e.onChange(w)},_=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:ok;return s.jsx(_,{name:"months","aria-label":m(),className:u.dropdown_month,style:o.dropdown_month,onChange:k,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:l}),children:p.map(function(N){return s.jsx("option",{value:N.getMonth(),children:d(N,{locale:l})},N.getMonth())})})}function o$(e){var t,n=e.displayMonth,r=ot(),i=r.fromDate,o=r.toDate,l=r.locale,d=r.styles,u=r.classNames,h=r.components,m=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,x=[];if(!i)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var y=i.getFullYear(),k=o.getFullYear(),_=y;_<=k;_++)x.push(Pw(Y2(new Date),_));var N=function(w){var b=Pw(wn(n),Number(w.target.value));e.onChange(b)},S=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:ok;return s.jsx(S,{name:"years","aria-label":p(),className:u.dropdown_year,style:d.dropdown_year,onChange:N,value:n.getFullYear(),caption:m(n,{locale:l}),children:x.map(function(w){return s.jsx("option",{value:w.getFullYear(),children:m(w,{locale:l})},w.getFullYear())})})}function l$(e,t){var n=v.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function c$(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,l=e.fromDate,d=e.numberOfMonths,u=d===void 0?1:d;if(o&&lc(o,i)<0){var h=-1*(u-1);i=gr(o,h)}return l&&lc(i,l)<0&&(i=l),wn(i)}function d$(){var e=ot(),t=c$(e),n=l$(t,e.month),r=n[0],i=n[1],o=function(l){var d;if(!e.disableNavigation){var u=wn(l);i(u),(d=e.onMonthChange)===null||d===void 0||d.call(e,u)}};return[r,o]}function u$(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=wn(e),o=wn(gr(i,r)),l=lc(o,i),d=[],u=0;u<l;u++){var h=gr(i,u);d.push(h)}return n&&(d=d.reverse()),d}function h$(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,d=wn(e);if(!n)return gr(d,l);var u=lc(n,e);if(!(u<o))return gr(d,l)}}function f$(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=r?o:1,d=wn(e);if(!n)return gr(d,-l);var u=lc(d,n);if(!(u<=0))return gr(d,-l)}}var lk=v.createContext(void 0);function m$(e){var t=ot(),n=d$(),r=n[0],i=n[1],o=u$(r,t),l=h$(r,t),d=f$(r,t),u=function(p){return o.some(function(x){return Bv(p,x)})},h=function(p,x){u(p)||(x&&rk(p,x)?i(gr(p,1+t.numberOfMonths*-1)):i(p))},m={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:h,previousMonth:d,nextMonth:l,isDateDisplayed:u};return s.jsx(lk.Provider,{value:m,children:e.children})}function Oc(){var e=v.useContext(lk);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Tw(e){var t,n=ot(),r=n.classNames,i=n.styles,o=n.components,l=Oc().goToMonth,d=function(m){l(gr(m,e.displayIndex?-e.displayIndex:0))},u=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:ak,h=s.jsx(u,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:h}),s.jsx(a$,{onChange:d,displayMonth:e.displayMonth}),s.jsx(o$,{onChange:d,displayMonth:e.displayMonth})]})}function p$(e){return s.jsx("svg",Ce({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function g$(e){return s.jsx("svg",Ce({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var $u=v.forwardRef(function(e,t){var n=ot(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var l=o.join(" "),d=Ce(Ce({},i.button_reset),i.button);return e.style&&Object.assign(d,e.style),s.jsx("button",Ce({},e,{ref:t,type:"button",className:l,style:d}))});function v$(e){var t,n,r=ot(),i=r.dir,o=r.locale,l=r.classNames,d=r.styles,u=r.labels,h=u.labelPrevious,m=u.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var x=h(e.previousMonth,{locale:o}),y=[l.nav_button,l.nav_button_previous].join(" "),k=m(e.nextMonth,{locale:o}),_=[l.nav_button,l.nav_button_next].join(" "),N=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:g$,S=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:p$;return s.jsxs("div",{className:l.nav,style:d.nav,children:[!e.hidePrevious&&s.jsx($u,{name:"previous-month","aria-label":x,className:y,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(N,{className:l.nav_icon,style:d.nav_icon}):s.jsx(S,{className:l.nav_icon,style:d.nav_icon})}),!e.hideNext&&s.jsx($u,{name:"next-month","aria-label":k,className:_,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(S,{className:l.nav_icon,style:d.nav_icon}):s.jsx(N,{className:l.nav_icon,style:d.nav_icon})})]})}function Ow(e){var t=ot().numberOfMonths,n=Oc(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,l=n.displayMonths,d=l.findIndex(function(k){return Bv(e.displayMonth,k)}),u=d===0,h=d===l.length-1,m=t>1&&(u||!h),p=t>1&&(h||!u),x=function(){r&&o(r)},y=function(){i&&o(i)};return s.jsx(v$,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:i,previousMonth:r,onPreviousClick:x,onNextClick:y})}function x$(e){var t,n=ot(),r=n.classNames,i=n.disableNavigation,o=n.styles,l=n.captionLayout,d=n.components,u=(t=d==null?void 0:d.CaptionLabel)!==null&&t!==void 0?t:ak,h;return i?h=s.jsx(u,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?h=s.jsx(Tw,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(Tw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Ow,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Ow,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:o.caption,children:h})}function y$(e){var t=ot(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function w$(e,t,n){for(var r=n?ea(new Date):Ur(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var l=nn(r,o);i.push(l)}return i}function _$(){var e=ot(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,l=e.ISOWeek,d=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,h=w$(i,o,l);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":u(m,{locale:i}),children:d(m,{locale:i})},p)})]})}function b$(){var e,t=ot(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:_$;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(o,{})})}function j$(e){var t=ot(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var Uv=v.createContext(void 0);function N$(e){if(!Pc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Uv.Provider,{value:t,children:e.children})}return s.jsx(S$,{initialProps:e.initialProps,children:e.children})}function S$(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,l=function(h,m,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var k=!!(m.selected&&i&&(r==null?void 0:r.length)===i);if(!k){var _=!!(!m.selected&&o&&(r==null?void 0:r.length)===o);if(!_){var N=r?sk([],r):[];if(m.selected){var S=N.findIndex(function(w){return gn(h,w)});N.splice(S,1)}else N.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,N,h,m,p)}}},d={disabled:[]};r&&d.disabled.push(function(h){var m=o&&r.length>o-1,p=r.some(function(x){return gn(x,h)});return!!(m&&!p)});var u={selected:r,onDayClick:l,modifiers:d};return s.jsx(Uv.Provider,{value:u,children:n})}function Wv(){var e=v.useContext(Uv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function k$(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?gn(i,e)&&gn(r,e)?void 0:gn(i,e)?{from:i,to:void 0}:gn(r,e)?void 0:Zp(r,e)?{from:e,to:i}:{from:r,to:e}:i?Zp(e,i)?{from:i,to:e}:{from:e,to:i}:r?rk(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Hv=v.createContext(void 0);function C$(e){if(!Tc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Hv.Provider,{value:t,children:e.children})}return s.jsx(E$,{initialProps:e.initialProps,children:e.children})}function E$(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,l=i.to,d=t.min,u=t.max,h=function(y,k,_){var N,S;(N=t.onDayClick)===null||N===void 0||N.call(t,y,k,_);var w=k$(y,r);(S=t.onSelect)===null||S===void 0||S.call(t,w,y,k,_)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],l?(m.range_end=[l],gn(o,l)||(m.range_middle=[{after:o,before:l}])):m.range_end=[o]):l&&(m.range_start=[l],m.range_end=[l]),d&&(o&&!l&&m.disabled.push({after:dm(o,d-1),before:nn(o,d-1)}),o&&l&&m.disabled.push({after:o,before:nn(o,d-1)}),!o&&l&&m.disabled.push({after:dm(l,d-1),before:nn(l,d-1)})),u){if(o&&!l&&(m.disabled.push({before:nn(o,-u+1)}),m.disabled.push({after:nn(o,u-1)})),o&&l){var p=Dr(l,o)+1,x=u-p;m.disabled.push({before:dm(o,x)}),m.disabled.push({after:nn(l,x)})}!o&&l&&(m.disabled.push({before:nn(l,-u+1)}),m.disabled.push({after:nn(l,u-1)}))}return s.jsx(Hv.Provider,{value:{selected:r,onDayClick:h,modifiers:m},children:n})}function Vv(){var e=v.useContext(Hv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Yd(e){return Array.isArray(e)?sk([],e):e!==void 0?[e]:[]}function P$(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Yd(i)}),t}var vr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vr||(vr={}));var T$=vr.Selected,Jr=vr.Disabled,O$=vr.Hidden,R$=vr.Today,hm=vr.RangeEnd,fm=vr.RangeMiddle,mm=vr.RangeStart,M$=vr.Outside;function A$(e,t,n){var r,i=(r={},r[T$]=Yd(e.selected),r[Jr]=Yd(e.disabled),r[O$]=Yd(e.hidden),r[R$]=[e.today],r[hm]=[],r[fm]=[],r[mm]=[],r[M$]=[],r);return e.fromDate&&i[Jr].push({before:e.fromDate}),e.toDate&&i[Jr].push({after:e.toDate}),Pc(e)?i[Jr]=i[Jr].concat(t.modifiers[Jr]):Tc(e)&&(i[Jr]=i[Jr].concat(n.modifiers[Jr]),i[mm]=n.modifiers[mm],i[fm]=n.modifiers[fm],i[hm]=n.modifiers[hm]),i}var ck=v.createContext(void 0);function L$(e){var t=ot(),n=Wv(),r=Vv(),i=A$(t,n,r),o=P$(t.modifiers),l=Ce(Ce({},i),o);return s.jsx(ck.Provider,{value:l,children:e.children})}function dk(){var e=v.useContext(ck);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function I$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function D$(e){return!!(e&&typeof e=="object"&&"from"in e)}function z$(e){return!!(e&&typeof e=="object"&&"after"in e)}function $$(e){return!!(e&&typeof e=="object"&&"before"in e)}function F$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function B$(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=Dr(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var l=Dr(e,r)>=0&&Dr(i,e)>=0;return l}return i?gn(i,e):r?gn(r,e):!1}function U$(e){return zv(e)}function W$(e){return Array.isArray(e)&&e.every(zv)}function H$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(U$(n))return gn(e,n);if(W$(n))return n.includes(e);if(D$(n))return B$(e,n);if(F$(n))return n.dayOfWeek.includes(e.getDay());if(I$(n)){var r=Dr(n.before,e),i=Dr(n.after,e),o=r>0,l=i<0,d=Zp(n.before,n.after);return d?l&&o:o||l}return z$(n)?Dr(e,n.after)>0:$$(n)?Dr(n.before,e)>0:typeof n=="function"?n(e):!1})}function qv(e,t,n){var r=Object.keys(t).reduce(function(o,l){var d=t[l];return H$(e,d)&&o.push(l),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!Bv(e,n)&&(i.outside=!0),i}function V$(e,t){for(var n=wn(e[0]),r=$v(e[e.length-1]),i,o,l=n;l<=r;){var d=qv(l,t),u=!d.disabled&&!d.hidden;if(!u){l=nn(l,1);continue}if(d.selected)return l;d.today&&!o&&(o=l),i||(i=l),l=nn(l,1)}return o||i}var q$=365;function uk(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,l=t.retry,d=l===void 0?{count:0,lastFocused:e}:l,u=i.weekStartsOn,h=i.fromDate,m=i.toDate,p=i.locale,x={day:nn,week:Kp,month:gr,year:A8,startOfWeek:function(N){return i.ISOWeek?ea(N):Ur(N,{locale:p,weekStartsOn:u})},endOfWeek:function(N){return i.ISOWeek?Q2(N):Fv(N,{locale:p,weekStartsOn:u})}},y=x[n](e,r==="after"?1:-1);r==="before"&&h?y=L8([h,y]):r==="after"&&m&&(y=I8([m,y]));var k=!0;if(o){var _=qv(y,o);k=!_.disabled&&!_.hidden}return k?y:d.count>q$?d.lastFocused:uk(y,{moveBy:n,direction:r,context:i,modifiers:o,retry:Ce(Ce({},d),{count:d.count+1})})}var hk=v.createContext(void 0);function K$(e){var t=Oc(),n=dk(),r=v.useState(),i=r[0],o=r[1],l=v.useState(),d=l[0],u=l[1],h=V$(t.displayMonths,n),m=i??(d&&t.isDateDisplayed(d))?d:h,p=function(){u(i),o(void 0)},x=function(N){o(N)},y=ot(),k=function(N,S){if(i){var w=uk(i,{moveBy:N,direction:S,context:y,modifiers:n});gn(i,w)||(t.goToDate(w,i),x(w))}},_={focusedDay:i,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return k("day","after")},focusDayBefore:function(){return k("day","before")},focusWeekAfter:function(){return k("week","after")},focusWeekBefore:function(){return k("week","before")},focusMonthBefore:function(){return k("month","before")},focusMonthAfter:function(){return k("month","after")},focusYearBefore:function(){return k("year","before")},focusYearAfter:function(){return k("year","after")},focusStartOfWeek:function(){return k("startOfWeek","before")},focusEndOfWeek:function(){return k("endOfWeek","after")}};return s.jsx(hk.Provider,{value:_,children:e.children})}function Kv(){var e=v.useContext(hk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Z$(e,t){var n=dk(),r=qv(e,n,t);return r}var Zv=v.createContext(void 0);function G$(e){if(!Oh(e.initialProps)){var t={selected:void 0};return s.jsx(Zv.Provider,{value:t,children:e.children})}return s.jsx(Y$,{initialProps:e.initialProps,children:e.children})}function Y$(e){var t=e.initialProps,n=e.children,r=function(o,l,d){var u,h,m;if((u=t.onDayClick)===null||u===void 0||u.call(t,o,l,d),l.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,o,l,d);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,l,d)},i={selected:t.selected,onDayClick:r};return s.jsx(Zv.Provider,{value:i,children:n})}function fk(){var e=v.useContext(Zv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Q$(e,t){var n=ot(),r=fk(),i=Wv(),o=Vv(),l=Kv(),d=l.focusDayAfter,u=l.focusDayBefore,h=l.focusWeekAfter,m=l.focusWeekBefore,p=l.blur,x=l.focus,y=l.focusMonthBefore,k=l.focusMonthAfter,_=l.focusYearBefore,N=l.focusYearAfter,S=l.focusStartOfWeek,w=l.focusEndOfWeek,b=function(B){var T,K,U,W;Oh(n)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,B):Pc(n)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,B):Tc(n)?(U=o.onDayClick)===null||U===void 0||U.call(o,e,t,B):(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,B)},C=function(B){var T;x(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,B)},P=function(B){var T;p(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,B)},I=function(B){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,B)},M=function(B){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,B)},$=function(B){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,B)},H=function(B){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,B)},G=function(B){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,B)},Y=function(B){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,B)},X=function(B){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,B)},J=function(B){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,B)},O=function(B){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,B)},Z=function(B){var T;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?d():u();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?u():d();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),h();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),m();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?_():y();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?N():k();break;case"Home":B.preventDefault(),B.stopPropagation(),S();break;case"End":B.preventDefault(),B.stopPropagation(),w();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,B)},V={onClick:b,onFocus:C,onBlur:P,onKeyDown:Z,onKeyUp:O,onMouseEnter:I,onMouseLeave:M,onPointerEnter:$,onPointerLeave:H,onTouchCancel:G,onTouchEnd:Y,onTouchMove:X,onTouchStart:J};return V}function J$(){var e=ot(),t=fk(),n=Wv(),r=Vv(),i=Oh(e)?t.selected:Pc(e)?n.selected:Tc(e)?r.selected:void 0;return i}function X$(e){return Object.values(vr).includes(e)}function eF(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(X$(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function tF(e,t){var n=Ce({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Ce(Ce({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function nF(e,t,n){var r,i,o,l=ot(),d=Kv(),u=Z$(e,t),h=Q$(e,u),m=J$(),p=!!(l.onDayClick||l.mode!=="default");v.useEffect(function(){var I;u.outside||d.focusedDay&&p&&gn(d.focusedDay,e)&&((I=n.current)===null||I===void 0||I.focus())},[d.focusedDay,e,n,p,u.outside]);var x=eF(l,u).join(" "),y=tF(l,u),k=!!(u.outside&&!l.showOutsideDays||u.hidden),_=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:j$,N=s.jsx(_,{date:e,displayMonth:t,activeModifiers:u}),S={style:y,className:x,children:N,role:"gridcell"},w=d.focusTarget&&gn(d.focusTarget,e)&&!u.outside,b=d.focusedDay&&gn(d.focusedDay,e),C=Ce(Ce(Ce({},S),(r={disabled:u.disabled,role:"gridcell"},r["aria-selected"]=u.selected,r.tabIndex=b||w?0:-1,r)),h),P={isButton:p,isHidden:k,activeModifiers:u,selectedDays:m,buttonProps:C,divProps:S};return P}function rF(e){var t=v.useRef(null),n=nF(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx($u,Ce({name:"day",ref:t},n.buttonProps)):s.jsx("div",Ce({},n.divProps))}function sF(e){var t=e.number,n=e.dates,r=ot(),i=r.onWeekNumberClick,o=r.styles,l=r.classNames,d=r.locale,u=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,m=h(Number(t),{locale:d});if(!i)return s.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:m});var p=u(Number(t),{locale:d}),x=function(y){i(t,n,y)};return s.jsx($u,{name:"week-number","aria-label":p,className:l.weeknumber,style:o.weeknumber,onClick:x,children:m})}function iF(e){var t,n,r=ot(),i=r.styles,o=r.classNames,l=r.showWeekNumber,d=r.components,u=(t=d==null?void 0:d.Day)!==null&&t!==void 0?t:rF,h=(n=d==null?void 0:d.WeekNumber)!==null&&n!==void 0?n:sF,m;return l&&(m=s.jsx("td",{className:o.cell,style:i.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:i.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:s.jsx(u,{displayMonth:e.displayMonth,date:p})},Lz(p))})]})}function Rw(e,t,n){for(var r=n!=null&&n.ISOWeek?Q2(t):Fv(t,n),i=n!=null&&n.ISOWeek?ea(e):Ur(e,n),o=Dr(r,i),l=[],d=0;d<=o;d++)l.push(nn(i,d));var u=l.reduce(function(h,m){var p=n!=null&&n.ISOWeek?X2(m):tk(m,n),x=h.find(function(y){return y.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return u}function aF(e,t){var n=Rw(wn(e),$v(e),t);if(t!=null&&t.useFixedWeeks){var r=Dz(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],l=Kp(o,6-r),d=Rw(Kp(o,1),l,t);n.push.apply(n,d)}}return n}function oF(e){var t,n,r,i=ot(),o=i.locale,l=i.classNames,d=i.styles,u=i.hideHead,h=i.fixedWeeks,m=i.components,p=i.weekStartsOn,x=i.firstWeekContainsDate,y=i.ISOWeek,k=aF(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:o,weekStartsOn:p,firstWeekContainsDate:x}),_=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:b$,N=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:iF,S=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:y$;return s.jsxs("table",{id:e.id,className:l.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&s.jsx(_,{}),s.jsx("tbody",{className:l.tbody,style:d.tbody,children:k.map(function(w){return s.jsx(N,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),s.jsx(S,{displayMonth:e.displayMonth})]})}function lF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cF=lF()?v.useLayoutEffect:v.useEffect,pm=!1,dF=0;function Mw(){return"react-day-picker-".concat(++dF)}function uF(e){var t,n=e??(pm?Mw():null),r=v.useState(n),i=r[0],o=r[1];return cF(function(){i===null&&o(Mw())},[]),v.useEffect(function(){pm===!1&&(pm=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function hF(e){var t,n,r=ot(),i=r.dir,o=r.classNames,l=r.styles,d=r.components,u=Oc().displayMonths,h=uF(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],x=l.month,y=e.displayIndex===0,k=e.displayIndex===u.length-1,_=!y&&!k;i==="rtl"&&(t=[y,k],k=t[0],y=t[1]),y&&(p.push(o.caption_start),x=Ce(Ce({},x),l.caption_start)),k&&(p.push(o.caption_end),x=Ce(Ce({},x),l.caption_end)),_&&(p.push(o.caption_between),x=Ce(Ce({},x),l.caption_between));var N=(n=d==null?void 0:d.Caption)!==null&&n!==void 0?n:x$;return s.jsxs("div",{className:p.join(" "),style:x,children:[s.jsx(N,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(oF,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function fF(e){var t=ot(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function mF(e){var t,n,r=e.initialProps,i=ot(),o=Kv(),l=Oc(),d=v.useState(!1),u=d[0],h=d[1];v.useEffect(function(){i.initialFocus&&o.focusTarget&&(u||(o.focus(o.focusTarget),h(!0)))},[i.initialFocus,u,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var p=Ce(Ce({},i.styles.root),i.style),x=Object.keys(r).filter(function(k){return k.startsWith("data-")}).reduce(function(k,_){var N;return Ce(Ce({},k),(N={},N[_]=r[_],N))},{}),y=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:fF;return s.jsx("div",Ce({className:m.join(" "),style:p,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:s.jsx(y,{children:l.displayMonths.map(function(k,_){return s.jsx(hF,{displayIndex:_,displayMonth:k},_)})})}))}function pF(e){var t=e.children,n=$z(e,["children"]);return s.jsx(s$,{initialProps:n,children:s.jsx(m$,{children:s.jsx(G$,{initialProps:n,children:s.jsx(N$,{initialProps:n,children:s.jsx(C$,{initialProps:n,children:s.jsx(L$,{children:s.jsx(K$,{children:t})})})})})})})}function gF(e){return s.jsx(pF,Ce({},e,{children:s.jsx(mF,{initialProps:e})}))}function mk({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(gF,{showOutsideDays:n,className:Te("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Te(Np({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Te(Np({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(ZT,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(GT,{className:"h-4 w-4"})},...r})}mk.displayName="Calendar";const vF=()=>{const e=Ke(),{toast:t}=vt(),[n,r]=v.useState(new Date),i=[{day:"Monday",date:"Oct 14",shifts:[{time:"7:00 AM - 3:00 PM",routes:3,status:"completed",earnings:"OMR 42.30"}]},{day:"Tuesday",date:"Oct 15",shifts:[{time:"7:00 AM - 3:00 PM",routes:3,status:"completed",earnings:"OMR 38.90"}]},{day:"Wednesday",date:"Oct 16",shifts:[{time:"7:00 AM - 3:00 PM",routes:3,status:"active",earnings:"OMR 45.50"}]},{day:"Thursday",date:"Oct 17",shifts:[],status:"off"},{day:"Friday",date:"Oct 18",shifts:[{time:"2:00 PM - 8:00 PM",routes:2,status:"scheduled",earnings:"OMR 25.00 est."}]},{day:"Saturday",date:"Oct 19",shifts:[{time:"7:00 AM - 12:00 PM",routes:2,status:"scheduled",earnings:"OMR 20.00 est."}]},{day:"Sunday",date:"Oct 20",shifts:[],status:"off"}],o=[{id:1,day:"Thursday",date:"Oct 17",time:"7:00 AM - 2:00 PM",routes:3,estimatedEarnings:"OMR 35.00"},{id:2,day:"Sunday",date:"Oct 20",time:"8:00 AM - 1:00 PM",routes:2,estimatedEarnings:"OMR 22.00"}],l=()=>{t({title:"Day Off Requested",description:"Your request has been submitted for approval"})},d=h=>{t({title:"Shift Added!",description:"New shift has been added to your schedule"})},u=h=>{switch(h){case"completed":return s.jsx(Pe,{className:"bg-green-500",children:"Completed"});case"active":return s.jsx(Pe,{className:"bg-blue-500",children:"Active"});case"scheduled":return s.jsx(Pe,{variant:"secondary",children:"Scheduled"});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[s.jsxs("div",{className:"container mx-auto max-w-7xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver/dashboard"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Schedule Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your shifts and routes"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",onClick:l,children:[s.jsx(Yt,{className:"mr-2 w-4 h-4"}),"Request Day Off"]}),s.jsxs(z,{variant:"hero",children:[s.jsx(aO,{className:"mr-2 w-4 h-4"}),"Swap Shift"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Calendar"}),s.jsx(mk,{mode:"single",selected:n,onSelect:r,className:"rounded-md border"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"This Week's Schedule"}),s.jsx("div",{className:"space-y-4",children:i.map((h,m)=>s.jsxs("div",{className:`p-4 rounded-lg border ${h.day==="Wednesday"?"border-primary bg-primary/5":"border-border"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:h.day}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.date})]}),h.status==="off"?s.jsx(Pe,{variant:"secondary",children:"OFF"}):null]}),h.shifts.length>0?s.jsx("div",{className:"space-y-3 mt-4",children:h.shifts.map((p,x)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(wt,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:p.time}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.routes," routes"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-primary font-bold",children:p.earnings}),u(p.status)]})]},x))}):h.status!=="off"?s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No shifts scheduled"}):null]},m))})]}),s.jsxs(ne,{className:"glass-card p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Available Shifts to Pick Up"}),s.jsx("div",{className:"space-y-4",children:o.map(h=>s.jsxs("div",{className:"p-4 rounded-lg border border-border hover:bg-secondary/5 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg",children:[h.day,", ",h.date]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-sm flex items-center gap-2",children:[s.jsx(wt,{className:"w-4 h-4"}),h.time]}),s.jsxs("span",{className:"text-sm flex items-center gap-2",children:[s.jsx(at,{className:"w-4 h-4"}),h.routes," routes"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated"}),s.jsx("p",{className:"text-xl font-bold text-primary",children:h.estimatedEarnings})]})]}),s.jsxs(z,{variant:"hero",size:"sm",className:"w-full",onClick:()=>d(h.id),children:[s.jsx(_o,{className:"mr-2 w-4 h-4"}),"Pick Up This Shift"]})]},h.id))})]})]})]})]}),s.jsx(yr,{})]})},xF=()=>{var p;const e=Ke(),{toast:t}=vt(),[n,r]=v.useState([]),[i,o]=v.useState(!0),[l,d]=v.useState(new Date().toISOString().split("T")[0]);v.useEffect(()=>{u()},[l]);const u=async()=>{try{const{data:{user:x}}=await me.auth.getUser();if(!x){e("/driver-login");return}const{data:y}=await me.from("drivers").select("id").eq("user_id",x.id).single();if(!y)return;const{data:k,error:_}=await me.from("routes").select(`
          *,
          attendance!inner(*)
        `).eq("driver_id",y.id).eq("attendance.date",l);if(_)throw _;const N=[],S=new Map;k==null||k.forEach(w=>{S.has(w.id)||S.set(w.id,{id:w.id,route_name:w.route_name,start_location:w.start_location,end_location:w.end_location,start_time:w.start_time,passenger_count:w.passenger_count,attendance:[]}),w.attendance&&S.get(w.id).attendance.push(w.attendance)}),r(Array.from(S.values()))}catch(x){console.error("Error fetching attendance:",x),t({title:"Error",description:"Failed to load attendance data",variant:"destructive"})}finally{o(!1)}},h=async x=>{try{t({title:"Optimizing Route",description:"AI is analyzing attendance to optimize your route..."});const y=n.find(N=>N.id===x);if(!y)return;const{data:k,error:_}=await me.functions.invoke("ai-reroute",{body:{routeId:x,attendance:y.attendance}});if(_)throw _;t({title:"Route Optimized!",description:`Time saved: ${k.timeSaved}, Distance saved: ${k.distanceSaved}`})}catch(y){console.error("Error optimizing route:",y),t({title:"Error",description:"Failed to optimize route",variant:"destructive"})}},m=x=>{const y=x.filter(S=>S.status==="present").length,k=x.filter(S=>S.status==="absent").length,_=x.length,N=_>0?Math.round(y/_*100):0;return{present:y,absent:k,total:_,rate:N}};return i?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading attendance..."})}):s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"container mx-auto max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>e("/driver"),children:s.jsx(zt,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Student Attendance"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage daily attendance"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("input",{type:"date",value:l,onChange:x=>d(x.target.value),className:"px-4 py-2 rounded-lg border bg-card text-foreground"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:n.map(x=>{const y=m(x.attendance);return s.jsxs(ne,{className:"glass-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),s.jsxs(Pe,{variant:y.rate>=80?"default":"secondary",children:[y.rate,"%"]})]}),s.jsx("h3",{className:"font-semibold text-sm",children:x.route_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.present," present, ",y.absent," absent"]})]},x.id)})}),s.jsxs(Cc,{defaultValue:(p=n[0])==null?void 0:p.id,className:"w-full",children:[s.jsx(Do,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${n.length}, 1fr)`},children:n.map(x=>s.jsx(Bt,{value:x.id,children:x.route_name},x.id))}),n.map(x=>{const y=m(x.attendance);return s.jsxs(Al,{value:x.id,className:"space-y-4",children:[s.jsxs(ne,{className:"glass-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:x.route_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.start_location,"  ",x.end_location]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx(wt,{className:"inline w-3 h-3 mr-1"}),"Departure: ",new Date(x.start_time).toLocaleTimeString()]})]}),s.jsxs(z,{variant:"hero",onClick:()=>h(x.id),children:[s.jsx(fi,{className:"mr-2 w-4 h-4"}),"Optimize Route"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 rounded-lg bg-card/50 border",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-500",children:y.present}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Present"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-500",children:y.absent}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Absent"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[y.rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold",children:"Student Attendance Details"}),x.attendance.length===0?s.jsxs(ne,{className:"glass-card p-6 text-center",children:[s.jsx(Yt,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"No attendance marked yet"})]}):x.attendance.map(k=>s.jsx(ne,{className:"glass-card p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[k.status==="present"?s.jsx(Vn,{className:"w-5 h-5 text-green-500"}):s.jsx(yc,{className:"w-5 h-5 text-red-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Student ID: ",k.student_id.slice(0,8),"..."]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marked at ",new Date(k.marked_at).toLocaleTimeString()]})]})]}),s.jsx(Pe,{variant:k.status==="present"?"default":"secondary",className:k.status==="present"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20",children:k.status==="present"?"Present":"Absent"})]})},k.id))]})]},x.id)})]})]})})},yF=new DM,wF=()=>s.jsx($M,{client:yF,children:s.jsxs(fM,{children:[s.jsx(YO,{}),s.jsx(ER,{}),s.jsx(LA,{children:s.jsxs(EA,{children:[s.jsx(ze,{path:"/",element:s.jsx(BA,{})}),s.jsx(ze,{path:"/splash",element:s.jsx(UA,{})}),s.jsx(ze,{path:"/role-selection",element:s.jsx(ZA,{})}),s.jsx(ze,{path:"/onboarding",element:s.jsx(GA,{})}),s.jsx(ze,{path:"/auth",element:s.jsx(O3,{})}),s.jsx(ze,{path:"/driver",element:s.jsx(K3,{})}),s.jsx(ze,{path:"/student",element:s.jsx(l5,{})}),s.jsx(ze,{path:"/student-attendance",element:s.jsx(T5,{})}),s.jsx(ze,{path:"/driver-profile",element:s.jsx(k5,{})}),s.jsx(ze,{path:"/student-profile",element:s.jsx(C5,{})}),s.jsx(ze,{path:"/analytics",element:s.jsx(O5,{})}),s.jsx(ze,{path:"/driver-verification",element:s.jsx(R5,{})}),s.jsx(ze,{path:"/live-tracking",element:s.jsx($5,{})}),s.jsx(ze,{path:"/tracking",element:s.jsx(M5,{})}),s.jsx(ze,{path:"/settings",element:s.jsx(Y5,{})}),s.jsx(ze,{path:"/mode-selection",element:s.jsx(J5,{})}),s.jsx(ze,{path:"/leaderboard",element:s.jsx(X5,{})}),s.jsx(ze,{path:"/request-ride",element:s.jsx(aD,{})}),s.jsx(ze,{path:"/offer-ride",element:s.jsx(cD,{})}),s.jsx(ze,{path:"/my-vehicles",element:s.jsx(x6,{})}),s.jsx(ze,{path:"/wallet",element:s.jsx(L6,{})}),s.jsx(ze,{path:"/driver-login",element:s.jsx(I6,{})}),s.jsx(ze,{path:"/driver/dashboard",element:s.jsx(z6,{})}),s.jsx(ze,{path:"/driver/routes",element:s.jsx($6,{})}),s.jsx(ze,{path:"/driver/earnings",element:s.jsx(F6,{})}),s.jsx(ze,{path:"/driver/passengers",element:s.jsx(V6,{})}),s.jsx(ze,{path:"/driver/vehicle",element:s.jsx(q6,{})}),s.jsx(ze,{path:"/driver/navigation",element:s.jsx(K6,{})}),s.jsx(ze,{path:"/driver/stats",element:s.jsx(Z6,{})}),s.jsx(ze,{path:"/driver/notifications",element:s.jsx(G6,{})}),s.jsx(ze,{path:"/driver/profile",element:s.jsx(Y6,{})}),s.jsx(ze,{path:"/driver/emergency",element:s.jsx(P8,{})}),s.jsx(ze,{path:"/driver/messages",element:s.jsx(T8,{})}),s.jsx(ze,{path:"/driver/schedule",element:s.jsx(vF,{})}),s.jsx(ze,{path:"/driver/attendance",element:s.jsx(xF,{})}),s.jsx(ze,{path:"*",element:s.jsx(Q5,{})})]})})]})});t1(document.getElementById("root")).render(s.jsx(wF,{}));
